{"mappings":"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","sources":["src/sudo-sweep/index.js"],"sourcesContent":["const white = '#ffffff';\nconst light = '#EAF2F1';\nconst mid = '#64b6ac';\nconst dark = '#5d737e';\n\nlet sudo;\nlet sweep;\n\nlet validation;\nlet win = false;\nlet lose = false;\n\nlet startTime = '';\nlet timeElapsed = '';\n\nlet w = 2;\nlet h = 2;\nlet subw = 2;\nlet subh = 2;\n\nlet sizes = [\n  [2, 2],\n  [3, 2],\n  [3, 2],\n  [3, 3],\n  [3, 3],\n];\nlet subsizes = [\n  [2, 2],\n  [3, 2],\n  [3, 3],\n  [3, 3],\n  [4, 4],\n];\nlet size = 0;\n\nconst parent = document.querySelector('.main');\n\nlet fontRegular;\n\nfunction preload() {\n  fontRegular = loadFont('../assets/Creepster-Regular.ttf');\n}\n\nfunction setup() {\n  const CANVAS = createCanvas(parent.offsetWidth, parent.offsetHeight);\n  CANVAS.parent('SudoSweep');\n  createBackground();\n\n  sudo = new Sudoku(width / 2 - 60 * w * h - 30, height / 2 - 30 * w * h, w, h, fontRegular);\n  sweep = new Minesweeper(width / 2 + 30, height / 2 - 30 * w * h, w, h, subw, subh, fontRegular);\n  sweep.setMines(sudo.grid);\n\n  document.addEventListener('contextmenu', (event) => event.preventDefault());\n\n  select('#refresh').mousePressed(() => newPuzzle());\n  select('#size').mousePressed(() => {\n    size++;\n    if (size > 4) {\n      size = 0;\n    }\n    w = sizes[size][0];\n    h = sizes[size][1];\n    subw = subsizes[size][0];\n    subh = subsizes[size][1];\n    newPuzzle();\n  });\n  noLoop();\n}\n\nfunction windowResized() {\n  windowResizeHandler();\n}\n\ndocument.querySelector('.screen').addEventListener('click', () => setTimeout(windowResizeHandler, 5));\n\n// @see https://stackoverflow.com/a/51600005\nfunction windowResizeHandler() {\n  resizeCanvas(parent.offsetWidth, parent.offsetHeight);\n  background(dark);\n  sudo.draw();\n  sweep.draw();\n}\n\nfunction draw() {\n  validation = sudo.validate() && sweep.validate();\n\n  if (validation || win) {\n    background(mid);\n    displayTime();\n  } else if (lose) {\n    displayTime();\n  } else {\n    updatePixels();\n  }\n  sudo.draw();\n  sweep.draw();\n}\n\nfunction mousePressed() {\n  sweep.clicked(mouseX, mouseY);\n  sudo.clicked(mouseX, mouseY);\n\n  draw();\n}\n\nfunction createBackground() {\n  for (let i = 0; i < parent.offsetWidth; i++) {\n    for (let j = 0; j < parent.offsetHeight; j++) {\n      if (random() > 0.5) {\n        set(i, j, color('#5E7480'));\n      } else {\n        set(i, j, color('#5A707A'));\n      }\n    }\n  }\n  updatePixels();\n}\n\nfunction displayTime() {\n  if (timeElapsed === '') {\n    timeElapsed = new Date();\n    timeElapsed = timeElapsed.getTime();\n\n    if (startTime === '') {\n      startTime = timeElapsed;\n    }\n    timeElapsed = (timeElapsed - startTime) / 1000;\n    timeElapsed += ' seconds';\n  }\n  fill(white);\n  textSize(30);\n  textFont(fontRegular);\n  textAlign(CENTER, CENTER);\n  text(timeElapsed, width / 2, 50);\n}\n\nfunction newPuzzle() {\n  sudo = new Sudoku(width / 2 - 60 * w * h - 30, height / 2 - 30 * w * h, w, h);\n  sweep = new Minesweeper(width / 2 + 30, height / 2 - 30 * w * h, w, h, subw, subh);\n  sweep.setMines(sudo.grid);\n\n  startTime = '';\n  timeElapsed = '';\n  validation = false;\n  lose = false;\n}\n"],"names":[],"version":3,"file":"index.1d71053f.js.map"}