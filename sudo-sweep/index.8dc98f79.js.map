{"mappings":"ICKI,EACA,EA8BJ,MAAM,EAAS,SAAS,aAAa,CAAC,SAmCtC,SAAS,IACP,aAAa,EAAO,WAAW,CAAE,EAAO,YAAY,EACpD,WAtEW,WAuEX,EAAK,IAAI,GACT,EAAM,IAAI,EACZ,CARA,SAAS,aAAa,CAAC,WAAW,gBAAgB,CAAC,QAAS,IAAM,WAAW,EAAqB","sources":["<anon>","src/sudo-sweep/index.js"],"sourcesContent":["const white = \"#ffffff\";\nconst light = \"#EAF2F1\";\nconst mid = \"#64b6ac\";\nconst dark = \"#5d737e\";\nlet sudo;\nlet sweep;\nlet validation;\nlet win = false;\nlet lose = false;\nlet startTime = \"\";\nlet timeElapsed = \"\";\nlet w = 2;\nlet h = 2;\nlet subw = 2;\nlet subh = 2;\nlet sizes = [\n    [\n        2,\n        2\n    ],\n    [\n        3,\n        2\n    ],\n    [\n        3,\n        2\n    ],\n    [\n        3,\n        3\n    ],\n    [\n        3,\n        3\n    ]\n];\nlet subsizes = [\n    [\n        2,\n        2\n    ],\n    [\n        3,\n        2\n    ],\n    [\n        3,\n        3\n    ],\n    [\n        3,\n        3\n    ],\n    [\n        4,\n        4\n    ]\n];\nlet size = 0;\nconst parent = document.querySelector(\".main\");\nfunction setup() {\n    const CANVAS = createCanvas(parent.offsetWidth, parent.offsetHeight);\n    CANVAS.parent(\"SudoSweep\");\n    createBackground();\n    sudo = new Sudoku(width / 2 - 60 * w * h - 30, height / 2 - 30 * w * h, w, h);\n    sweep = new Minesweeper(width / 2 + 30, height / 2 - 30 * w * h, w, h, subw, subh);\n    sweep.setMines(sudo.grid);\n    document.addEventListener(\"contextmenu\", (event)=>event.preventDefault());\n    select(\"#refresh\").mousePressed(()=>newPuzzle());\n    select(\"#size\").mousePressed(()=>{\n        size++;\n        if (size > 4) size = 0;\n        w = sizes[size][0];\n        h = sizes[size][1];\n        subw = subsizes[size][0];\n        subh = subsizes[size][1];\n        newPuzzle();\n    });\n    noLoop();\n}\nfunction windowResized() {\n    windowResizeHandler();\n}\ndocument.querySelector(\".screen\").addEventListener(\"click\", ()=>setTimeout(windowResizeHandler, 5));\n// @see https://stackoverflow.com/a/51600005\nfunction windowResizeHandler() {\n    resizeCanvas(parent.offsetWidth, parent.offsetHeight);\n    background(dark);\n    sudo.draw();\n    sweep.draw();\n}\nfunction draw() {\n    validation = sudo.validate() && sweep.validate();\n    if (validation || win) {\n        background(mid);\n        displayTime();\n    } else if (lose) displayTime();\n    else updatePixels();\n    sudo.draw();\n    sweep.draw();\n}\nfunction mousePressed() {\n    sweep.clicked(mouseX, mouseY);\n    sudo.clicked(mouseX, mouseY);\n    draw();\n}\nfunction createBackground() {\n    for(let i = 0; i < parent.offsetWidth; i++){\n        for(let j = 0; j < parent.offsetHeight; j++)if (random() > 0.5) set(i, j, color(\"#5E7480\"));\n        else set(i, j, color(\"#5A707A\"));\n    }\n    updatePixels();\n}\nfunction displayTime() {\n    if (timeElapsed === \"\") {\n        timeElapsed = new Date();\n        timeElapsed = timeElapsed.getTime();\n        if (startTime === \"\") startTime = timeElapsed;\n        timeElapsed = (timeElapsed - startTime) / 1000;\n        timeElapsed += \" seconds\";\n    }\n    fill(white);\n    textSize(30);\n    textFont(\"Fira Code\");\n    textAlign(CENTER, CENTER);\n    text(timeElapsed, width / 2, 50);\n}\nfunction newPuzzle() {\n    sudo = new Sudoku(width / 2 - 60 * w * h - 30, height / 2 - 30 * w * h, w, h);\n    sweep = new Minesweeper(width / 2 + 30, height / 2 - 30 * w * h, w, h, subw, subh);\n    sweep.setMines(sudo.grid);\n    startTime = \"\";\n    timeElapsed = \"\";\n    validation = false;\n    lose = false;\n}\n\n//# sourceMappingURL=index.8dc98f79.js.map\n","const white = '#ffffff';\nconst light = '#EAF2F1';\nconst mid = '#64b6ac';\nconst dark = '#5d737e';\n\nlet sudo;\nlet sweep;\n\nlet validation;\nlet win = false;\nlet lose = false;\n\nlet startTime = '';\nlet timeElapsed = '';\n\nlet w = 2;\nlet h = 2;\nlet subw = 2;\nlet subh = 2;\n\nlet sizes = [\n  [2, 2],\n  [3, 2],\n  [3, 2],\n  [3, 3],\n  [3, 3],\n];\nlet subsizes = [\n  [2, 2],\n  [3, 2],\n  [3, 3],\n  [3, 3],\n  [4, 4],\n];\nlet size = 0;\n\nconst parent = document.querySelector('.main');\n\nfunction setup() {\n  const CANVAS = createCanvas(parent.offsetWidth, parent.offsetHeight);\n  CANVAS.parent('SudoSweep');\n  createBackground();\n\n  sudo = new Sudoku(width / 2 - 60 * w * h - 30, height / 2 - 30 * w * h, w, h);\n  sweep = new Minesweeper(width / 2 + 30, height / 2 - 30 * w * h, w, h, subw, subh);\n  sweep.setMines(sudo.grid);\n\n  document.addEventListener('contextmenu', (event) => event.preventDefault());\n\n  select('#refresh').mousePressed(() => newPuzzle());\n  select('#size').mousePressed(() => {\n    size++;\n    if (size > 4) {\n      size = 0;\n    }\n    w = sizes[size][0];\n    h = sizes[size][1];\n    subw = subsizes[size][0];\n    subh = subsizes[size][1];\n    newPuzzle();\n  });\n  noLoop();\n}\n\nfunction windowResized() {\n  windowResizeHandler();\n}\n\ndocument.querySelector('.screen').addEventListener('click', () => setTimeout(windowResizeHandler, 5));\n\n// @see https://stackoverflow.com/a/51600005\nfunction windowResizeHandler() {\n  resizeCanvas(parent.offsetWidth, parent.offsetHeight);\n  background(dark);\n  sudo.draw();\n  sweep.draw();\n}\n\nfunction draw() {\n  validation = sudo.validate() && sweep.validate();\n\n  if (validation || win) {\n    background(mid);\n    displayTime();\n  } else if (lose) {\n    displayTime();\n  } else {\n    updatePixels();\n  }\n  sudo.draw();\n  sweep.draw();\n}\n\nfunction mousePressed() {\n  sweep.clicked(mouseX, mouseY);\n  sudo.clicked(mouseX, mouseY);\n\n  draw();\n}\n\nfunction createBackground() {\n  for (let i = 0; i < parent.offsetWidth; i++) {\n    for (let j = 0; j < parent.offsetHeight; j++) {\n      if (random() > 0.5) {\n        set(i, j, color('#5E7480'));\n      } else {\n        set(i, j, color('#5A707A'));\n      }\n    }\n  }\n  updatePixels();\n}\n\nfunction displayTime() {\n  if (timeElapsed === '') {\n    timeElapsed = new Date();\n    timeElapsed = timeElapsed.getTime();\n\n    if (startTime === '') {\n      startTime = timeElapsed;\n    }\n    timeElapsed = (timeElapsed - startTime) / 1000;\n    timeElapsed += ' seconds';\n  }\n  fill(white);\n  textSize(30);\n  textFont('Fira Code');\n  textAlign(CENTER, CENTER);\n  text(timeElapsed, width / 2, 50);\n}\n\nfunction newPuzzle() {\n  sudo = new Sudoku(width / 2 - 60 * w * h - 30, height / 2 - 30 * w * h, w, h);\n  sweep = new Minesweeper(width / 2 + 30, height / 2 - 30 * w * h, w, h, subw, subh);\n  sweep.setMines(sudo.grid);\n\n  startTime = '';\n  timeElapsed = '';\n  validation = false;\n  lose = false;\n}\n"],"names":["sudo","sweep","parent","document","querySelector","windowResizeHandler","resizeCanvas","offsetWidth","offsetHeight","background","draw","addEventListener","setTimeout"],"version":3,"file":"index.8dc98f79.js.map"}