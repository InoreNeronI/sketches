{"mappings":"AAAA,MAAM;IACJ,YAAY,GAAG,EAAE,SAAS,CAAE;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,KAAK;QAC3B,IAAI,CAAC,EAAE,GAAG,MAAM,KAAK,CAAC,EAAE,CAAC,EAAE;QAC3B,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK,CAAC,EAAE,CAAC,KAAK;QACjC,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,KAAK,GAAG,EAAE;QAEf,eAAe;QACf,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,IACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YACd,OAAO,KAAK;YACZ,YAAY,OAAO;YACnB,GAAG,OAAO;YACV,GAAG,OAAO;YACV,GAAG,OAAO;YACV,IAAI,OAAO;QACb;IAEJ;IAEA,8BAA8B;IAC9B,UAAU;QACR,wBAAwB;QACxB,IAAI,gBAAgB;YAClB,IAAI,CAAC,KAAK,GAAG;YACb,IAAI,CAAC,EAAE,GAAG,MAAM;YAChB,IAAI,CAAC,KAAK,GAAG,MAAM;QACrB,OAAO;YACL,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,CAAC,KAAK,EAAE,SAAS,KAAK,EAAE;YAC9C,IAAI,CAAC,EAAE,GAAG,UAAU,IAAI,CAAC,EAAE,EAAE,MAAM,SAAS,EAAE,GAAG;YACjD,IAAI,CAAC,KAAK,GAAG,UAAU,IAAI,CAAC,KAAK,EAAE,MAAM,SAAS,KAAK,GAAG;QAC5D;QAEA,4CAA4C;QAC5C,IAAI,CAAC,WAAW;QAEhB,eAAe;QACf,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAK;YAC1C,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE;YAErB,cAAc;YACd,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,EAAE,KAAK;YAC9C,KAAK,IAAI,CAAC,KAAK;YACf;YACA,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;YAE1B,kBAAkB;YAClB,IAAI,CAAC,QAAQ;gBACX,EAAE,CAAC,IAAI,EAAE,EAAE,GAAG;gBACd,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,QAAQ;oBACtB,EAAE,CAAC,GAAG,OAAO;oBACb,EAAE,CAAC,GAAG,OAAO;oBACb,EAAE,CAAC,GAAG;oBACN,EAAE,EAAE,GAAG,OAAO,IAAI,CAAC,KAAK;gBAC1B;YACF;YAEA,eAAe;YACf,EAAE,KAAK,IAAI,EAAE,UAAU;QACzB;IACF;AACF","sources":["src/bullet-hell/class/starfield.js"],"sourcesContent":["class Starfield {\n  constructor(num, starSpeed) {\n    this.alpha = LEVEL[0].alpha;\n    this.bg = color(LEVEL[0].bg);\n    this.color = color(LEVEL[0].color);\n    this.speed = starSpeed;\n    this.stars = [];\n\n    // Create stars\n    for (let i = 0; i < num; i++) {\n      this.stars.push({\n        noise: 10 * i,\n        deltaNoise: random(0.03),\n        r: random(2),\n        x: random(width),\n        y: random(height),\n        dy: random(starSpeed),\n      });\n    }\n  }\n\n  // Render and update each star\n  display() {\n    // Lerp to proper colors\n    if (blackStarfield) {\n      this.alpha = 127;\n      this.bg = color(0);\n      this.color = color(255);\n    } else {\n      this.alpha = lerp(this.alpha, curLevel.alpha, STARFIELD_LERP);\n      this.bg = lerpColor(this.bg, color(curLevel.bg), STARFIELD_LERP);\n      this.color = lerpColor(this.color, color(curLevel.color), STARFIELD_LERP);\n    }\n\n    // Skip rendering stars if low graphics mode\n    if (!showStars) return;\n\n    // Render stars\n    for (let i = 0; i < this.stars.length; i++) {\n      let s = this.stars[i];\n\n      // Render star\n      this.color.setAlpha(this.alpha * noise(s.noise));\n      fill(this.color);\n      noStroke();\n      ellipse(s.x, s.y, s.r, s.r);\n\n      // Update position\n      if (!paused) {\n        s.y += s.dy * dt();\n        if (s.y - s.r > height) {\n          s.r = random(2);\n          s.x = random(width);\n          s.y = 0;\n          s.dy = random(this.speed);\n        }\n      }\n\n      // Update noise\n      s.noise += s.deltaNoise;\n    }\n  }\n}\n"],"names":[],"version":3,"file":"index.bd0c580d.js.map"}