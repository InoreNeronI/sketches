{"mappings":"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","sources":["src/bullet-hell/class/player.js"],"sourcesContent":["class Player extends Ship {\n  constructor(x, y) {\n    super(x, y);\n\n    // Cooldowns\n    this.invulnTime = 0;\n\n    // Display\n    this.color = '#19B5FE';\n\n    // Misc\n    this.type = 'player';\n\n    // Physics\n    this.r = PLAYER_RADIUS;\n\n    // Stats\n    this.fireRate = PLAYER_FIRE_RATE;\n    this.hp = PLAYER_HP;\n    this.speed = PLAYER_SPEED;\n    this.weapon = 'basic';\n  }\n\n  // All operations to do per tick\n  act() {\n    if (!paused) this.controls();\n    super.act();\n  }\n\n  // The attack being used when firing\n  attack() {\n    WEAPON[this.weapon](this);\n  }\n\n  // Check for keypresses\n  controls() {\n    // Fire weapon (Z key or B key)\n    if (keyIsDown(90) || keyIsDown(66)) this.fire();\n\n    // Movement (arrow keys)\n    let diag = this.speed / sqrt(2);\n    if (keyIsDown(RIGHT_ARROW) || keyIsDown(68)) {\n      if (keyIsDown(UP_ARROW) || keyIsDown(87)) {\n        this.vel = createVector(diag, -diag);\n      } else if (keyIsDown(DOWN_ARROW) || keyIsDown(83)) {\n        this.vel = createVector(diag, diag);\n      } else {\n        this.vel = createVector(this.speed, 0);\n      }\n    } else if (keyIsDown(LEFT_ARROW) || keyIsDown(65)) {\n      if (keyIsDown(UP_ARROW) || keyIsDown(87)) {\n        this.vel = createVector(-diag, -diag);\n      } else if (keyIsDown(DOWN_ARROW) || keyIsDown(83)) {\n        this.vel = createVector(-diag, diag);\n      } else {\n        this.vel = createVector(-this.speed, 0);\n      }\n    } else if (keyIsDown(DOWN_ARROW) || keyIsDown(83)) {\n      this.vel = createVector(0, this.speed);\n    } else if (keyIsDown(UP_ARROW) || keyIsDown(87)) {\n      this.vel = createVector(0, -this.speed);\n    } else {\n      this.vel.mult(0);\n    }\n  }\n\n  // Update all cooldowns\n  cooldown() {\n    super.cooldown();\n    if (this.invulnTime > 0) this.invulnTime -= dt();\n    if (this.invulnTime < 0) this.invulnTime = 0;\n  }\n\n  // Deal damage\n  damage() {\n    if (this.invulnTime > 0) return;\n    this.invulnTime = INVULN_TIME;\n    super.damage();\n  }\n\n  // Display on the canvas\n  display() {\n    this.model(true);\n\n    // Display hitbox\n    if (showHitboxes) {\n      fill(255, 63);\n      stroke(255);\n      ellipse(this.pos.x, this.pos.y, this.r, this.r);\n    }\n  }\n\n  // Heal HP up to max\n  heal(amt) {\n    if (typeof amt === 'undefined') amt = 1;\n    if (this.hp < this.maxHp) this.hp += amt;\n    if (this.hp > this.maxHp) this.hp = this.maxHp;\n  }\n\n  // Events\n  onDeath() {\n    reloadLevel();\n  }\n  onHitBottom() {\n    this.pos.y = this.mapBottom - this.r * this.edgeRadius;\n  }\n  onHitTop() {\n    this.pos.y = this.mapTop + this.r * this.edgeRadius;\n  }\n}\n"],"names":[],"version":3,"file":"index.d69aff8b.js.map"}