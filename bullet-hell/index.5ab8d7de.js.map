{"mappings":"AAAA,4BAA4B;AAC5B,SAAS,kBAAkB,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ;IAChE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,eAAe,GAAG,GAAG,UAAU,UAAU,KAAK;AAC9E;AAEA,wCAAwC;AACxC,SAAS,cAAc,GAAG,EAAE,QAAQ;IAClC,IAAI,OAAO,OAAO,IAAI,CAAC;IACvB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;QACpC,IAAI,MAAM,IAAI,CAAC,EAAE;QACjB,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI;IAC1B;AACF;AAEA,eAAe;AACf,SAAS,YAAY,CAAC,EAAE,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU;IACpF,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;QACtC,IAAI,IAAI,YAAY,MAAM,CAAC,EAAE;QAC7B,IAAI,IAAI,IAAI,OAAO,GAAG,GAAG,GAAG,OAAO,UAAU,WAAW;QACxD,cAAc,GAAG;QACjB,EAAE,IAAI;QACN,QAAQ,IAAI,CAAC;IACf;AACF;AAEA,iCAAiC;AACjC,SAAS,SAAS,GAAG;IACnB,IAAK,IAAI,IAAI,IAAI,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;QACxC,IAAI,IAAI,GAAG,CAAC,EAAE;QACd,EAAE,GAAG;QACL,IAAI,EAAE,IAAI,EAAE;YACV,IAAI,MAAM,CAAC,GAAG;YACd,EAAE,OAAO;QACX;IACF;AACF;AAEA,uEAAuE;AACvE,SAAS;IACP,OAAO,MAAM,UAAU;AACzB;AAEA,kCAAkC;AAClC,SAAS;IACP,OAAO,WAAW,MAAM,KAAK;AAC/B;AAEA,sEAAsE;AACtE,SAAS,WAAW,GAAG,EAAE,MAAM;IAC7B,mBAAmB;IACnB,IAAI,QAAQ,OAAO,MAAM,CAAC,SAAU,IAAI,EAAE,GAAG;QAC3C,OAAO,OAAO;IAChB;IAEA,IAAI,IAAI,OAAO;IACf,IAAI,YAAY;IAChB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,IAAK;QACnC,aAAa,MAAM,CAAC,EAAE;QACtB,IAAI,KAAK,WAAW,OAAO,GAAG,CAAC,EAAE;IACnC;AACF","sources":["src/bullet-hell/util.js"],"sourcesContent":["// Add a new particle system\nfunction addParticleSystem(x, y, minSpeed, maxSpeed, num, template) {\n  if (!lowGraphics) ps.push(new ParticleSystem(x, y, minSpeed, maxSpeed, num, template));\n}\n\n// Substitute properties from a template\nfunction applyTemplate(obj, template) {\n  let keys = Object.keys(template);\n  for (let i = 0; i < keys.length; i++) {\n    let key = keys[i];\n    obj[key] = template[key];\n  }\n}\n\n// Emit bullets\nfunction emitBullets(x, y, baseAngle, angles, minSpeed, maxSpeed, template, fromPlayer) {\n  for (let i = 0; i < angles.length; i++) {\n    let a = baseAngle + angles[i];\n    let b = new Bullet(x, y, a, random(minSpeed, maxSpeed), fromPlayer);\n    applyTemplate(b, template);\n    b.init();\n    bullets.push(b);\n  }\n}\n\n// Loop over an array of entities\nfunction loopOver(arr) {\n  for (let i = arr.length - 1; i >= 0; i--) {\n    let e = arr[i];\n    e.act();\n    if (e.dead) {\n      arr.splice(i, 1);\n      e.onDeath();\n    }\n  }\n}\n\n// Returns a random integer, using the same arguments as p5.js random()\nfunction randInt() {\n  return floor(random(...arguments));\n}\n\n// Randomly returns either -1 or 1\nfunction randSign() {\n  return random() < 0.5 ? -1 : 1;\n}\n\n// Returns a random item from an array using a second array of weights\nfunction randWeight(arr, weight) {\n  // Get total weight\n  let total = weight.reduce(function (prev, cur) {\n    return prev + cur;\n  });\n\n  let r = random(total);\n  let weightSum = 0;\n  for (let i = 0; i < arr.length; i++) {\n    weightSum += weight[i];\n    if (r <= weightSum) return arr[i];\n  }\n}\n"],"names":[],"version":3,"file":"index.5ab8d7de.js.map"}