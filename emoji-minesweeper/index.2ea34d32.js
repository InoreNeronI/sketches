!function(){null===window.localStorage.getItem("skin")&&window.localStorage.setItem("skin","mine");let e=JSON.parse(localStorage.getItem("darkMode"));null===e&&window.localStorage.setItem("darkMode","false"),e&&document.body.classList.add("dark-mode");let t=window.localStorage.getItem("mainEmoji");null===t&&(t="\uD83D\uDCA3"),window.localStorage.setItem("modalOpen","false"),window.localStorage.setItem("flagMode","false");let l=window.localStorage.getItem("title")??"Emoji Minesweeper";document.title=l;let n=document.createElement("div");n.setAttribute("id","game-container"),document.body.appendChild(n);let a=function(e){let t=document.createElement("div");t.className="header",!0===JSON.parse(localStorage.getItem("japanese"))&&t.classList.add("japanese");let l=e.split("");for(let e=0;e<l.length;e++)" "===l[e]&&(l[e]="&nbsp;"),t.innerHTML+=`<span style="--i:${e}">${l[e]}</span>`;return t}(l);n.appendChild(a);let o=function(){let e=document.createElement("div");switch(e.setAttribute("id","board"),level){case"beginner":e.style.height="317px";break;case"intermediate":case"expert":e.style.height="541px"}return e}();n.appendChild(o);let i=document.createElement("div");i.setAttribute("id","container"),n.appendChild(i);let s=function(){let e=document.createElement("button");return e.setAttribute("id","new-game-button"),e.innerHTML="New Game",e.addEventListener("click",()=>{window.location.reload()}),e}();i.appendChild(s);let r=function(){let e=document.createElement("button");return e.setAttribute("id","stats-button"),e.innerHTML="Stats",e}();i.appendChild(r);let d=function(){let e,t,l,n,a,o,i,s=window.localStorage.getItem("level");null===s&&(s="beginner",window.localStorage.setItem("level","beginner"));let r=window.localStorage.getItem("beginnerPlayed");null===r&&window.localStorage.setItem("beginnerPlayed","0");let d=window.localStorage.getItem("intermediatePlayed");null===d&&window.localStorage.setItem("intermediatePlayed","0");let m=window.localStorage.getItem("expertPlayed");null===m&&window.localStorage.setItem("expertPlayed","0");let c=window.localStorage.getItem("beginnerWon");null===c&&window.localStorage.setItem("beginnerWon","0");let u=window.localStorage.getItem("intermediateWon");null===u&&window.localStorage.setItem("intermediateWon","0");let g=window.localStorage.getItem("expertWon");null===g&&window.localStorage.setItem("expertWon","0");let w=window.localStorage.getItem("beginnerWinPercentage");null===w&&window.localStorage.setItem("beginnerWinPercentage","");let p=window.localStorage.getItem("intermediateWinPercentage");null===p&&window.localStorage.setItem("intermediateWinPercentage","");let h=window.localStorage.getItem("expertWinPercentage");null===h&&window.localStorage.setItem("expertWinPercentage","");let I=window.localStorage.getItem("beginnerBestTime");null===I&&window.localStorage.setItem("beginnerBestTime","");let S=window.localStorage.getItem("intermediateBestTime");null===S&&window.localStorage.setItem("intermediateBestTime","");let v=window.localStorage.getItem("expertBestTime");null===v&&window.localStorage.setItem("expertBestTime","");let b=window.localStorage.getItem("beginnerBestMoves");null===b&&window.localStorage.setItem("beginnerBestMoves","");let T=window.localStorage.getItem("intermediateBestMoves");null===T&&window.localStorage.setItem("intermediateBestMoves","");let L=window.localStorage.getItem("expertBestMoves");null===L&&window.localStorage.setItem("expertBestMoves","");let M=window.localStorage.getItem("beginnerTotalTime");null===M&&window.localStorage.setItem("beginnerTotalTime","0");let f=window.localStorage.getItem("intermediateTotalTime");null===f&&window.localStorage.setItem("intermediateTotalTime","0");let E=window.localStorage.getItem("expertTotalTime");null===E&&window.localStorage.setItem("expertTotalTime","0");let k=window.localStorage.getItem("beginnerTotalMoves");null===k&&window.localStorage.setItem("beginnerTotalMoves","0");let y=window.localStorage.getItem("intermediateTotalMoves");null===y&&window.localStorage.setItem("intermediateTotalMoves","0");let F=window.localStorage.getItem("expertTotalMoves");switch(null===F&&window.localStorage.setItem("expertTotalMoves","0"),s){case"beginner":t=r,e=c,l=w,n=I,a=b,o=M,i=k;break;case"intermediate":t=d,e=u,l=p,n=S,a=T,o=f,i=y;break;case"expert":t=m,e=g,l=h,n=v,a=L,o=E,i=F}let H=document.createElement("div");H.classList.add("modal"),H.setAttribute("id","stats-modal"),H.innerHTML+=`<p class="level">${s.charAt(0).toUpperCase()+s.slice(1)}</p>`;let j=document.createElement("div");if(j.setAttribute("id","stats-table"),j.innerHTML+='<p class="label">Played</p>',t?j.innerHTML+=`<p class="value">${t}</p>`:j.innerHTML+='<p class="value">0</p>',j.innerHTML+='<p class="label">Won</p>',e?j.innerHTML+=`<p class="value">${e}</p>`:j.innerHTML+='<p class="value">0</p>',j.innerHTML+='<p class="label">Win %</p>',l?j.innerHTML+=`<p class="value">${(100*l).toFixed(2)}</p>`:j.innerHTML+='<p class="value">N/A</p>',j.innerHTML+='<p class="label">Best Time</p>',n?j.innerHTML+=`<p class="value">${n}</p>`:j.innerHTML+='<p class="value">N/A</p>',j.innerHTML+='<p class="label">Best Moves</p>',a?j.innerHTML+=`<p class="value">${a}</p>`:j.innerHTML+='<p class="value">N/A</p>',j.innerHTML+="<hr><hr>",j.innerHTML+='<p class="label">Total Time</p>',o){var x;let e,t,l;j.innerHTML+=`<p class="value">${e=Math.floor((x=o)/3600),t=Math.floor((x-3600*e)/60),l=x-3600*e-60*t,e<10&&(e="0"+e),t<10&&(t="0"+t),l<10&&(l="0"+l),`${e}:${t}:${l}`}</p>`}else j.innerHTML+='<p class="value">00:00:00</p>';j.innerHTML+='<p class="label">Total Moves</p>',i?j.innerHTML+=`<p class="value">${i}</p>`:j.innerHTML+='<p class="value">0</p>',H.appendChild(j);let C=document.createElement("button");return C.innerHTML="Clear Data",H.appendChild(C),C.addEventListener("click",()=>{window.localStorage.clear(),window.location.reload()}),("#debug"===window.location.hash||"#debug-simple"===window.location.hash)&&(H.innerHTML="<h3>Debug Mode<h3>"),H}();i.appendChild(d);let m=function(){let e=document.createElement("div");return e.classList.add("modal"),e.setAttribute("id","help-modal"),e.innerHTML+=`
<div>
  \u{1F5B1}\u{FE0F} Left-click to <span style="font-weight:600;">open</span> a square, right-click to <span style="font-weight:600;">flag</span> a square
  <hr>
  1\u{FE0F}\u{20E3}2\u{FE0F}\u{20E3}3\u{FE0F}\u{20E3} Switch between <span style="font-weight:600;">levels</span>, beginner, intermediate, expert (or use \u{2328}\u{FE0F} keys 1, 2, 3)
  <hr>
  \u{1F4A3}/\u{1F33A}/\u{1F344}/\u{1F43B}/\u{1F419}/\u{1F3EF} Switch between <span style="font-weight:600;">themes</span> (or use \u{2328}\u{FE0F} left/right arrows)
  <hr>
  \u{2754} Toggle <span style="font-weight:600;">help</span> (or use \u{2328}\u{FE0F} the H key)
  <hr>
  \u{1F6A9} Toggle <span style="font-weight:600;">flag mode</span>: flag with touch / right-click (or use \u{2328}\u{FE0F} the F key)
  <hr>
  \u{1F31E}/\u{1F31B} Toggle <span style="font-weight:600;">dark mode</span> (or use \u{2328}\u{FE0F} the D key)
</div>
`,e}();i.appendChild(m);let c=document.createElement("div");c.setAttribute("id","emoji-buttons-container"),n.appendChild(c);let u=function(){let e=document.createElement("div");return e.title="Beginner level",e.className="emoji-button",e.innerHTML=`1\u{FE0F}\u{20E3}`,"beginner"===level&&e.classList.add("emoji-button-clicked"),e.addEventListener("click",()=>{"beginner"!==level&&(localStorage.setItem("level","beginner"),window.location.reload())}),e}();c.appendChild(u);let g=function(){let e=document.createElement("div");return e.title="Intermediate level",e.className="emoji-button",e.innerHTML=`2\u{FE0F}\u{20E3}`,"intermediate"===level&&e.classList.add("emoji-button-clicked"),e.addEventListener("click",()=>{"intermediate"!==level&&(localStorage.setItem("level","intermediate"),window.location.reload())}),e}();c.appendChild(g);let w=function(){let e=document.createElement("div");return e.title="Expert level",e.className="emoji-button",e.innerHTML=`3\u{FE0F}\u{20E3}`,"expert"===level&&e.classList.add("emoji-button-clicked"),e.addEventListener("click",()=>{"expert"!==level&&(localStorage.setItem("level","expert"),window.location.reload())}),e}();c.appendChild(w);let p=function(e,t){let l=document.createElement("div");function n(){"mine"===theme?(theme="flower",localStorage.setItem("skin",theme)):"flower"===theme?(theme="mushroom",localStorage.setItem("skin",theme)):"mushroom"===theme?(theme="bear",localStorage.setItem("skin",theme)):"bear"===theme?(theme="octopus",localStorage.setItem("skin",theme)):"octopus"===theme?(t.classList.add("japanese"),localStorage.setItem("japanese","true"),theme="japan",localStorage.setItem("skin",theme)):"japan"===theme&&(t.classList.remove("japanese"),localStorage.setItem("japanese","false"),theme="mine",localStorage.setItem("skin",theme)),gameFinished?window.location.reload():a()}function a(){MINE=themes[theme].mine,DETONATION=themes[theme].detonation,WON=themes[theme].won,LOST=themes[theme].lost,window.localStorage.setItem("title",themes[theme].title);let e=window.localStorage.getItem("title");document.title=e,window.localStorage.setItem("mainEmoji",themes[theme].mine),t.innerHTML=themes[theme].title,l.innerHTML=themes[theme].mine}return l.title="Change theme",l.className="emoji-button",l.innerHTML=e,l.addEventListener("click",()=>{n()}),document.addEventListener("keydown",e=>{"ArrowRight"===e.code&&n(),"ArrowLeft"===e.code&&("mine"===theme?(t.classList.add("japanese"),localStorage.setItem("japanese","true"),theme="japan",localStorage.setItem("skin",theme)):"japan"===theme?(t.classList.remove("japanese"),localStorage.setItem("japanese","false"),theme="octopus",localStorage.setItem("skin",theme)):"octopus"===theme?(theme="bear",localStorage.setItem("skin",theme)):"bear"===theme?(theme="mushroom",localStorage.setItem("skin",theme)):"mushroom"===theme?(theme="flower",localStorage.setItem("skin",theme)):"flower"===theme&&(theme="mine",localStorage.setItem("skin",theme)),gameFinished?window.location.reload():a())}),l}(t,a);c.appendChild(p);let h=function(){let e=document.createElement("div");return e.title="Toggle help modal",e.className="emoji-button",e.innerHTML=`\u{2754}`,e}();c.appendChild(h);let I=function(e){let t=document.createElement("div");t.title="Toggle flag mode",t.className="emoji-button",t.innerHTML=`\u{1F6A9}`;let l=!1;function n(){l?(localStorage.setItem("flagMode","false"),t.classList.remove("emoji-button-clicked"),e.classList.remove("flag-mode"),l=!1):(localStorage.setItem("flagMode","true"),t.classList.add("emoji-button-clicked"),e.classList.add("flag-mode"),l=!0)}return t.addEventListener("click",()=>{n()}),document.addEventListener("keydown",e=>{"KeyF"===e.code&&n()}),t}(o);c.appendChild(I);let S=function(e){let t=document.createElement("div");function l(){e?window.localStorage.setItem("darkMode","false"):window.localStorage.setItem("darkMode","true"),window.location.reload()}return t.title="Toggle dark mode",t.className="emoji-button",t.innerHTML=e?"\uD83C\uDF1B":"\uD83C\uDF1E",t.addEventListener("click",()=>{l()}),document.addEventListener("keydown",e=>{"KeyD"===e.code&&l()}),t}(e);c.appendChild(S);let v=document.createElement("div");v.setAttribute("id","content-wrap"),n.appendChild(v);let b=function(){let e=document.createElement("footer");return e.innerHTML+=`
    <p>\xa9 2024 Michael Kolesidis. Licensed under the 
      <a 
        href="https://www.gnu.org/licenses/agpl-3.0.html" 
        target="_blank">
          GNU AGPL
      </a>
       | 
      <a 
        href="https://github.com/michaelkolesidis/emoji-minesweeper" 
        target="_blank">
          GitHub
      </a>
    </p>`,e}();v.appendChild(b);let T=!1;function L(){T?(setTimeout(()=>{d.style.zIndex="-1"},500),d.style.opacity="0",T=!1,window.localStorage.setItem("modalOpen","false")):T||(m.style.opacity="0",M=!1,window.localStorage.setItem("modalOpen","false"),h.style.opacity="1",d.style.zIndex="2",d.style.opacity="1",T=!0,window.localStorage.setItem("modalOpen","true"))}r.addEventListener("click",()=>{L()}),document.addEventListener("keydown",e=>{"KeyS"===e.code&&L()});let M=!1;function f(){M?(setTimeout(()=>{m.style.zIndex="-1"},500),m.style.opacity="0",M=!1,window.localStorage.setItem("modalOpen","false"),h.classList.remove("emoji-button-clicked")):M||(T&&(setTimeout(()=>{d.style.zIndex="-1"},500),d.style.opacity="0",T=!1,window.localStorage.setItem("modalOpen","false")),m.style.zIndex="2",m.style.opacity="1",M=!0,window.localStorage.setItem("modalOpen","true"),h.classList.add("emoji-button-clicked"))}h.addEventListener("click",()=>{f()}),document.addEventListener("keydown",e=>{"KeyH"===e.code&&f()})}();
//# sourceMappingURL=index.2ea34d32.js.map
