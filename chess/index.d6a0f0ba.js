!function e(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var h="function"==typeof require&&void 0;if(!l&&h)return h(a,!0);if(o)return o(a,!0);var u=Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};n[a][0].call(c.exports,function(e){return s(n[a][1][e]||e)},c,c.exports,e,n,r,i)}return r[a].exports}for(var o="function"==typeof require&&void 0,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,n,r){var i={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(e){var n=new XMLHttpRequest;if(n.open("GET",e,!1),n.overrideMimeType&&n.overrideMimeType("text/plain"),n.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),n.send(null),200!==n.status&&0!==n.status)throw"XMLHttpRequest failed, status code "+n.status;return n.responseText}};window.Processing=e("./src/")(i)},{"./src/":28}],2:[function(e,n,r){n.exports={name:"processing-js",version:"1.6.6",author:"Processing.js",repository:{type:"git",url:"git@github.com/processing-js/processing-js.git"},main:"processing.min.js",bugs:"https://github.com/processing-js/processing-js/issues",devDependencies:{argv:"^0.0.2",browserify:"^17.0.0",express:"^4.18.2",grunt:"^1.6.1","grunt-cli":"^1.4.3","grunt-contrib-jshint":"^3.2.0","http-server":"^14.1.1",nunjucks:"^3.2.4",terser:"^5.26.0"},scripts:{test:"node test","test:manual":"http-server -o test/manual",start:"browserify build.js -o processing.js && terser processing.js --compress ecma=2020,computed_props=false > processing.min.js"},license:"MIT"}},{}],3:[function(e,n,r){n.exports=function(e){if(e instanceof Array){var n=-1;this.hasNext=function(){return++n<e.length},this.next=function(){return e[n]}}else if(e.iterator instanceof Function)return e.iterator();else throw"Unable to iterate: "+e}},{}],4:[function(e,n,r){n.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MACOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:34028235e31,MIN_FLOAT:-34028235e31,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" 	\n\r\fÂ ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,CHORD:2,PIE:3,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(e,n,r){n.exports=function(e){var n={BufferMax:200},r=e.createElement("style"),i=!1;return r.textContent=".pjsconsole.hidden {\n  display: none!important;\n}",n.wrapper=e.createElement("div"),r.textContent+="\n.pjsconsole {\n  opacity: .75;\n  display: block;\n  position: fixed;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  height: 50px;\n  background-color: #aaa;\n}",n.wrapper.classList.add("pjsconsole"),n.dragger=e.createElement("div"),r.textContent+="\n.pjsconsole .dragger {\n  display: block;\n  border: 3px black raised;\n  cursor: n-resize;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n  background-color: #333;\n}",n.dragger.classList.add("dragger"),n.closer=e.createElement("div"),r.textContent+="\n.pjsconsole .closer {\n  opacity: .5;\n  display: block;\n  border: 3px black raised;\n  position: absolute;\n  top: 10px;\n  right: 30px;\n  height: 20px;\n  width: 20px;\n  background-color: #ddd;\n  color: #000;\n  line-height: 20px;\n  text-align: center;\n  cursor: pointer\n}",n.closer.classList.add("closer"),n.closer.innerHTML="&#10006;",n.javaconsole=e.createElement("div"),r.textContent+="\n.pjsconsole .console {\n  overflow-x: auto;\n  display: block;\n  position: absolute;\n  left: 10px;\n  right: 0px;\n  bottom: 5px;\n  top: 10px;\n  overflow-y: scroll;\n  height: 40px;\n}",n.javaconsole.setAttribute("class","console"),n.wrapper.appendChild(n.dragger),n.wrapper.appendChild(n.javaconsole),n.wrapper.appendChild(n.closer),n.dragger.onmousedown=function(r){n.divheight=n.wrapper.style.height,e.selection?e.selection.empty():window.getSelection().removeAllRanges();var i=r.screenY;window.onmousemove=function(e){n.wrapper.style.height=parseFloat(n.divheight)+(i-e.screenY)+"px",n.javaconsole.style.height=parseFloat(n.divheight)+(i-e.screenY)-10+"px"},window.onmouseup=function(r){e.selection?e.selection.empty():window.getSelection().removeAllRanges(),n.wrapper.style.height=parseFloat(n.divheight)+(i-r.screenY)+"px",n.javaconsole.style.height=parseFloat(n.divheight)+(i-r.screenY)-10+"px",window.onmousemove=null,window.onmouseup=null}},n.BufferArray=[],n.print=n.log=function(){i||(e.body.appendChild(r),e.body.appendChild(n.wrapper),i=!0);var s=Array.prototype.slice.call(arguments);t=s.map(function(e,n){return e+(n+1===s.length?"":" ")}).join(""),n.BufferArray[n.BufferArray.length-1]?n.BufferArray[n.BufferArray.length-1]+=t+"":n.BufferArray.push(t),n.javaconsole.innerHTML=n.BufferArray.join(""),n.showconsole()},n.println=function(){var e=Array.prototype.slice.call(arguments);e.push("<br>"),n.print.apply(n,e),n.BufferArray.length>n.BufferMax?n.BufferArray.splice(0,1):n.javaconsole.scrollTop=n.javaconsole.scrollHeight},n.showconsole=function(){n.wrapper.classList.remove("hidden")},n.hideconsole=function(){n.wrapper.classList.add("hidden")},n.closer.onclick=function(){n.hideconsole()},n.hideconsole(),n}},{}],6:[function(e,n,r){n.exports=function(e){function n(){}n.prototype=e.PConstants;var r=new n;function i(e,n){var i=[];for(var s in n)"function"==typeof n[s]?function(e,n,r){if(!e.hasOwnProperty(n)||"function"!=typeof e[n]){e[n]=r;return}var i,s,o=e[n];if("$overloads"in o){o.$defaultOverload=r;return}if("$overloads"in r||o.length!==r.length){"$overloads"in r?((i=r.$overloads.slice(0))[o.length]=o,s=r.$defaultOverload):((i=[])[r.length]=r,i[o.length]=o,s=o);var a=function(){var e=a.$overloads[arguments.length]||("$methodArgsIndex"in a&&arguments.length>a.$methodArgsIndex?a.$overloads[a.$methodArgsIndex]:null)||a.$defaultOverload;return e.apply(this,arguments)};a.$overloads=i,"$methodArgsIndex"in r&&(a.$methodArgsIndex=r.$methodArgsIndex),a.$defaultOverload=s,a.name=n,e[n]=a}}(e,s,n[s]):"$"===s.charAt(0)||s in e||i.push(s);for(;i.length>0;)!function(i){r.defineProperty(e,i,{get:function(){return n[i]},set:function(e){n[i]=e},enumerable:!0})}(i.shift());e.$super=n}return Object.keys(e).forEach(function(n){r[n]=e[n]}),r.defineProperty=function(e,n,r){"defineProperty"in Object?Object.defineProperty(e,n,r):(r.hasOwnProperty("get")&&e.__defineGetter__(n,r.get),r.hasOwnProperty("set")&&e.__defineSetter__(n,r.set))},r.extendClassChain=function(e){for(var n=[e],r=e.$upcast;r;r=r.$upcast)i(r,e),n.push(r),e=r;for(;n.length>0;)n.pop().$self=e},r.extendStaticMembers=function(e,n){i(e,n)},r.extendInterfaceMembers=function(e,n){i(e,n)},r.addMethod=function(e,n,r,i){var s=e[n];if(s||i){var o=r.length;if("$overloads"in s)s.$overloads[o]=r;else{var a=function(){var e=a.$overloads[arguments.length]||("$methodArgsIndex"in a&&arguments.length>a.$methodArgsIndex?a.$overloads[a.$methodArgsIndex]:null)||a.$defaultOverload;return e.apply(this,arguments)},l=[];s&&(l[s.length]=s),l[o]=r,a.$overloads=l,a.$defaultOverload=s||r,i&&(a.$methodArgsIndex=o),a.name=n,e[n]=a}}else e[n]=r},r.createJavaArray=function(e,n){var i=null,s=null;if("string"==typeof e&&("boolean"===e?s=!1:"string"==typeof e&&-1!==["byte","int","char","color","float","long","double"].indexOf(e)&&(s=0)),"number"==typeof n[0]){var o=0|n[0];if(n.length<=1){(i=[]).length=o;for(var a=0;a<o;++a)i[a]=s}else{i=[];for(var l=n.slice(1),h=0;h<o;++h)i.push(r.createJavaArray(e,l))}}return i},r.defineProperty(r,"screenWidth",{get:function(){return window.innerWidth}}),r.defineProperty(r,"screenHeight",{get:function(){return window.innerHeight}}),r}},{}],7:[function(e,n,r){n.exports=function(e,n){var r,i=n.window,s=n.document,o=i.XMLHttpRequest,a=n.noop,l=n.isDOMPresent,h=n.version;e.version=h||"@DEV-VERSION@",e.lib={},e.registerLibrary=function(n,r){e.lib[n]=r,r.hasOwnProperty("init")&&r.init(defaultScope)},e.Sketch=function(e){this.attachFunction=e,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onLoad=a,this.onSetup=a,this.onPause=a,this.onLoop=a,this.onFrameStart=a,this.onFrameEnd=a,this.onExit=a,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(e,n){if(!this.images[e]){if(l||(this.images[e]=null),!n){var r;(n=new Image).onload=(r=this,function(){r.pending--}),this.pending++,n.src=e}if(this.images[e]=n,i.opera){var o=s.createElement("div");o.appendChild(n),o.style.position="absolute",o.style.opacity=0,o.style.width="1px",o.style.height="1px",this.operaCache[e]||(s.body.appendChild(o),this.operaCache[e]=o)}}}},this.sourceCode=void 0,this.attach=function(e){if("function"==typeof this.attachFunction)this.attachFunction(e);else if(this.sourceCode){var n=Function("return ("+this.sourceCode+");")();n(e),this.attachFunction=n}else throw"Unable to attach sketch to the processing instance"},this.toString=function(){var e,n="((function(Sketch) {\n";for(e in n+="var sketch = new Sketch(\n"+this.sourceCode+");\n",this.options)if(this.options.hasOwnProperty(e)){var r=this.options[e];n+="sketch.options."+e+" = "+("string"==typeof r?'"'+r+'"':""+r)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(n+='sketch.imageCache.add("'+e+'");\n');return n+"return sketch;\n})(Processing.Sketch))"}};var u=e.loadSketchFromSources=function(n,r,a){for(var l=[],h=[],u=r.length,c=0,f=0;f<u;++f)!function(r,f){function p(i,s){if(l[r]=i,++c,s&&h.push(f+" ==> "+s),c===u){if(0===h.length){var o=new e(n,l.join("\n"));a&&a(o)}else throw"Processing.js: Unable to load pjs sketch files: "+h.join("\n")}}if("#"===f.charAt(0)){var m,g=s.getElementById(f.substring(1));g?p(g.text||g.textContent):p("","Unable to load pjs sketch: element with id '"+f.substring(1)+"' was not found");return}(m=new o).onreadystatechange=function(){if(4===m.readyState){var e;200!==m.status&&0!==m.status?e="Invalid XHR status "+m.status:""===m.responseText&&(e="withCredentials"in new o&&!1===new o().withCredentials&&"file:"===i.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty."),p(m.responseText,e)}},m.open("GET",f,!0),m.overrideMimeType&&m.overrideMimeType("application/json"),m.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),m.send(null)}(f,r[f])},c=function(){for(s.removeEventListener("DOMContentLoaded",c,!1);e.instances.length>0;)for(n=e.instances.length-1;n>=0;n--)e.instances[n]&&e.instances[n].exit();var n,i,o=s.getElementsByTagName("canvas");let a=o.length;for(n=0;n<a;n++){var l=o[n].getAttribute("data-processing-sources");if(null===l&&null===(l=o[n].getAttribute("data-src"))&&(l=o[n].getAttribute("datasrc")),l){i=l.split(/\s+/g);for(var h=0;h<i.length;)i[h]?h++:i.splice(h,1);u(o[n],i)}}var f,p,m=s.getElementsByTagName("script"),g=[];for(f=m.length-1;f>=0;f--)g.push(m[f]);for(f=0,p=g.length;f<p;f++){var d=g[f];if(d.getAttribute){var v=d.getAttribute("type");if(v&&("text/processing"===v.toLowerCase()||"application/processing"===v.toLowerCase())){var y=d.getAttribute("data-processing-target");if(o=r,y)o=s.getElementById(y);else{for(var x=d.nextSibling;x&&1!==x.nodeType;)x=x.nextSibling;x&&"canvas"===x.nodeName.toLowerCase()&&(o=x)}if(o){if(d.getAttribute("src")){u(o,i=d.getAttribute("src").split(/\s+/));continue}new e(o,d.textContent||d.text)}}}}};return s.addEventListener("DOMContentLoaded",c,!1),e.reload=c,e.disableInit=function(){s.removeEventListener("DOMContentLoaded",c,!1)},e}},{}],8:[function(e,n,r){n.exports=function(e,n){return null===e||null===n?null===e&&null===n:"string"==typeof e||"object"!=typeof e?e===n:e.equals instanceof Function?e.equals(n):e===n}},{}],9:[function(e,n,r){n.exports=function(e,n){if("string"==typeof e){for(var r=0,i=0;i<e.length;++i)r=31*r+e.charCodeAt(i)&4294967295;return r}return"object"!=typeof e?4294967295&e:e.hashCode instanceof Function?e.hashCode():(e.$id===n&&(e.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random())),e.$id)}},{}],10:[function(e,n,r){n.exports=function(e){e.virtHashCode;var n=e.virtEquals;function r(e){var n=-1;this.hasNext=function(){return n+1<e.length},this.next=function(){return e[++n]},this.remove=function(){e.splice(n--,1)}}return function e(i){var s=[];i&&i.toArray&&(s=i.toArray()),this.get=function(e){return s[e]},this.contains=function(e){return this.indexOf(e)>-1},this.indexOf=function(e){for(var r=0,i=s.length;r<i;++r)if(n(e,s[r]))return r;return -1},this.lastIndexOf=function(e){for(var r=s.length-1;r>=0;--r)if(n(e,s[r]))return r;return -1},this.add=function(){if(1==arguments.length)s.push(arguments[0]);else if(2==arguments.length){var e=arguments[0];if("number"==typeof e){if(e>=0&&e<=s.length)s.splice(e,0,arguments[1]);else throw e+" is not a valid index"}else throw typeof e+" is not a number"}else throw"Please use the proper number of parameters."},this.addAll=function(e,n){var r;if("number"==typeof e){if(e<0||e>s.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+s.length;for(r=new ObjectIterator(n);r.hasNext();)s.splice(e++,0,r.next())}else for(r=new ObjectIterator(e);r.hasNext();)s.push(r.next())},this.set=function(){if(2==arguments.length){var e=arguments[0];if("number"==typeof e){if(e>=0&&e<s.length)s.splice(e,1,arguments[1]);else throw e+" is not a valid index."}else throw typeof e+" is not a number"}else throw"Please use the proper number of parameters."},this.size=function(){return s.length},this.clear=function(){s.length=0},this.remove=function(e){return"number"==typeof e?s.splice(e,1)[0]:(e=this.indexOf(e))>-1&&(s.splice(e,1),!0)},this.removeAll=function(n){var r,i,s,o=new e;for(o.addAll(this),this.clear(),r=0,i=0;r<o.size();r++)s=o.get(r),n.contains(s)||this.add(i++,s);return this.size()<o.size()},this.isEmpty=function(){return!s.length},this.clone=function(){return new e(this)},this.toArray=function(){return s.slice(0)},this.iterator=function(){return new r(s)}}}},{}],11:[function(e,n,r){var i,s;n.exports=(i={},(s=function(e){return"string"==typeof e&&1===e.length?this.code=e.charCodeAt(0):"number"==typeof e?this.code=e:e instanceof s?this.code=e:this.code=NaN,void 0===i[this.code]?i[this.code]=this:i[this.code]}).prototype.toString=function(){return String.fromCharCode(this.code)},s.prototype.valueOf=function(){return this.code},s)},{}],12:[function(e,n,r){n.exports=function(e){var n=e.virtHashCode,r=e.virtEquals;return function e(){if(1==arguments.length&&arguments[0]instanceof e)return arguments[0].clone();var i=arguments.length>0?arguments[0]:16,s=arguments.length>1?arguments[1]:.75,o=[];o.length=i;var a=0,l=this;function h(e){var r=n(e)%o.length;return r<0?o.length+r:r}function u(){if(!(a<=s*o.length)){for(var e=[],n=0;n<o.length;++n)void 0!==o[n]&&(e=e.concat(o[n]));var r=2*o.length;(o=[]).length=r;for(var i=0;i<e.length;++i){var l=h(e[i].key),u=o[l];void 0===u&&(o[l]=u=[]),u.push(e[i])}}}function c(e,n){var r,i=0,s=-1,a=!1;function l(){for(;!a;)if(++s,i>=o.length)a=!0;else{if(void 0!==o[i]&&!(s>=o[i].length))return;s=-1,++i}}this.hasNext=function(){return!a},this.next=function(){return r=e(o[i][s]),l(),r},this.remove=function(){void 0!==r&&(n(r),--s,l())},l()}function f(e,n,r){this.clear=function(){l.clear()},this.contains=function(e){return n(e)},this.containsAll=function(e){for(var n=e.iterator();n.hasNext();)if(!this.contains(n.next()))return!1;return!0},this.isEmpty=function(){return l.isEmpty()},this.iterator=function(){return new c(e,r)},this.remove=function(e){return!!this.contains(e)&&(r(e),!0)},this.removeAll=function(e){for(var n=e.iterator();n.hasNext();){var i=n.next();this.contains(i)&&r(i)}return!0},this.retainAll=function(e){for(var n=this.iterator(),i=[];n.hasNext();){var s=n.next();e.contains(s)||i.push(s)}for(var o=0;o<i.length;++o)r(i[o]);return i.length>0},this.size=function(){return l.size()},this.toArray=function(){for(var e=[],n=this.iterator();n.hasNext();)e.push(n.next());return e}}function p(e){this._isIn=function(n){return n===l&&void 0===e.removed},this.equals=function(n){return r(e.key,n.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(r){return n(e.key)},this.setValue=function(n){var r=e.value;return e.value=n,r}}this.clear=function(){a=0,(o=[]).length=i},this.clone=function(){var n=new e;return n.putAll(this),n},this.containsKey=function(e){var n=o[h(e)];if(void 0===n)return!1;for(var i=0;i<n.length;++i)if(r(n[i].key,e))return!0;return!1},this.containsValue=function(e){for(var n=0;n<o.length;++n){var i=o[n];if(void 0!==i){for(var s=0;s<i.length;++s)if(r(i[s].value,e))return!0}}return!1},this.entrySet=function(){return new f(function(e){return new p(e)},function(e){return e instanceof p&&e._isIn(l)},function(e){return l.remove(e.getKey())})},this.get=function(e){var n=o[h(e)];if(void 0===n)return null;for(var i=0;i<n.length;++i)if(r(n[i].key,e))return n[i].value;return null},this.isEmpty=function(){return 0===a},this.keySet=function(){return new f(function(e){return e.key},function(e){return l.containsKey(e)},function(e){return l.remove(e)})},this.values=function(){return new f(function(e){return e.value},function(e){return l.containsValue(e)},function(e){return l.removeByValue(e)})},this.put=function(e,n){var i=h(e),s=o[i];if(void 0===s)return++a,o[i]=[{key:e,value:n}],u(),null;for(var l=0;l<s.length;++l)if(r(s[l].key,e)){var c=s[l].value;return s[l].value=n,c}return++a,s.push({key:e,value:n}),u(),null},this.putAll=function(e){for(var n=e.entrySet().iterator();n.hasNext();){var r=n.next();this.put(r.getKey(),r.getValue())}},this.remove=function(e){var n=h(e),i=o[n];if(void 0===i)return null;for(var s=0;s<i.length;++s)if(r(i[s].key,e)){--a;var l=i[s].value;return i[s].removed=!0,i.length>1?i.splice(s,1):o[n]=void 0,l}return null},this.removeByValue=function(e){var n,r,i;for(n in o)if(o.hasOwnProperty(n)){for(r=0,i=o[n].length;r<i;r++)if(o[n][r].value===e)return o[n].splice(r,1),!0}return!1},this.size=function(){return a}}}},{}],13:[function(e,n,r){n.exports=function(e,n){e.Browser.window;var r=e.Browser.document,i=e.noop;function s(e,s){e===n&&(e=""),this.name=e,s===n&&(s=0),this.size=s,this.glyph=!1,this.ascent=0,this.descent=0,this.leading=1.2*s;var o=e.indexOf(" Italic Bold");-1!==o&&(e=e.substring(0,o)),this.style="normal";var a=e.indexOf(" Italic");-1!==a&&(e=e.substring(0,a),this.style="italic"),this.weight="normal";var l=e.indexOf(" Bold");if(-1!==l&&(e=e.substring(0,l),this.weight="bold"),this.family="sans-serif",e!==n)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}this.context2d=function(e){var n=e.size/250,s=r.createElement("canvas");s.width=500,s.height=500,s.style.opacity=0;var o=e.getCSSDefinition("250px","normal"),a=s.getContext("2d");a.font=o;var l="dbflkhyjqpg";s.width=a.measureText(l).width,a.font=o;var h=r.createElement("div");h.style.position="absolute",h.style.opacity=0,h.style.fontFamily='"'+e.name+'"',h.style.fontSize="250px",h.innerHTML=l+"<br/>"+l,r.body.appendChild(h);var u=s.width,c=s.height,f=c/2;a.fillStyle="white",a.fillRect(0,0,u,c),a.fillStyle="black",a.fillText(l,0,f);for(var p=a.getImageData(0,0,u,c).data,m=0,g=4*u,d=p.length;++m<d&&255===p[m];)i();var v=Math.round(m/g);for(m=d-1;--m>0&&255===p[m];)i();var y=Math.round(m/g);if(e.ascent=n*(f-v),e.descent=n*(y-f),r.defaultView.getComputedStyle){var x=r.defaultView.getComputedStyle(h,null).getPropertyValue("height");(x=n*x.replace("px",""))>=2*e.size&&(e.leading=Math.round(x/2))}if(r.body.removeChild(h),e.caching)return a}(this),this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}return s.prototype.caching=!0,s.prototype.getCSSDefinition=function(e,r){return e===n&&(e=this.size+"px"),r===n&&(r=this.leading+"px"),[this.style,"normal",this.weight,e+"/"+r,this.family].join(" ")},s.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},s.prototype.measureTextWidthFallback=function(e){var n=r.createElement("canvas").getContext("2d");return n.font=this.css,n.measureText(e).width},s.PFontCache={length:0},s.get=function(e,n){n=(10*n+.5|0)/10;var r,i=s.PFontCache,o=e+"/"+n;if(!i[o]){if(i[o]=new s(e,n),i.length++,50===i.length){for(r in s.prototype.measureTextWidth=s.prototype.measureTextWidthFallback,s.prototype.caching=!1,i)"length"!==r&&(i[r].context2d=null);return new s(e,n)}if(400===i.length)return s.PFontCache={},s.get=s.getFallback,new s(e,n)}return i[o]},s.getFallback=function(e,n){return new s(e,n)},s.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},s.preloading={template:{},initialized:!1,initialize:function(){var e=r.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+"#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#".replace(/[#237]/g,function(e){return"AAAAAAAA".substr(~~e?7-e:6)})+"')\n       format('truetype');\n}",r.head.appendChild(e);var n=r.createElement("span");n.style.cssText='position: absolute; top: -1000; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',n.innerHTML="AAAAAAAA",r.body.appendChild(n),this.template=n,this.initialized=!0},getElementWidth:function(e){return r.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();for(var n,i,s=this.getElementWidth(this.template),o=0;o<this.fontList.length;o++){if(n=this.fontList[o],i=this.getElementWidth(n),this.timeAttempted<4e3&&i===s)return this.timeAttempted+=e,!0;r.body.removeChild(n),this.fontList.splice(o--,1),this.timeAttempted=0}return 0!==this.fontList.length},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var n="object"==typeof e?e.fontFace:e,i="object"==typeof e?e.url:e;if(!this.addedList[n]){var s=r.createElement("style");s.setAttribute("type","text/css"),s.innerHTML="@font-face{\n  font-family: '"+n+"';\n  src:  url('"+i+"');\n}\n",r.head.appendChild(s),this.addedList[n]=!0;var o=r.createElement("span");o.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",o.style.fontFamily='"'+n+'", "PjsEmptyFont", fantasy',o.innerHTML="AAAAAAAA",r.body.appendChild(o),this.fontList.push(o)}}},s}},{}],14:[function(e,n,r){n.exports=function(e,n){var r=e.p,i=function(){0==arguments.length?this.reset():1==arguments.length&&arguments[0]instanceof i?this.set(arguments[0].array()):6==arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};return i.prototype={set:function(){if(6==arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1==arguments.length&&arguments[0]instanceof i?this.elements=arguments[0].array():1==arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new i;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,n){this.elements[2]=e*this.elements[0]+n*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+n*this.elements[4]+this.elements[5]},invTranslate:function(e,n){this.translate(-e,-n)},transpose:function(){},mult:function(e,n){var r,i;return e instanceof PVector?(r=e.x,i=e.y,n||(n=new PVector)):e instanceof Array&&(r=e[0],i=e[1],n||(n=[])),n instanceof Array?(n[0]=this.elements[0]*r+this.elements[1]*i+this.elements[2],n[1]=this.elements[3]*r+this.elements[4]*i+this.elements[5]):n instanceof PVector&&(n.x=this.elements[0]*r+this.elements[1]*i+this.elements[2],n.y=this.elements[3]*r+this.elements[4]*i+this.elements[5],n.z=0),n},multX:function(e,n){return e*this.elements[0]+n*this.elements[1]+this.elements[2]},multY:function(e,n){return e*this.elements[3]+n*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>PConstants.MIN_INT){var n=this.elements[0],r=this.elements[1],i=this.elements[2],s=this.elements[3],o=this.elements[4],a=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-s/e,this.elements[1]=-r/e,this.elements[4]=n/e,this.elements[2]=(r*a-o*i)/e,this.elements[5]=(s*i-n*a)/e,!0}return!1},scale:function(e,r){e&&r===n&&(r=e),e&&r&&(this.elements[0]*=e,this.elements[1]*=r,this.elements[3]*=e,this.elements[4]*=r)},invScale:function(e,n){e&&!n&&(n=e),this.scale(1/e,1/n)},apply:function(){1==arguments.length&&arguments[0]instanceof i?e=arguments[0].array():6==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var e,n=[0,0,this.elements[2],0,0,this.elements[5]],r=0,s=0;s<2;s++)for(var o=0;o<3;o++,r++)n[r]+=this.elements[3*s+0]*e[o+0]+this.elements[3*s+1]*e[o+3];this.elements=n.slice()},preApply:function(){1==arguments.length&&arguments[0]instanceof i?e=arguments[0].array():6==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var e,n=[0,0,e[2],0,0,e[5]];n[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],n[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],n[0]=this.elements[0]*e[0]+this.elements[3]*e[1],n[3]=this.elements[0]*e[3]+this.elements[3]*e[4],n[1]=this.elements[1]*e[0]+this.elements[4]*e[1],n[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=n.slice()},rotate:function(e){var n=Math.cos(e),r=Math.sin(e),i=this.elements[0],s=this.elements[1];this.elements[0]=n*i+r*s,this.elements[1]=-r*i+n*s,i=this.elements[3],s=this.elements[4],this.elements[3]=n*i+r*s,this.elements[4]=-r*i+n*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=printMatrixHelper(this.elements),n=""+r.nfs(this.elements[0],e,4)+" "+r.nfs(this.elements[1],e,4)+" "+r.nfs(this.elements[2],e,4)+"\n"+r.nfs(this.elements[3],e,4)+" "+r.nfs(this.elements[4],e,4)+" "+r.nfs(this.elements[5],e,4)+"\n\n";r.println(n)}},i}},{}],15:[function(e,n,r){n.exports=function(e,n){var r=e.p,i=function(){this.reset()};return i.prototype={set:function(){16==arguments.length?this.elements=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof i?this.elements=arguments[0].array():1==arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new i;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,r,i){i===n&&(i=0),this.elements[3]+=e*this.elements[0]+r*this.elements[1]+i*this.elements[2],this.elements[7]+=e*this.elements[4]+r*this.elements[5]+i*this.elements[6],this.elements[11]+=e*this.elements[8]+r*this.elements[9]+i*this.elements[10],this.elements[15]+=e*this.elements[12]+r*this.elements[13]+i*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,n){var r,i,s,o;return e instanceof PVector?(r=e.x,i=e.y,s=e.z,o=1,n||(n=new PVector)):e instanceof Array&&(r=e[0],i=e[1],s=e[2],o=e[3]||1,n&&(3===n.length||4===n.length)||(n=[0,0,0])),n instanceof Array&&(3===n.length?(n[0]=this.elements[0]*r+this.elements[1]*i+this.elements[2]*s+this.elements[3],n[1]=this.elements[4]*r+this.elements[5]*i+this.elements[6]*s+this.elements[7],n[2]=this.elements[8]*r+this.elements[9]*i+this.elements[10]*s+this.elements[11]):4===n.length&&(n[0]=this.elements[0]*r+this.elements[1]*i+this.elements[2]*s+this.elements[3]*o,n[1]=this.elements[4]*r+this.elements[5]*i+this.elements[6]*s+this.elements[7]*o,n[2]=this.elements[8]*r+this.elements[9]*i+this.elements[10]*s+this.elements[11]*o,n[3]=this.elements[12]*r+this.elements[13]*i+this.elements[14]*s+this.elements[15]*o)),n instanceof PVector&&(n.x=this.elements[0]*r+this.elements[1]*i+this.elements[2]*s+this.elements[3],n.y=this.elements[4]*r+this.elements[5]*i+this.elements[6]*s+this.elements[7],n.z=this.elements[8]*r+this.elements[9]*i+this.elements[10]*s+this.elements[11]),n},preApply:function(){1==arguments.length&&arguments[0]instanceof i?e=arguments[0].array():16==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var e,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,s=0;s<4;s++)for(var o=0;o<4;o++,r++)n[r]+=this.elements[o+0]*e[4*s+0]+this.elements[o+4]*e[4*s+1]+this.elements[o+8]*e[4*s+2]+this.elements[o+12]*e[4*s+3];this.elements=n.slice()},apply:function(){1==arguments.length&&arguments[0]instanceof i?e=arguments[0].array():16==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var e,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,s=0;s<4;s++)for(var o=0;o<4;o++,r++)n[r]+=this.elements[4*s+0]*e[o+0]+this.elements[4*s+1]*e[o+4]+this.elements[4*s+2]*e[o+8]+this.elements[4*s+3]*e[o+12];this.elements=n.slice()},rotate:function(e,n,r,i){if(r){var s=Math.cos(e),o=Math.sin(e),a=1-s;this.apply(a*n*n+s,a*n*r-o*i,a*n*i+o*r,0,a*n*r+o*i,a*r*r+s,a*r*i-o*n,0,a*n*i-o*r,a*r*i+o*n,a*i*i+s,0,0,0,0,1)}else this.rotateZ(e)},invApply:function(){inverseCopy===n&&(inverseCopy=new i);var e=arguments;return inverseCopy.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),!!inverseCopy.invert()&&(this.preApply(inverseCopy),!0)},rotateX:function(e){var n=Math.cos(e),r=Math.sin(e);this.apply([1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1])},rotateY:function(e){var n=Math.cos(e),r=Math.sin(e);this.apply([n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1])},rotateZ:function(e){var n=Math.cos(e),r=Math.sin(e);this.apply([n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1])},scale:function(e,r,i){e&&r===n&&i===n?r=i=e:e&&r&&i===n&&(i=1),e&&r&&i&&(this.elements[0]*=e,this.elements[1]*=r,this.elements[2]*=i,this.elements[4]*=e,this.elements[5]*=r,this.elements[6]*=i,this.elements[8]*=e,this.elements[9]*=r,this.elements[10]*=i,this.elements[12]*=e,this.elements[13]*=r,this.elements[14]*=i)},skewX:function(e){this.apply(1,Math.tan(e),0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){this.apply(1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){this.apply(1,Math.tan(e),0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){this.apply(1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,n,r,i){return r?i?this.elements[0]*e+this.elements[1]*n+this.elements[2]*r+this.elements[3]*i:this.elements[0]*e+this.elements[1]*n+this.elements[2]*r+this.elements[3]:this.elements[0]*e+this.elements[1]*n+this.elements[3]},multY:function(e,n,r,i){return r?i?this.elements[4]*e+this.elements[5]*n+this.elements[6]*r+this.elements[7]*i:this.elements[4]*e+this.elements[5]*n+this.elements[6]*r+this.elements[7]:this.elements[4]*e+this.elements[5]*n+this.elements[7]},multZ:function(e,n,r,i){return i?this.elements[8]*e+this.elements[9]*n+this.elements[10]*r+this.elements[11]*i:this.elements[8]*e+this.elements[9]*n+this.elements[10]*r+this.elements[11]},multW:function(e,n,r,i){return i?this.elements[12]*e+this.elements[13]*n+this.elements[14]*r+this.elements[15]*i:this.elements[12]*e+this.elements[13]*n+this.elements[14]*r+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],n=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],r=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],s=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],a=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],l=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],h=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],f=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],p=e*f-n*c+r*u+i*h-s*l+o*a;if(1e-9>=Math.abs(p))return!1;var m=[];m[0]=+this.elements[5]*f-this.elements[6]*c+this.elements[7]*u,m[4]=-this.elements[4]*f+this.elements[6]*h-this.elements[7]*l,m[8]=+this.elements[4]*c-this.elements[5]*h+this.elements[7]*a,m[12]=-this.elements[4]*u+this.elements[5]*l-this.elements[6]*a,m[1]=-this.elements[1]*f+this.elements[2]*c-this.elements[3]*u,m[5]=+this.elements[0]*f-this.elements[2]*h+this.elements[3]*l,m[9]=-this.elements[0]*c+this.elements[1]*h-this.elements[3]*a,m[13]=+this.elements[0]*u-this.elements[1]*l+this.elements[2]*a,m[2]=+this.elements[13]*o-this.elements[14]*s+this.elements[15]*i,m[6]=-this.elements[12]*o+this.elements[14]*r-this.elements[15]*n,m[10]=+this.elements[12]*s-this.elements[13]*r+this.elements[15]*e,m[14]=-this.elements[12]*i+this.elements[13]*n-this.elements[14]*e,m[3]=-this.elements[9]*o+this.elements[10]*s-this.elements[11]*i,m[7]=+this.elements[8]*o-this.elements[10]*r+this.elements[11]*n,m[11]=-this.elements[8]*s+this.elements[9]*r-this.elements[11]*e,m[15]=+this.elements[8]*i-this.elements[9]*n+this.elements[10]*e;var g=1/p;return m[0]*=g,m[1]*=g,m[2]*=g,m[3]*=g,m[4]*=g,m[5]*=g,m[6]*=g,m[7]*=g,m[8]*=g,m[9]*=g,m[10]*=g,m[11]*=g,m[12]*=g,m[13]*=g,m[14]*=g,m[15]*=g,this.elements=m.slice(),!0},toString:function(){for(var e="",n=0;n<15;n++)e+=this.elements[n]+", ";return e+this.elements[15]},print:function(){var e=printMatrixHelper(this.elements),n=""+r.nfs(this.elements[0],e,4)+" "+r.nfs(this.elements[1],e,4)+" "+r.nfs(this.elements[2],e,4)+" "+r.nfs(this.elements[3],e,4)+"\n"+r.nfs(this.elements[4],e,4)+" "+r.nfs(this.elements[5],e,4)+" "+r.nfs(this.elements[6],e,4)+" "+r.nfs(this.elements[7],e,4)+"\n"+r.nfs(this.elements[8],e,4)+" "+r.nfs(this.elements[9],e,4)+" "+r.nfs(this.elements[10],e,4)+" "+r.nfs(this.elements[11],e,4)+"\n"+r.nfs(this.elements[12],e,4)+" "+r.nfs(this.elements[13],e,4)+" "+r.nfs(this.elements[14],e,4)+" "+r.nfs(this.elements[15],e,4)+"\n\n";r.println(n)},invTranslate:function(e,n,r){this.preApply(1,0,0,-e,0,1,0,-n,0,0,1,-r,0,0,0,1)},invRotateX:function(e){var n=Math.cos(-e),r=Math.sin(-e);this.preApply([1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1])},invRotateY:function(e){var n=Math.cos(-e),r=Math.sin(-e);this.preApply([n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1])},invRotateZ:function(e){var n=Math.cos(-e),r=Math.sin(-e);this.preApply([n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,n,r){this.preApply([1/e,0,0,0,0,1/n,0,0,0,0,1/r,0,0,0,0,1])}},i}},{}],16:[function(e,n,r){n.exports=function(e){var n=e.PConstants,r=e.PMatrix2D,i=e.PMatrix3D,s=function(e){this.family=e||n.GROUP,this.visible=!0,this.style=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.image=null,this.matrix=null,this.kind=null,this.close=null,this.width=null,this.height=null,this.parent=null};return s.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,n=this.children.length;e<n;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,n=this.children.length;e<n;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){if(!e)throw"render context missing for draw() in PShape";this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){this.family===n.GROUP?this.drawGroup(e):this.family===n.PRIMITIVE?this.drawPrimitive(e):this.family===n.GEOMETRY?this.drawGeometry(e):this.family===n.PATH&&this.drawPath(e)},drawPath:function(e){var r,i;if(0!==this.vertices.length){if(e.beginShape(),0===this.vertexCodes.length){if(2===this.vertices[0].length)for(r=0,i=this.vertices.length;r<i;r++)e.vertex(this.vertices[r][0],this.vertices[r][1]);else for(r=0,i=this.vertices.length;r<i;r++)e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2])}else{var s=0;if(2===this.vertices[0].length)for(r=0,i=this.vertexCodes.length;r<i;r++)this.vertexCodes[r]===n.VERTEX?(e.vertex(this.vertices[s][0],this.vertices[s][1],this.vertices[s].moveTo),e.breakShape=!1,s++):this.vertexCodes[r]===n.BEZIER_VERTEX?(e.bezierVertex(this.vertices[s+0][0],this.vertices[s+0][1],this.vertices[s+1][0],this.vertices[s+1][1],this.vertices[s+2][0],this.vertices[s+2][1]),s+=3):this.vertexCodes[r]===n.CURVE_VERTEX?(e.curveVertex(this.vertices[s][0],this.vertices[s][1]),s++):this.vertexCodes[r]===n.BREAK&&(e.breakShape=!0);else for(r=0,i=this.vertexCodes.length;r<i;r++)this.vertexCodes[r]===n.VERTEX?(e.vertex(this.vertices[s][0],this.vertices[s][1],this.vertices[s][2]),!0===this.vertices[s].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[s].moveTo&&(vertArray[vertArray.length-1].moveTo=!1),e.breakShape=!1):this.vertexCodes[r]===n.BEZIER_VERTEX?(e.bezierVertex(this.vertices[s+0][0],this.vertices[s+0][1],this.vertices[s+0][2],this.vertices[s+1][0],this.vertices[s+1][1],this.vertices[s+1][2],this.vertices[s+2][0],this.vertices[s+2][1],this.vertices[s+2][2]),s+=3):this.vertexCodes[r]===n.CURVE_VERTEX?(e.curveVertex(this.vertices[s][0],this.vertices[s][1],this.vertices[s][2]),s++):this.vertexCodes[r]===n.BREAK&&(e.breakShape=!0)}e.endShape(this.close?n.CLOSE:n.OPEN)}},drawGeometry:function(e){var n,r;if(e.beginShape(this.kind),this.style)for(n=0,r=this.vertices.length;n<r;n++)e.vertex(this.vertices[n]);else for(n=0,r=this.vertices.length;n<r;n++){var i=this.vertices[n];0===i[2]?e.vertex(i[0],i[1]):e.vertex(i[0],i[1],i[2])}e.endShape()},drawGroup:function(e){for(var n=0,r=this.children.length;n<r;n++)this.children[n].draw(e)},drawPrimitive:function(e){if(this.kind===n.POINT)e.point(this.params[0],this.params[1]);else if(this.kind===n.LINE)4===this.params.length?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===n.TRIANGLE)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===n.QUAD)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===n.RECT){if(null!==this.image){var r=imageModeConvert;e.imageMode(n.CORNER),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),imageModeConvert=r}else{var i=e.curRectMode;e.rectMode(n.CORNER),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),e.curRectMode=i}}else if(this.kind===n.ELLIPSE){var s=e.curEllipseMode;e.ellipseMode(n.CORNER),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),e.curEllipseMode=s}else if(this.kind===n.ARC){var o=curEllipseMode;e.ellipseMode(n.CORNER),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),curEllipseMode=o}else this.kind===n.BOX?1===this.params.length?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):this.kind===n.SPHERE&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var n,r,i;if("number"==typeof e)return this.children[e];if(""===e||this.name===e)return this;if(this.nameTable.length>0){for(n=0,r=this.nameTable.length;n<r||i;n++)if(this.nameTable[n].getName===e){i=this.nameTable[n];break}if(i)return i}for(n=0,r=this.children.length;n<r;n++)if(i=this.children[n].getChild(e))return i;return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,null!==e.getName()&&this.addName(e.getName(),e)},addName:function(e,n){null!==this.parent?this.parent.addName(e,n):this.nameTable.push([e,n])},translate:function(){2==arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){null===this.matrix?2===e?this.matrix=new r:this.matrix=new i:3===e&&this.matrix instanceof r&&(this.matrix=new i)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){1==arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2==arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3==arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){1==arguments.length?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):6==arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16==arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}},s}},{}],17:[function(e,n,r){n.exports=function(e){var n=e.CommonFunctions,r=e.PConstants,i=e.PShape,s=e.XMLElement,o=e.colors,a=function(){if(i.call(this),1==arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=r.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=r.SQUARE,this.strokeJoin=r.MITER,this.strokeGradient=null,this.strokeGradientPaint=null,this.strokeName=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=r.ALPHA_MASK,this.fillGradient=null,this.fillGradientPaint=null,this.fillName=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">"}else 2==arguments.length&&("string"==typeof arguments[1]?arguments[1].indexOf(".svg")>-1&&(this.element=new s(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=r.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=r.SQUARE,this.strokeJoin=r.MITER,this.strokeGradient="",this.strokeGradientPaint="",this.strokeName="",this.strokeOpacity=1,this.fill=!0,this.fillColor=r.ALPHA_MASK,this.fillGradient=null,this.fillGradientPaint=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");var e=this.element.getStringAttribute("display","inline");this.visible="none"!==e;var n=this.element.getAttribute("transform");n&&(this.matrix=this.parseMatrix(n));var o=this.element.getStringAttribute("viewBox");if(null!==o){var a=o.split(" ");this.width=a[2],this.height=a[3]}var l=this.element.getStringAttribute("width"),h=this.element.getStringAttribute("height");if(null!==l)this.width=this.parseUnitSize(l),this.height=this.parseUnitSize(h);else if(0===this.width||0===this.height)throw this.width=1,this.height=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};return a.prototype=new i,a.prototype.parseMatrix=function(e){this.checkMatrix(2);var r=[];if(e.replace(/\s*(\w+)\((.*?)\)/g,function(e){r.push(n.trim(e))}),0===r.length)return null;for(var i=0,s=r.length;i<s;i++){var o=function(e){var n=[];return e.replace(/\((.*?)\)/,function(e,r){n=r.replace(/,+/g," ").split(/\s+/)}),n}(r[i]);if(-1!==r[i].indexOf("matrix"))this.matrix.set(o[0],o[2],o[4],o[1],o[3],o[5]);else if(-1!==r[i].indexOf("translate")){var a=o[0],l=2===o.length?o[1]:0;this.matrix.translate(a,l)}else if(-1!==r[i].indexOf("scale")){var h=o[0],u=2===o.length?o[1]:o[0];this.matrix.scale(h,u)}else if(-1!==r[i].indexOf("rotate")){var c=o[0];1===o.length?this.matrix.rotate(n.radians(c)):3===o.length&&(this.matrix.translate(o[1],o[2]),this.matrix.rotate(n.radians(o[0])),this.matrix.translate(-o[1],-o[2]))}else -1!==r[i].indexOf("skewX")?this.matrix.skewX(parseFloat(o[0])):-1!==r[i].indexOf("skewY")?this.matrix.skewY(o[0]):-1!==r[i].indexOf("shearX")?this.matrix.shearX(o[0]):-1!==r[i].indexOf("shearY")&&this.matrix.shearY(o[0])}return this.matrix},a.prototype.parseChildren=function(e){var n,r,s=e.getChildren(),o=new i;for(n=0,r=s.length;n<r;n++){var a=this.parseChild(s[n]);a&&o.addChild(a)}for(n=0,r=o.children.length;n<r;n++)this.children.push(o.children[n])},a.prototype.getName=function(){return this.name},a.prototype.parseChild=function(e){var n,r=e.getName();return"g"===r?n=new a(this,e):"defs"===r?n=new a(this,e):"line"===r?(n=new a(this,e)).parseLine():"circle"===r?(n=new a(this,e)).parseEllipse(!0):"ellipse"===r?(n=new a(this,e)).parseEllipse(!1):"rect"===r?(n=new a(this,e)).parseRect():"polygon"===r?(n=new a(this,e)).parsePoly(!0):"polyline"===r?(n=new a(this,e)).parsePoly(!1):"path"===r?(n=new a(this,e)).parsePath():"radialGradient"===r?unimplemented("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===r?unimplemented("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===r?unimplemented("PShapeSVG.prototype.parseChild, name = text"):"filter"===r?unimplemented("PShapeSVG.prototype.parseChild, name = filter"):"mask"===r&&unimplemented("PShapeSVG.prototype.parseChild, name = mask"),n},a.prototype.parsePath=function(){this.family=r.PATH,this.kind=0;var e,i,s,o,a=n.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==a){a=a.split("");for(var l=0,h=0,u=0,c=0,f=0,p=0,m=0,g=0,d=0,v=0,y=0,x=0,A=0,b=0,w=0,E=0,S="",P=[],C=!1;w<a.length;)if((E=a[w].charCodeAt(0))>=65&&E<=90||E>=97&&E<=122){if(s=w,++w<a.length)for(P=[],E=a[w].charCodeAt(0);!(E>=65&&E<=90||E>=97&&E<=100||E>=102&&E<=122)&&!1===C;)32===E?""!==S&&(P.push(parseFloat(S)),S=""):45===E?101===a[w-1].charCodeAt(0)?S+=a[w].toString():(""!==S&&P.push(parseFloat(S)),S=a[w].toString()):S+=a[w].toString(),++w===a.length?C=!0:E=a[w].charCodeAt(0);if(""!==S&&(P.push(parseFloat(S)),S=""),77===(E=(i=a[s]).charCodeAt(0))){if(P.length>=2&&P.length%2==0&&(l=P[0],h=P[1],this.parsePathMoveto(l,h),P.length>2))for(s=2,o=P.length;s<o;s+=2)l=P[s],h=P[s+1],this.parsePathLineto(l,h)}else if(109===E){if(P.length>=2&&P.length%2==0&&(l+=P[0],h+=P[1],this.parsePathMoveto(l,h),P.length>2))for(s=2,o=P.length;s<o;s+=2)l+=P[s],h+=P[s+1],this.parsePathLineto(l,h)}else if(76===E){if(P.length>=2&&P.length%2==0)for(s=0,o=P.length;s<o;s+=2)l=P[s],h=P[s+1],this.parsePathLineto(l,h)}else if(108===E){if(P.length>=2&&P.length%2==0)for(s=0,o=P.length;s<o;s+=2)l+=P[s],h+=P[s+1],this.parsePathLineto(l,h)}else if(72===E)for(s=0,o=P.length;s<o;s++)l=P[s],this.parsePathLineto(l,h);else if(104===E)for(s=0,o=P.length;s<o;s++)l+=P[s],this.parsePathLineto(l,h);else if(86===E)for(s=0,o=P.length;s<o;s++)h=P[s],this.parsePathLineto(l,h);else if(118===E)for(s=0,o=P.length;s<o;s++)h+=P[s],this.parsePathLineto(l,h);else if(67===E){if(P.length>=6&&P.length%6==0)for(s=0,o=P.length;s<o;s+=6)f=P[s],m=P[s+1],p=P[s+2],g=P[s+3],d=P[s+4],v=P[s+5],this.parsePathCurveto(f,m,p,g,d,v),l=d,h=v}else if(99===E){if(P.length>=6&&P.length%6==0)for(s=0,o=P.length;s<o;s+=6)f=l+P[s],m=h+P[s+1],p=l+P[s+2],g=h+P[s+3],d=l+P[s+4],v=h+P[s+5],this.parsePathCurveto(f,m,p,g,d,v),l=d,h=v}else if(83===E){if(P.length>=4&&P.length%4==0)for(s=0,o=P.length;s<o;s+=4)"c"===e.toLowerCase()||"s"===e.toLowerCase()?(y=this.vertices[this.vertices.length-2][0],x=this.vertices[this.vertices.length-2][1],A=this.vertices[this.vertices.length-1][0],b=this.vertices[this.vertices.length-1][1],f=A+(A-y),m=b+(b-x)):(f=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1]),p=P[s],g=P[s+1],d=P[s+2],v=P[s+3],this.parsePathCurveto(f,m,p,g,d,v),l=d,h=v}else if(115===E){if(P.length>=4&&P.length%4==0)for(s=0,o=P.length;s<o;s+=4)"c"===e.toLowerCase()||"s"===e.toLowerCase()?(y=this.vertices[this.vertices.length-2][0],x=this.vertices[this.vertices.length-2][1],A=this.vertices[this.vertices.length-1][0],b=this.vertices[this.vertices.length-1][1],f=A+(A-y),m=b+(b-x)):(f=this.vertices[this.vertices.length-1][0],m=this.vertices[this.vertices.length-1][1]),p=l+P[s],g=h+P[s+1],d=l+P[s+2],v=h+P[s+3],this.parsePathCurveto(f,m,p,g,d,v),l=d,h=v}else if(81===E){if(P.length>=4&&P.length%4==0)for(s=0,o=P.length;s<o;s+=4)u=P[s],c=P[s+1],d=P[s+2],v=P[s+3],this.parsePathQuadto(l,h,u,c,d,v),l=d,h=v}else if(113===E){if(P.length>=4&&P.length%4==0)for(s=0,o=P.length;s<o;s+=4)u=l+P[s],c=h+P[s+1],d=l+P[s+2],v=h+P[s+3],this.parsePathQuadto(l,h,u,c,d,v),l=d,h=v}else if(84===E){if(P.length>=2&&P.length%2==0)for(s=0,o=P.length;s<o;s+=2)"q"===e.toLowerCase()||"t"===e.toLowerCase()?(y=this.vertices[this.vertices.length-2][0],x=this.vertices[this.vertices.length-2][1],A=this.vertices[this.vertices.length-1][0],b=this.vertices[this.vertices.length-1][1],u=A+(A-y),c=b+(b-x)):(u=l,c=h),d=P[s],v=P[s+1],this.parsePathQuadto(l,h,u,c,d,v),l=d,h=v}else if(116===E){if(P.length>=2&&P.length%2==0)for(s=0,o=P.length;s<o;s+=2)"q"===e.toLowerCase()||"t"===e.toLowerCase()?(y=this.vertices[this.vertices.length-2][0],x=this.vertices[this.vertices.length-2][1],A=this.vertices[this.vertices.length-1][0],b=this.vertices[this.vertices.length-1][1],u=A+(A-y),c=b+(b-x)):(u=l,c=h),d=l+P[s],v=h+P[s+1],this.parsePathQuadto(l,h,u,c,d,v),l=d,h=v}else(90===E||122===E)&&(this.close=!0);e=i.toString()}else w++}},a.prototype.parsePathQuadto=function(e,n,i,s,o,a){if(this.vertices.length>0)this.parsePathCode(r.BEZIER_VERTEX),this.parsePathVertex(e+(i-e)*2/3,n+(s-n)*2/3),this.parsePathVertex(o+(i-o)*2/3,a+(s-a)*2/3),this.parsePathVertex(o,a);else throw"Path must start with M/m"},a.prototype.parsePathCurveto=function(e,n,i,s,o,a){if(this.vertices.length>0)this.parsePathCode(r.BEZIER_VERTEX),this.parsePathVertex(e,n),this.parsePathVertex(i,s),this.parsePathVertex(o,a);else throw"Path must start with M/m"},a.prototype.parsePathLineto=function(e,n){if(this.vertices.length>0)this.parsePathCode(r.VERTEX),this.parsePathVertex(e,n),this.vertices[this.vertices.length-1].moveTo=!1;else throw"Path must start with M/m"},a.prototype.parsePathMoveto=function(e,n){this.vertices.length>0&&this.parsePathCode(r.BREAK),this.parsePathCode(r.VERTEX),this.parsePathVertex(e,n),this.vertices[this.vertices.length-1].moveTo=!0},a.prototype.parsePathVertex=function(e,n){var r=[];r[0]=e,r[1]=n,this.vertices.push(r)},a.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},a.prototype.parsePoly=function(e){this.family=r.PATH,this.close=e;var i=n.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(null!==i){var s=i.split(" ");if(s.length%2==0)for(var o=0,a=s.length;o<a;o++){var l=[];l[0]=s[o],l[1]=s[++o],this.vertices.push(l)}else throw"Error parsing polygon points: odd number of coordinates provided"}},a.prototype.parseRect=function(){if(this.kind=r.RECT,this.family=r.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height"),this.params[2]<0||this.params[3]<0)throw"svg error: negative width or height found while parsing <rect>"},a.prototype.parseEllipse=function(e){var n,i;if(this.kind=r.ELLIPSE,this.family=r.PRIMITIVE,this.params=[],this.params[0]=0|this.element.getFloatAttribute("cx"),this.params[1]=0|this.element.getFloatAttribute("cy"),e){if((n=i=this.element.getFloatAttribute("r"))<0)throw"svg error: negative radius found while parsing <circle>"}else if(n=this.element.getFloatAttribute("rx"),i=this.element.getFloatAttribute("ry"),n<0||i<0)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=n,this.params[1]-=i,this.params[2]=2*n,this.params[3]=2*i},a.prototype.parseLine=function(){this.kind=r.LINE,this.family=r.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},a.prototype.parseColors=function(e){if(e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill")),e.hasAttribute("style"))for(var r=e.getStringAttribute("style").toString().split(";"),i=0,s=r.length;i<s;i++){var o=n.trim(r[i].split(":"));"fill"===o[0]?this.setFill(o[1]):"fill-opacity"===o[0]?this.setFillOpacity(o[1]):"stroke"===o[0]?this.setStroke(o[1]):"stroke-width"===o[0]?this.setStrokeWeight(o[1]):"stroke-linecap"===o[0]?this.setStrokeCap(o[1]):"stroke-linejoin"===o[0]?this.setStrokeJoin(o[1]):"stroke-opacity"===o[0]?this.setStrokeOpacity(o[1]):"opacity"===o[0]&&this.setOpacity(o[1])}},a.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},a.prototype.setFill=function(e){var n=4278190080&this.fillColor;"none"===e?this.fill=!1:0===e.indexOf("#")?(this.fill=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=n|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.fill=!0,this.fillColor=n|this.parseRGB(e)):0===e.indexOf("url(#")?this.fillName=e.substring(5,e.length-1):o[e]&&(this.fill=!0,this.fillColor=n|16777215&parseInt(o[e].substring(1),16))},a.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(e)<<24|16777215&this.fillColor},a.prototype.setStroke=function(e){var n=4278190080&this.strokeColor;"none"===e?this.stroke=!1:"#"===e.charAt(0)?(this.stroke=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=n|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.stroke=!0,this.strokeColor=n|this.parseRGB(e)):0===e.indexOf("url(#")?this.strokeName=e.substring(5,e.length-1):o[e]&&(this.stroke=!0,this.strokeColor=n|16777215&parseInt(o[e].substring(1),16))},a.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},a.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin=r.MITER:"round"===e?this.strokeJoin=r.ROUND:"bevel"===e&&(this.strokeJoin=r.BEVEL)},a.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap=r.SQUARE:"round"===e?this.strokeCap=r.ROUND:"square"===e&&(this.strokeCap=r.PROJECT)},a.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},a.prototype.parseRGB=function(e){var n=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(", ");return n[0]<<16|n[1]<<8|n[2]},a.prototype.parseUnitSize=function(e){var n=e.length-2;return n<0?e:e.indexOf("pt")===n?1.25*parseFloat(e.substring(0,n)):e.indexOf("pc")===n?15*parseFloat(e.substring(0,n)):e.indexOf("mm")===n?3.543307*parseFloat(e.substring(0,n)):e.indexOf("cm")===n?35.43307*parseFloat(e.substring(0,n)):e.indexOf("in")===n?90*parseFloat(e.substring(0,n)):e.indexOf("px")===n?parseFloat(e.substring(0,n)):parseFloat(e)},a}},{}],18:[function(e,n,r){n.exports=function(e,n){var r=e.PConstants;function i(e,n,r){this.x=e||0,this.y=n||0,this.z=r||0}for(var s in i.fromAngle=function(e,r){return(r===n||null===r)&&(r=new i),r.x=Math.cos(e),r.y=Math.sin(e),r},i.random2D=function(e){return i.fromAngle(Math.random()*r.TWO_PI,e)},i.random3D=function(e){var s=Math.random()*r.TWO_PI,o=2*Math.random()-1,a=Math.sqrt(1-o*o),l=a*Math.cos(s),h=a*Math.sin(s);return e===n||null===e?e=new i(l,h,o):e.set(l,h,o),e},i.dist=function(e,n){return e.dist(n)},i.dot=function(e,n){return e.dot(n)},i.cross=function(e,n){return e.cross(n)},i.sub=function(e,n){return new i(e.x-n.x,e.y-n.y,e.z-n.z)},i.angleBetween=function(e,n){return Math.acos(e.dot(n)/Math.sqrt(e.magSq()*n.magSq()))},i.lerp=function(e,n,r){var s=new i(e.x,e.y,e.z);return s.lerp(n,r),s},i.prototype={set:function(e,n,r){1==arguments.length?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=n,this.z=r)},get:function(){return new i(this.x,this.y,this.z)},mag:function(){var e=this.x,n=this.y,r=this.z;return Math.sqrt(e*e+n*n+r*r)},magSq:function(){var e=this.x,n=this.y,r=this.z;return e*e+n*n+r*r},setMag:function(e,r){if(r!==n)return e.normalize(),e.mult(r),e;r=e,this.normalize(),this.mult(r)},add:function(e,n,r){1==arguments.length?(this.x+=e.x,this.y+=e.y,this.z+=e.z):2==arguments.length?(this.x+=e,this.y+=n):(this.x+=e,this.y+=n,this.z+=r)},sub:function(e,n,r){1==arguments.length?(this.x-=e.x,this.y-=e.y,this.z-=e.z):2==arguments.length?(this.x-=e,this.y-=n):(this.x-=e,this.y-=n,this.z-=r)},mult:function(e){"number"==typeof e?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){"number"==typeof e?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},rotate:function(e){var n=this.x,r=Math.cos(e),i=Math.sin(e);this.x=r*this.x-i*this.y,this.y=i*n+r*this.y},dist:function(e){var n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return Math.sqrt(n*n+r*r+i*i)},dot:function(e,n,r){return 1==arguments.length?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*n+this.z*r},cross:function(e){var n=this.x,r=this.y,s=this.z;return new i(r*e.z-e.y*s,s*e.x-e.z*n,n*e.y-e.x*r)},lerp:function(e,n,r,i){var s,o,a=function(e,n,r){return e+(n-e)*r};2==arguments.length?(i=n,s=e.x,o=e.y,r=e.z):(s=e,o=n),this.x=a(this.x,s,i),this.y=a(this.y,o,i),this.z=a(this.z,r,i)},normalize:function(){var e=this.mag();e>0&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading:function(){return-Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}},i.prototype)i.prototype.hasOwnProperty(s)&&!i.hasOwnProperty(s)&&(i[s]=function(e){return function(n,r){var i=n.get();return i[e](r),i}}(s));return i}},{}],19:[function(e,n,r){n.exports=function(){var e=function(e,n,r,i,s){this.fullName=e||"",this.name=n||"",this.namespace=r||"",this.value=i,this.type=s};return e.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}},e}},{}],20:[function(e,n,r){n.exports=function(e,n){var r=e.Browser,i=r.ajax,s=r.window,o=(s.XMLHttpRequest,s.DOMParser),a=e.XMLAttribute,l=function(e,r,i,s){this.attributes=[],this.children=[],this.fullName=null,this.name=null,this.namespace="",this.content=null,this.parent=null,this.lineNr="",this.systemID="",this.type="ELEMENT",e&&("string"==typeof e?r===n&&e.indexOf("<")>-1?this.parse(e):(this.fullName=e,this.namespace=r,this.systemId=i,this.lineNr=s):this.parse(r,!0))};return l.prototype={parse:function(e,n){try{n&&(e=i(e));var r=new o().parseFromString(e,"text/xml").documentElement;if(r)this.parseChildrenRecursive(null,r);else throw"Error loading document";return this}catch(e){throw e}},parseChildrenRecursive:function(e,n){var r,i,s,o,h,u;if(e?(r=new l(n.nodeName)).parent=e:(this.fullName=n.localName,this.name=n.nodeName,r=this),3===n.nodeType&&""!==n.textContent)return this.createPCDataElement(n.textContent);if(4===n.nodeType)return this.createCDataElement(n.textContent);if(n.attributes)for(o=0,h=n.attributes.length;o<h;o++)i=new a((s=n.attributes[o]).getname,s.nodeName,s.namespaceURI,s.nodeValue,s.nodeType),r.attributes.push(i);if(n.childNodes)for(o=0,h=n.childNodes.length;o<h;o++){var c=n.childNodes[o];null!==(u=r.parseChildrenRecursive(r,c))&&r.children.push(u)}return r},createElement:function(e,r,i,s){return i===n?new l(e,r):new l(e,r,i,s)},createPCDataElement:function(e,n){if(""===e.replace(/^\s+$/g,""))return null;var r=new l;return r.type="TEXT",r.content=e,r},createCDataElement:function(e){var n=this.createPCDataElement(e);if(null===n)return null;n.type="CDATA";var r,i={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};for(r in i)Object.hasOwnProperty(i,r)||(e=e.replace(RegExp(r,"g"),i[r]));return n.cdata=e,n},hasAttribute:function(){return 1==arguments.length?null!==this.getAttribute(arguments[0]):2==arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(e){var n,r,i,s,o,a,h;if(!(e instanceof l)||this.fullName!==e.fullName||this.attributes.length!==e.getAttributeCount()||this.attributes.length!==e.attributes.length)return!1;for(n=0,r=this.attributes.length;n<r;n++)if(i=this.attributes[n].getName(),s=this.attributes[n].getNamespace(),null===(o=e.findAttribute(i,s))||this.attributes[n].getValue()!==o.getValue()||this.attributes[n].getType()!==o.getType())return!1;if(this.children.length!==e.getChildCount())return!1;if(this.children.length>0){for(n=0,r=this.children.length;n<r;n++)if(a=this.getChild(n),h=e.getChild(n),!a.equals(h))return!1;return!0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var e=this.children;return 1===e.length&&("TEXT"===e[0].type||"CDATA"===e[0].type)?e[0].content:null},getAttribute:function(){var e;return 2==arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():arguments[1]:1==arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():null:3==arguments.length?(e=this.findAttribute(arguments[0],arguments[1]))?e.getValue():arguments[2]:void 0},getStringAttribute:function(){return 1==arguments.length?this.getAttribute(arguments[0]):2==arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1==arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2==arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1==arguments.length?this.getAttribute(arguments[0],0):2==arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return this.children.length>0},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(e,n){if(e){if(null===e.getLocalName()&&!this.hasChildren()){var r=this.children[this.children.length-1];if(null===r.getLocalName()){r.setContent(r.getContent()+e.getContent());return}}e.parent=this,this.children.splice(n,0,e)}},getChild:function(e){if("number"==typeof e)return this.children[e];if(-1!==e.indexOf("/"))return this.getChildRecursive(e.split("/"),0);for(var n,r,i=0,s=this.getChildCount();i<s;i++)if(null!==(r=(n=this.getChild(i)).getName())&&r===e)return n;return null},getChildren:function(){if(1==arguments.length){if("number"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var e,n,r=[],i=0,s=this.getChildCount();i<s;i++)null!==(n=(e=this.getChild(i)).getName())&&n===arguments[0]&&r.push(e);return r}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,n){if(n===e.length)return this;for(var r,i,s=e[n],o=0,a=this.getChildCount();o<a;o++)if(null!==(i=(r=this.getChild(o)).getName())&&i===s)return r.getChildRecursive(e,n+1);return null},getChildrenRecursive:function(e,n){if(n===e.length-1)return this.getChildren(e[n]);for(var r=this.getChildren(e[n]),i=[],s=0;s<r.length;s++)i=i.concat(r[s].getChildrenRecursive(e,n+1));return i},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var e=[],n=0,r=this.children.length;n<r;n++)e.push(this.getChild(n).getName());return e},removeAttribute:function(e,n){this.namespace=n||"";for(var r=0,i=this.attributes.length;r<i;r++)if(this.attributes[r].getName()===e&&this.attributes[r].getNamespace()===this.namespace){this.attributes.splice(r,1);break}},removeChild:function(e){if(e){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].equals(e)){this.children.splice(n,1);break}}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,n){this.namespace=n||"";for(var r=0,i=this.attributes.length;r<i;r++)if(this.attributes[r].getName()===e&&this.attributes[r].getNamespace()===this.namespace)return this.attributes[r];return null},setAttribute:function(){var e;if(3==arguments.length){var n=arguments[0].indexOf(":"),r=arguments[0].substring(n+1);e=this.findAttribute(r,arguments[1]),e?e.setValue(arguments[2]):(e=new a(arguments[0],r,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else e=this.findAttribute(arguments[0]),e?e.setValue(arguments[1]):(e=new a(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,n){this.setAttribute(e,n)},setInt:function(e,n){this.setAttribute(e,n)},setFloat:function(e,n){this.setAttribute(e,n)},setContent:function(e){this.children.length>0&&Processing.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(1==arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");null===arguments[1]||e<0?this.name=arguments[0]:this.name=arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content||"";if("CDATA"===this.type)return this.cdata||"";var e,n,r=this.fullName,i="<"+r;for(e=0;e<this.attributes.length;e++){var s=this.attributes[e];i+=" "+s.getName()+'="'+s.getValue()+'"'}if(0===this.children.length)""===this.content||null===this.content||void 0===this.content?i+="/>":i+=">"+this.content+"</"+r+">";else{for(i+=">",n=0;n<this.children.length;n++)i+=this.children[n].toString();i+="</"+r+">"}return i}},l.parse=function(e){var n=new l;return n.parse(e),n},l}},{}],21:[function(e,n,r){n.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],22:[function(e,n,r){n.exports=function(e,n,r){return function(i,s){i.__contains=function(e,n){return"string"!=typeof e?e.contains.apply(e,s(arguments)):null!==e&&null!==n&&"string"==typeof n&&e.indexOf(n)>-1},i.__replaceAll=function(e,n,r){return"string"!=typeof e?e.replaceAll.apply(e,s(arguments)):e.replace(RegExp(n,"g"),r)},i.__replaceFirst=function(e,n,r){return"string"!=typeof e?e.replaceFirst.apply(e,s(arguments)):e.replace(RegExp(n,""),r)},i.__replace=function(e,n,r){if("string"!=typeof e)return e.replace.apply(e,s(arguments));if(n instanceof RegExp)return e.replace(n,r);if("string"!=typeof n&&(n=n.toString()),""===n)return e;var i=e.indexOf(n);if(i<0)return e;var o=0,a="";do a+=e.substring(o,i)+r,o=i+n.length;while((i=e.indexOf(n,o))>=0)return a+e.substring(o)},i.__equals=function(e,r){return e.equals instanceof Function?e.equals.apply(e,s(arguments)):n(e,r)},i.__equalsIgnoreCase=function(e,n){return"string"!=typeof e?e.equalsIgnoreCase.apply(e,s(arguments)):e.toLowerCase()===n.toLowerCase()},i.__toCharArray=function(e){if("string"!=typeof e)return e.toCharArray.apply(e,s(arguments));for(var n=[],r=0,i=e.length;r<i;++r)n[r]=new Char(e.charAt(r));return n},i.__split=function(e,n,i){if("string"!=typeof e)return e.split.apply(e,s(arguments));var o=new RegExp(n);if(i===r||i<1)return e.split(o);for(var a,l=[],h=e;-1!==(a=h.search(o))&&l.length<i-1;){var u=o.exec(h).toString();l.push(h.substring(0,a)),h=h.substring(a+u.length)}return(-1!==a||""!==h)&&l.push(h),l},i.__codePointAt=function(e,n){var r=e.charCodeAt(n);return 55296<=r&&r<=56319?(r-55296)*1024+(e.charCodeAt(n+1)-56320)+65536:r},i.__matches=function(e,n){return new RegExp(n).test(e)},i.__startsWith=function(e,n,r){return"string"!=typeof e?e.startsWith.apply(e,s(arguments)):!((r=r||0)<0)&&!(r>e.length)&&(""===n||n===e||e.indexOf(n)===r)},i.__endsWith=function(e,n){if("string"!=typeof e)return e.endsWith.apply(e,s(arguments));var r=n?n.length:0;return""===n||n===e||e.indexOf(n)===e.length-r},i.__hashCode=function(n){return n.hashCode instanceof Function?n.hashCode.apply(n,s(arguments)):e(n)},i.__printStackTrace=function(e){i.println("Exception: "+e.toString())}}}},{}],23:[function(e,n,r){n.exports=function(e,n){var r=function(){return Math.random()};function i(e,n){var r=e||362436069,i=n||521288629,s=function(){return((65535&(r=36969*(65535&r)+(r>>>16)&4294967295))<<16|65535&(i=18e3*(65535&i)+(i>>>16)&4294967295))&4294967295};this.doubleGenerator=function(){var e=s()/4294967296;return e<0?1+e:e},this.intGenerator=s}function s(e){var r,s,o=e!==n?new i(e,(e<<16)+(e>>16)):i.createRandomized(),a=new Uint8Array(512);for(r=0;r<256;++r)a[r]=r;for(r=0;r<256;++r){var l=a[s=255&o.intGenerator()];a[s]=a[r],a[r]=l}for(r=0;r<256;++r)a[r+256]=a[r];function h(e,n,r,i){var s=15&e,o=s<8?n:r,a=s<4?r:12===s||14===s?n:i;return((1&s)==0?o:-o)+((2&s)==0?a:-a)}function u(e,n,r){var i=(1&e)==0?n:r;return(2&e)==0?-i:i}this.noise3d=function(e,n,r){var i,s,o,l,u,c,f,p=255&Math.floor(e),m=255&Math.floor(n),g=255&Math.floor(r);e-=Math.floor(e),n-=Math.floor(n),r-=Math.floor(r);var d=(3-2*e)*e*e,v=(3-2*n)*n*n,y=(3-2*r)*r*r,x=a[p]+m,A=a[x]+g,b=a[x+1]+g,w=a[p+1]+m,E=a[w]+g,S=a[w+1]+g;return(f=(o=(i=h(a[A],e,n,r))+d*(h(a[E],e-1,n,r)-i))+v*((s=h(a[b],e,n-1,r))+d*(h(a[S],e-1,n-1,r)-s)-o))+y*((c=(l=h(a[A+1],e,n,r-1))+d*(h(a[E+1],e-1,n,r-1)-l))+v*((u=h(a[b+1],e,n-1,r-1))+d*(h(a[S+1],e-1,n-1,r-1)-u)-c)-f)},this.noise2d=function(e,n){var r,i,s,o=255&Math.floor(e),l=255&Math.floor(n);e-=Math.floor(e),n-=Math.floor(n);var h=(3-2*e)*e*e,c=(3-2*n)*n*n,f=a[o]+l,p=a[o+1]+l;return(s=(r=u(a[f],e,n))+h*(u(a[p],e-1,n)-r))+c*((i=u(a[f+1],e,n-1))+h*(u(a[p+1],e-1,n-1)-i)-s)},this.noise1d=function(e){var n,r,i,s,o,l,h=255&Math.floor(e);return o=(3-2*(e-=Math.floor(e)))*e*e,n=a[h],r=e,(l=(1&n)==0?-r:r)+o*(i=a[h+1],s=e-1,((1&i)==0?-s:s)-l)}}e.abs=Math.abs,e.ceil=Math.ceil,e.exp=Math.exp,e.floor=Math.floor,e.log=Math.log,e.pow=Math.pow,e.round=Math.round,e.sqrt=Math.sqrt,e.acos=Math.acos,e.asin=Math.asin,e.atan=Math.atan,e.atan2=Math.atan2,e.cos=Math.cos,e.sin=Math.sin,e.tan=Math.tan,e.constrain=function(e,n,r){return e>r?r:e<n?n:e},e.dist=function(){var e,n,r;return 4==arguments.length?(e=arguments[0]-arguments[2],n=arguments[1]-arguments[3],Math.sqrt(e*e+n*n)):6==arguments.length?(e=arguments[0]-arguments[3],n=arguments[1]-arguments[4],r=arguments[2]-arguments[5],Math.sqrt(e*e+n*n+r*r)):void 0},e.lerp=function(e,n,r){return(n-e)*r+e},e.mag=function(e,n,r){return r?Math.sqrt(e*e+n*n+r*r):Math.sqrt(e*e+n*n)},e.map=function(e,n,r,i,s){return i+(e-n)/(r-n)*(s-i)},e.max=function(){if(2==arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=1==arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var n=e[0],r=e.length,i=1;i<r;++i)n<e[i]&&(n=e[i]);return n},e.min=function(){if(2==arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=1==arguments.length?arguments[0]:arguments;if(!("length"in e&&e.length>0))throw"Non-empty array is expected";for(var n=e[0],r=e.length,i=1;i<r;++i)n>e[i]&&(n=e[i]);return n},e.norm=function(e,n,r){return(e-n)/(r-n)},e.sq=function(e){return e*e},e.degrees=function(e){return 180*e/Math.PI},e.random=function(e,n){if(0==arguments.length?(n=1,e=0):1==arguments.length&&(n=e,e=0),e===n)return e;for(var i=0;i<100;i++){var s=r()*(n-e)+e;if(s!==n)return s}return e},i.createRandomized=function(){var e=new Date;return new i(e/6e4&4294967295,4294967295&e)},e.randomSeed=function(e){r=new i(e,(e<<16)+(e>>16)).doubleGenerator,this.haveNextNextGaussian=!1},e.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;do i=(e=2*r()-1)*e+(n=2*r()-1)*n;while(i>=1||0===i)var e,n,i,s=Math.sqrt(-2*Math.log(i)/i);return this.nextNextGaussian=n*s,this.haveNextNextGaussian=!0,e*s};var o={generator:n,octaves:4,fallout:.5,seed:n};e.noise=function(e,r,i){o.generator===n&&(o.generator=new s(o.seed));for(var a=o.generator,l=1,h=1,u=0,c=0;c<o.octaves;++c){switch(l*=o.fallout,arguments.length){case 1:u+=l*(1+a.noise1d(h*e))/2;break;case 2:u+=l*(1+a.noise2d(h*e,h*r))/2;break;case 3:u+=l*(1+a.noise3d(h*e,h*r,h*i))/2}h*=2}return u},e.noiseDetail=function(e,r){o.octaves=e,r!==n&&(o.fallout=r)},e.noiseSeed=function(e){o.seed=e,o.generator=n}}},{}],24:[function(e,n,r){var i,s;n.exports=s={trim:function(e){if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(e[r].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return n}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},radians:function(e){return e/180*Math.PI},nfCoreScalar:function(e,n,r,s,o,a){var l=e<0?r:n,h=o===i||o<0?0:o,u=Math.abs(e);if(0===o)for(h=1,u*=10;Math.abs(Math.round(u)-u)>1e-6&&h<7;)++h,u*=10;else 0!==h&&(u*=Math.pow(10,h));var c,f=2*u;if(Math.floor(u)===u)c=u;else if(Math.floor(f)===f){var p=Math.floor(u);c=p+p%2}else c=Math.round(u);for(var m="",g=s+h;g>0||c>0;)g--,m=""+c%10+m,c=Math.floor(c/10);if(a!==i)for(var d=m.length-3-h;d>0;)m=m.substring(0,d)+a+m.substring(d),d-=3;return h>0?l+m.substring(0,m.length-h)+"."+m.substring(m.length-h,m.length):l+m},nfCore:function(e,n,r,i,o,a){if(e instanceof Array){for(var l=[],h=0,u=e.length;h<u;h++)l.push(s.nfCoreScalar(e[h],n,r,i,o,a));return l}return s.nfCoreScalar(e,n,r,i,o,a)},nf:function(e,n,r){return s.nfCore(e,"","-",n,r)},nfs:function(e,n,r){return s.nfCore(e," ","-",n,r)},nfp:function(e,n,r){return s.nfCore(e,"+","-",n,r)},nfc:function(e,n){return s.nfCore(e,"","-",0,n,",")},withCommonFunctions:function(e){["trim","radians","nf","nfs","nfp","nfc"].forEach(function(n){e[n]=s[n]})}}},{}],25:[function(e,n,r){n.exports=function(e,n,r,i,s,o,a){var l,h,u=["mouseout","mousemove","mousedown","mouseup","DOMMouseScroll","mousewheel","touchstart"];function c(n,r){var i,o,a,l,h=n,u=0,c=0;if(e.pmouseX=e.mouseX,e.pmouseY=e.mouseY,h.offsetParent)do u+=h.offsetLeft,c+=h.offsetTop;while(!!(h=h.offsetParent))h=n;do u-=h.scrollLeft||0,c-=h.scrollTop||0;while(!!(h=h.parentNode))return s.defaultView&&s.defaultView.getComputedStyle&&(i=parseInt(s.defaultView.getComputedStyle(n,null).paddingLeft,10)||0,o=parseInt(s.defaultView.getComputedStyle(n,null).paddingTop,10)||0,a=parseInt(s.defaultView.getComputedStyle(n,null).borderLeftWidth,10)||0,l=parseInt(s.defaultView.getComputedStyle(n,null).borderTopWidth,10)||0),u+=i,c+=o,u+=a,c+=l,{X:u+=window.pageXOffset,Y:c+=window.pageYOffset}}function f(n,r){var i=c(n,r);e.mouseX=r.pageX-i.X,e.mouseY=r.pageY-i.Y}function p(e){var n,r=c(e.changedTouches[0].target,e.changedTouches[0]);for(n=0;n<e.touches.length;n++){var i=e.touches[n];i.offsetX=i.pageX-r.X,i.offsetY=i.pageY-r.Y}for(n=0;n<e.targetTouches.length;n++){var s=e.targetTouches[n];s.offsetX=s.pageX-r.X,s.offsetY=s.pageY-r.Y}for(n=0;n<e.changedTouches.length;n++){var o=e.changedTouches[n];o.offsetX=o.pageX-r.X,o.offsetY=o.pageY-r.Y}return e}r(n,"touchstart",function(s){n.setAttribute("style","-webkit-user-select: none"),n.setAttribute("onclick","void(0)"),n.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)"),i(n,u),e.touchStart!==a||e.touchMove!==a||e.touchEnd!==a||e.touchCancel!==a?(r(n,"touchstart",function(n){e.touchStart!==a&&(n=p(n),e.touchStart(n))}),r(n,"touchmove",function(n){e.touchMove!==a&&(n.preventDefault(),n=p(n),e.touchMove(n))}),r(n,"touchend",function(n){e.touchEnd!==a&&(n=p(n),e.touchEnd(n))}),r(n,"touchcancel",function(n){e.touchCancel!==a&&(n=p(n),e.touchCancel(n))})):(r(n,"touchstart",function(r){f(n,r.touches[0]),e.__mousePressed=!0,e.mouseDragging=!1,e.mouseButton=o.LEFT,"function"==typeof e.mousePressed&&e.mousePressed()}),r(n,"touchmove",function(r){r.preventDefault(),f(n,r.touches[0]),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),r(n,"touchend",function(n){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()}))}),l=!0,h=function(e){e.preventDefault(),e.stopPropagation()},e.disableContextMenu=function(){l&&(r(n,"contextmenu",h),l=!1)},e.enableContextMenu=function(){l||(detachEventHandler({elem:n,type:"contextmenu",fn:h}),l=!0)},r(n,"mousemove",function(r){f(n,r),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),r(n,"mouseout",function(n){"function"==typeof e.mouseOut&&e.mouseOut()}),r(n,"mouseover",function(r){f(n,r),"function"==typeof e.mouseOver&&e.mouseOver()}),n.onmousedown=function(){return n.focus(),!1},r(n,"mousedown",function(n){switch(e.__mousePressed=!0,e.mouseDragging=!1,n.which){case 1:e.mouseButton=o.LEFT;break;case 2:e.mouseButton=o.CENTER;break;case 3:e.mouseButton=o.RIGHT}"function"==typeof e.mousePressed&&e.mousePressed()}),r(n,"mouseup",function(n){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()});var m=function(r){if(r.target===n){var i=0;r.wheelDelta?(i=r.wheelDelta/120,window.opera&&(i=-i)):r.detail&&(i=-r.detail/3),e.mouseScroll=i,i&&"function"==typeof e.mouseScrolled&&(r.stopPropagation(),r.preventDefault(),e.mouseScrolled())}};r(s,"DOMMouseScroll",m),r(s,"mousewheel",m)}},{}],26:[function(e,n,r){n.exports=function(n,r){var i,s=r.defaultScope,o=s.PConstants,a=r.aFunctions,l=r.Browser.document;n.compile=function(e){var r=new n.Sketch,l=function(e){var r,l,h,u,c,f=function(){var e,r,i=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadXML","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","parseXML","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","randomGaussian","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shearX","shearY","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","transform","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","XML","year","__contains","__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith","__matches"];a&&Object.keys(a).forEach(function(e){i.push(e)});var s={};for(e=0,r=i.length;e<r;++e)s[i[e]]=null;for(var o in n.lib)if(n.lib.hasOwnProperty(o)&&n.lib[o].exports){var l=n.lib[o].exports;for(e=0,r=l.length;e<r;++e)s[l[e]]=null}return s}();function p(e){var n,r=/^\s*/.exec(e);if(r[0].length===e.length)n={left:r[0],middle:"",right:""};else{var i=/\s*$/.exec(e);n={left:r[0],middle:e.substring(r[0].length,i.index),right:i[0]}}return n.untrim=function(e){return this.left+e+this.right},n}function m(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function g(e,n){for(var r=0,i=n.length;r<i;++r)e[n[r]]=null;return e}function d(e){return e.substring(2,e.length-1)}var v=e.replace(/\r\n?|\n\r/g,"\n"),y=[],x=v.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,n,r,i,s,o,a,l){var h;return n||r?(h=y.length,y.push(e),"'"+h+"'"):i?(h=y.length,y.push(o),s+"'"+h+"'"):""!==l?" ":"\n"}),A=x=(x=(x=x.replace(/__x([0-9A-F]{4})/g,function(e,n){return"__x005F_x"+n})).replace(/\$/g,"__x0024")).replace(/return\s*[\n\r]+/g,"return "),b=function(e,n,r,i){return n||i?e:(w=!0,"")};do w=!1,A=A.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,b);while(w)var w,E,S,P=function(e){for(var n=[],r=e.split(/([\{\[\(\)\]\}])/),i=r[0],s=[],o=1;o<r.length;o+=2){var a=r[o];if("["===a||"{"===a||"("===a)s.push(i),i=a;else if("]"===a||"}"===a||")"===a){var l="}"===a?"A":")"===a?"B":"C",h=n.length;n.push(i+a),i=s.pop()+'"'+l+(h+1)+'"'}i+=r[o+1]}return n.unshift(i),n}(A),C={},M=0;function T(e,n){var r=P.length;return P.push(e),'"'+n+r+'"'}function _(){return"class"+ ++M}function R(e,n,r){e.classId=n,e.scopeId=r,C[n]=e}var L=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,I=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,D=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,O=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,N=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,F=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;function k(e){var n=e;return(n=(n=n.replace(L,function(e){return T(e,"E")})).replace(I,function(e){return T(e,"D")})).replace(F,function(e){return T(e,"H")})}function B(e,n){return e.replace(O,function(e,r,i,s,o,a){return i!==n?e:T(e,"G")})}function $(e){this.name=e}function G(e,n){this.params=e,this.methodArgsParam=n}function V(e){var n=m(e.substring(1,e.length-1)),r=[],i=null;if(""!==n)for(var s=n.split(","),o=0;o<s.length;++o){var a=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(s[o]);if(o===s.length-1&&s[o].indexOf("...")>=0){i=new $(a[1]);break}r.push(new $(a[1]))}return new G(r,i)}function z(e,n){this.baseInterfaceName=e,this.body=n,n.owner=this}function U(e,n,r){this.name=e,this.params=n,this.body=r}function H(e){var n=new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(e);return new U("function"!==n[1]?n[1]:null,V(P[n[2]]),h(P[n[3]]))}function X(e){this.members=e}function Y(e,n){this.expr=e,this.transforms=n}function K(e,n,r){this.name=e,this.value=n,this.isDefault=r}function j(e,n){var r,i,s,o=e.indexOf("=");return o<0?(r=e,i=n,s=!0):(r=e.substring(0,o),i=c(e.substring(o+1)),s=!1),new K(m(r.replace(/(\s*"C\d+")+/g,"")),i,s)}function W(e){return"int"===e||"float"===e?"0":"boolean"===e?"false":"color"===e?"0x00000000":"null"}function Z(e,n){this.definitions=e,this.varType=n}function q(e){this.expression=e}function Q(e){if(D.test(e)){for(var n=N.exec(e),r=e.substring(n[0].length).split(","),i=W(n[2]),s=0;s<r.length;++s)r[s]=j(r[s],i);return new Z(r,n[2])}return new q(c(e))}function J(e,n,r){this.initStatement=e,this.condition=n,this.step=r}function ee(e,n){this.initStatement=e,this.container=n}function et(e,n){this.initStatement=e,this.container=n}function en(e){e.sort(function(e,n){return n.weight-e.weight})}function er(e,n,r){this.name=e,this.body=n,this.isStatic=r,n.owner=this}function ei(e,n,r){this.name=e,this.body=n,this.isStatic=r,n.owner=this}function es(e){var n=L.exec(e);L.lastIndex=0;var i,s=n[1].indexOf("static")>=0,o=P[d(n[6])],a=S,h=_();return S=h,R(i="interface"===n[2]?new er(n[3],l(o,n[3],n[4]),s):new ei(n[3],r(o,n[3],n[4],n[5]),s),h,a),S=a,i}function eo(e,n,r,i){this.name=e,this.params=n,this.body=r,this.isStatic=i}function ea(e){var n=I.exec(e);I.lastIndex=0;var r=n[1].indexOf("static")>=0,i=";"!==n[6]?P[d(n[6])]:"{}";return new eo(n[3],V(P[d(n[4])]),h(i),r)}function el(e,n,r){this.definitions=e,this.fieldType=n,this.isStatic=r}function eh(e){for(var n=N.exec(e),r=n[1].indexOf("static")>=0,i=e.substring(n[0].length).split(/,\s*/g),s=W(n[2]),o=0;o<i.length;++o)i[o]=j(i[o],s);return new el(i,n[2],r)}function eu(e,n){this.params=e,this.body=n}function ec(e,n,r,i,s,o){var a,l;for(a=0,this.name=e,this.interfacesNames=n,this.methodsNames=r,this.fields=i,this.innerClasses=s,this.misc=o,l=i.length;a<l;++a)i[a].owner=this}function ef(e,n,r,i,s,o,a,l,h){var u,c;for(u=0,this.name=e,this.baseClassName=n,this.interfacesNames=r,this.functions=i,this.methods=s,this.fields=o,this.cstrs=a,this.innerClasses=l,this.misc=h,c=o.length;u<c;++u)o[u].owner=this}function ep(e,n){this.name=e,this.body=n,n.owner=this}function em(e,n){this.name=e,this.body=n,n.owner=this}function eg(e,n,r){this.name=e,this.params=n,this.body=r}function ed(e,n){this.argument=e,this.misc=n}function ev(e,n){this.argument=e,this.misc=n}function ey(e,n,r){this.name=e,this.argument=n,this.misc=r}function ex(e){this.expr=e}function eA(e){this.label=e}function eb(e){for(var n=[],r=0,i=e.length;r<i;++r){var s=e[r];s instanceof Z?n=n.concat(s.getNames()):s instanceof ed&&s.argument.initStatement instanceof Z?n=n.concat(s.argument.initStatement.getNames()):(s instanceof er||s instanceof ei||s instanceof ep||s instanceof em||s instanceof eg||s instanceof U)&&n.push(s.name)}return g({},n)}function ew(e){this.statements=e}function eE(e){this.statements=e}$.prototype.toString=function(){return this.name},G.prototype.getNames=function(){for(var e=[],n=0,r=this.params.length;n<r;++n)e.push(this.params[n].name);return e},G.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},G.prototype.toString=function(){if(0===this.params.length)return"()";for(var e="(",n=0,r=this.params.length;n<r;++n)e+=this.params[n]+", ";return e.substring(0,e.length-2)+")"},z.prototype.toString=function(){return"new ("+this.body+")"},U.prototype.toString=function(){var e=E,n=g({this:null},this.params.getNames());E=function(r){return n.hasOwnProperty(r.name)?r.name:e(r)};var r="function";this.name&&(r+=" "+this.name);var i=this.params.prependMethodArgs(this.body.toString());return r+=this.params+" "+i,E=e,r},X.prototype.toString=function(){var e=E;E=function(n){return"this"===n.name?"this":e(n)};for(var n="",r=0,i=this.members.length;r<i;++r)this.members[r].label&&(n+=this.members[r].label+": "),n+=this.members[r].value.toString()+", ";return E=e,n.substring(0,n.length-2)},Y.prototype.toString=function(){var e=this.transforms;return this.expr.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,n,r,s,o,a){return n?e:E({name:r,member:o,callSign:!!a})+(s===i?"":s)}).replace(/"!(\d+)"/g,function(n,r){return e[r].toString()})},c=function(e){var n=[],i=function e(n){if("("===n.charAt(0)||"["===n.charAt(0))return n.charAt(0)+e(n.substring(1,n.length-1))+n.charAt(n.length-1);if("{"===n.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(n)?"{"+T(n.substring(1,n.length-1),"I")+"}":"["+e(n.substring(1,n.length-1))+"]";var r=p(n),i=function(e){var n,r=e;function i(e,r,i,s){var o=P[s];n=!0;var a=p(o.substring(1,o.length-1));return"__"+i+(""===a.middle?T("("+r.replace(/\.\s*$/,"")+")","B"):T("("+r.replace(/\.\s*$/,"")+","+a.middle+")","B"))}r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,n,r){return r})).replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e,n,r){return T(e,"F")})).replace(F,function(e){return T(e,"H")})).replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,n,r){var i=r.replace(/"C(\d+)"/g,function(e,n){return P[n]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),s="('"+n+"', "+T("{"+i.substring(1,i.length-1)+"}","A")+")";return"$p.createJavaArray"+T(s,"B")})).replace(/(\.\s*length)\s*"B\d+"/g,"$1")).replace(/#([0-9A-Fa-f]{6})\b/g,function(e,n){return"0xFF"+n})).replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,n,r){var i=P[n];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(i))return e;if(/^\(\s*int\s*\)$/.test(i))return"(int)"+r;var s=i.split(/"C(\d+)"/g);return s.length>1&&!/^\[\s*\]$/.test(P[s[1]])?e:""+r})).replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,n){var r=p(n);return r.untrim("__int_cast("+r.middle+")")})).replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1")).replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,n,r){return n===r?e:""===r?"0"+n:n})).replace(/\b(\.?\d+\.?)[fF]\b/g,"$1")).replace(/([^\s])%([^=\s])/g,"$1 % $2")).replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1")).replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,n){return"parse"+n.substring(0,1).toUpperCase()+n.substring(1)+'"B'})).replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,n,r,i,s,o){if(r){var a=P[i];return s?"pixels.setPixel"+T("("+a.substring(1,a.length-1)+","+o+")","B"):"pixels.getPixel"+T("("+a.substring(1,a.length-1)+")","B")}return n?"pixels.getLength"+T("()","B"):s?"pixels.set"+T("("+o+")","B"):"pixels.toArray"+T("()","B")});do n=!1,r=r.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,i);while(n)function s(e,r,i){return n=!0,"__instanceof"+T("("+r+", "+i+")","B")}do n=!1,r=r.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,s);while(n)return r.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}(r.middle);return i=i.replace(/"[ABC](\d+)"/g,function(n,r){return e(P[r])}),r.untrim(i)}(e);return new Y(i=(i=(i=i.replace(/"H(\d+)"/g,function(e,r){return n.push(H(P[r])),'"!'+(n.length-1)+'"'})).replace(/"F(\d+)"/g,function(e,i){var s,o,a,l,h,u;return n.push((s=P[i],o=new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(s),a=S,S=l=_(),R(u=new z(h=o[1]+"$"+l,r(P[o[2]],h,"","implements "+o[1])),l,a),S=a,u)),'"!'+(n.length-1)+'"'})).replace(/"I(\d+)"/g,function(e,r){return n.push(function(e){for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].indexOf(":");i<0?n[r]={value:c(n[r])}:n[r]={label:m(n[r].substring(0,i)),value:c(m(n[r].substring(i+1)))}}return new X(n)}(P[r])),'"!'+(n.length-1)+'"'}),n)},K.prototype.toString=function(){return this.name+" = "+this.value},Z.prototype.getNames=function(){for(var e=[],n=0,r=this.definitions.length;n<r;++n)e.push(this.definitions[n].name);return e},Z.prototype.toString=function(){return"var "+this.definitions.join(",")},q.prototype.toString=function(){return this.expression.toString()},J.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},ee.prototype.toString=function(){var e=this.initStatement.toString();return e.indexOf("=")>=0&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},et.iteratorId=0,et.prototype.toString=function(){var e=this.initStatement.toString(),n="$it"+et.iteratorId++,r=e.replace(/^\s*var\s*/,"").split("=")[0];return"("+("var "+n+" = new $p.ObjectIterator("+this.container+"), "+r)+" = void(0); "+(n+".hasNext() && (("+r)+" = "+n+".next()) || true);)"},er.prototype.toString=function(){return""+this.body},ei.prototype.toString=function(){return""+this.body},eo.prototype.toString=function(){var e=g({},this.params.getNames()),n=E;E=function(r){return e.hasOwnProperty(r.name)?r.name:n(r)};var r=this.params.prependMethodArgs(this.body.toString()),i="function "+this.methodId+this.params+" "+r+"\n";return E=n,i},el.prototype.getNames=function(){for(var e=[],n=0,r=this.definitions.length;n<r;++n)e.push(this.definitions[n].name);return e},el.prototype.toString=function(){var e=E({name:"[this]"});if(this.isStatic){for(var n=this.owner.name,r=[],i=0,s=this.definitions.length;i<s;++i){var o=this.definitions[i],a=o.name,l=n+"."+a,h="if("+l+" === void(0)) {\n "+l+" = "+o.value+"; }\n$p.defineProperty("+e+", '"+a+"', { get: function(){return "+l+";}, set: function(val){"+l+" = val;} });\n";r.push(h)}return r.join("")}return e+"."+this.definitions.join("; "+e+".")},eu.prototype.toString=function(){var e=g({},this.params.getNames()),n=E;E=function(r){return e.hasOwnProperty(r.name)?r.name:n(r)};var r="function $constr_"+this.params.params.length+this.params.toString(),i=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(i)||(i="{\n$superCstr();\n"+i.substring(1)),E=n,r+i+"\n"},ec.prototype.getMembers=function(e,n,r){for(this.owner.base&&this.owner.base.body.getMembers(e,n,r),i=0,o=this.fields.length;i<o;++i){var i,s,o,a,l=this.fields[i].getNames();for(s=0,a=l.length;s<a;++s)e[l[s]]=this.fields[i]}for(i=0,o=this.methodsNames.length;i<o;++i)n[this.methodsNames[i]]=!0;for(i=0,o=this.innerClasses.length;i<o;++i){var h=this.innerClasses[i];r[h.name]=h}},ec.prototype.toString=function(){!function(e){for(;e;)e=e.scope}(this.owner);var e=this.name,n="",r="";if(this.getMembers({},{},{}),this.owner.interfaces){var i,s,o,a=[];for(i=0,s=this.interfacesNames.length;i<s;++i)this.owner.interfaces[i]&&(a.push(o=E({name:this.interfacesNames[i]})),n+="$p.extendInterfaceMembers("+e+", "+o+");\n");r+=e+".$interfaces = ["+a.join(", ")+"];\n"}for(r+=e+".$isInterface = true;\n"+(e+".$methods = ['")+this.methodsNames.join("', '")+"'];\n",en(this.innerClasses),i=0,s=this.innerClasses.length;i<s;++i){var l=this.innerClasses[i];l.isStatic&&(n+=e+"."+l.name+" = "+l+";\n")}for(i=0,s=this.fields.length;i<s;++i){var h=this.fields[i];h.isStatic&&(n+=e+"."+h.definitions.join(";\n"+e+".")+";\n")}return"(function() {\nfunction "+e+"() { throw 'Unable to create the interface'; }\n"+n+r+"return "+e+";\n})()"},l=function(e,n,r){var s,o,a,l=e.substring(1,e.length-1);l=B(l=k(l),n);var h=[],u=[],c=(l=l.replace(/"([DE])(\d+)"/g,function(e,n,r){return"D"===n?h.push(r):"E"===n&&u.push(r),""})).split(/;(?:\s*;)*/g);for(r!==i&&(s=r.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),o=0,a=h.length;o<a;++o){var f=ea(P[h[o]]);h[o]=f.name}for(o=0,a=c.length-1;o<a;++o){var m=p(c[o]);c[o]=eh(m.middle)}var g=c.pop();for(o=0,a=u.length;o<a;++o)u[o]=es(P[u[o]]);return new ec(n,s,h,c,u,{tail:g})},ef.prototype.getMembers=function(e,n,r){for(this.owner.base&&this.owner.base.body.getMembers(e,n,r),i=0,o=this.fields.length;i<o;++i){var i,s,o,a,l=this.fields[i].getNames();for(s=0,a=l.length;s<a;++s)e[l[s]]=this.fields[i]}for(i=0,o=this.methods.length;i<o;++i){var h=this.methods[i];n[h.name]=h}for(i=0,o=this.innerClasses.length;i<o;++i){var u=this.innerClasses[i];r[u.name]=u}},ef.prototype.toString=function(){var e="$this_"+function(e){for(var n=0;e;)++n,e=e.scope;return n}(this.owner),n=this.name,r="var "+e+" = this;\n",i="",s="",o={},a={},l={};this.getMembers(o,a,l);var h=E;if(E=function(r){var i=r.name;return"this"===i?r.callSign||!r.member?e+".$self":e:o.hasOwnProperty(i)?o[i].isStatic?n+"."+i:e+"."+i:l.hasOwnProperty(i)?e+"."+i:a.hasOwnProperty(i)?a[i].isStatic?n+"."+i:e+".$self."+i:h(r)},this.baseClassName?(r+="var $super = { $upcast: "+e+" };\nfunction $superCstr(){"+(u=h({name:this.baseClassName}))+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",s+=n+".$base = "+u+";\n"):r+="function $superCstr(){$p.extendClassChain("+e+")}\n",this.owner.base&&(i+="$p.extendStaticMembers("+n+", "+u+");\n"),this.owner.interfaces){var u,c,f,p,g,d,v=[];for(c=0,f=this.interfacesNames.length;c<f;++c)this.owner.interfaces[c]&&(v.push(d=h({name:this.interfacesNames[c]})),i+="$p.extendInterfaceMembers("+n+", "+d+");\n");s+=n+".$interfaces = ["+v.join(", ")+"];\n"}for(this.functions.length>0&&(r+=this.functions.join("\n")+"\n"),en(this.innerClasses),c=0,f=this.innerClasses.length;c<f;++c){var y=this.innerClasses[c];y.isStatic?(i+=n+"."+y.name+" = "+y+";\n",r+=e+"."+y.name+" = "+n+"."+y.name+";\n"):r+=e+"."+y.name+" = "+y+";\n"}for(c=0,f=this.fields.length;c<f;++c){var x=this.fields[c];if(x.isStatic)for(i+=n+"."+x.definitions.join(";\n"+n+".")+";\n",p=0,g=x.definitions.length;p<g;++p){var A=x.definitions[p].name,b=n+"."+A;r+="$p.defineProperty("+e+", '"+A+"', {get: function(){return "+b+"}, set: function(val){"+b+" = val}});\n"}else r+=e+"."+x.definitions.join(";\n"+e+".")+";\n"}var w={};for(c=0,f=this.methods.length;c<f;++c){var S=this.methods[c],P=w[S.name],C=S.name+"$"+S.params.params.length,M=!!S.params.methodArgsParam;P?C+="_"+ ++P:P=1,S.methodId=C,w[S.name]=P,S.isStatic?(i+=S+("$p.addMethod("+n+", '"+S.name+"', "+C+", ")+M+");\n",r+="$p.addMethod("+e+", '"+S.name+"', "+C+", "+M+");\n"):r+=S+("$p.addMethod("+e+", '"+S.name+"', "+C+", ")+M+");\n"}r+=m(this.misc.tail),this.cstrs.length>0&&(r+=this.cstrs.join("\n")+"\n"),r+="function $constr() {\n";var T=[];for(c=0,f=this.cstrs.length;c<f;++c){var _=this.cstrs[c].params.params.length,R=!!this.cstrs[c].params.methodArgsParam;T.push("if(arguments.length "+(R?">=":"===")+" "+_+") { $constr_"+_+".apply("+e+", arguments); }")}return T.length>0&&(r+=T.join(" else ")+" else "),r+="$superCstr();\n}\n$constr.apply(null, arguments);\n",E=h,"(function() {\nfunction "+n+"() {\n"+r+"}\n"+i+s+"return "+n+";\n})()"},r=function(e,n,r,s){var o,a,l,u=e.substring(1,e.length-1);u=B(u=k(u),n);var c=[],f=[],m=[],g=[],d=(u=u.replace(/"([DEGH])(\d+)"/g,function(e,n,r){return"D"===n?c.push(r):"E"===n?f.push(r):"H"===n?g.push(r):m.push(r),""})).replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);for(r!==i&&(o=r.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),s!==i&&(a=s.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),l=0;l<g.length;++l)g[l]=H(P[g[l]]);for(l=0;l<c.length;++l)c[l]=ea(P[c[l]]);for(l=0;l<d.length-1;++l){var v=p(d[l]);d[l]=eh(v.middle)}var y=d.pop();for(l=0;l<m.length;++l)m[l]=function(e){var n=new RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(e);return new eu(V(P[n[1]]),h(P[n[2]]))}(P[m[l]]);for(l=0;l<f.length;++l)f[l]=es(P[f[l]]);return new ef(n,o,a,g,c,d,m,f,{tail:y})},ep.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},em.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},eg.prototype.toString=function(){var e=g({},this.params.getNames()),n=E;E=function(r){return e.hasOwnProperty(r.name)?r.name:n(r)};var r=this.params.prependMethodArgs(this.body.toString()),i="function "+this.name+this.params+" "+r+"\n$p."+this.name+" = "+this.name+";\n"+this.name+" = "+this.name+".bind($p);";return E=n,i},ed.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},ev.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},ey.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==i&&(e+=this.argument.toString()),e},ex.prototype.toString=function(){return"case "+this.expr+":"},eA.prototype.toString=function(){return this.label},u=function(e,n,r){var s=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),o=[];e=e.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");for(var a,l,u=0;null!==(a=s.exec(e));){if(a[1]!==i){var f=e.lastIndexOf('"B',s.lastIndex),g=e.substring(u,f);"for"===a[1]?o.push(new ed(function(e){var n;return/\bin\b/.test(e)?new ee(Q(m((n=e.substring(1,e.length-1).split(/\bin\b/g))[0])),c(n[1])):e.indexOf(":")>=0&&0>e.indexOf(";")?new et(Q(m((n=e.substring(1,e.length-1).split(":"))[0])),c(n[1])):new J(Q(m((n=e.substring(1,e.length-1).split(";"))[0])),c(n[1]),c(n[2]))}(P[a[2]]),{prefix:g})):"catch"===a[1]?o.push(new ev(V(P[a[2]]),{prefix:g})):o.push(new ey(a[1],c(P[a[2]]),{prefix:g}))}else if(a[3]!==i)o.push(new ey(a[3],i,{prefix:e.substring(u,s.lastIndex)}));else if(a[4]!==i){if(0!==m(l=e.substring(u,s.lastIndex-a[4].length)).length)continue;o.push(l);var d=a[4].charAt(1),v=a[5];"D"===d?o.push(n(P[v])):"E"===d?o.push(r(P[v])):"H"===d?o.push(H(P[v])):o.push(h(P[v]))}else if(a[6]!==i)o.push(new ex(c(m(a[7]))));else if(a[8]!==i){if(0!==m(l=e.substring(u,s.lastIndex-a[8].length)).length)continue;o.push(new eA(e.substring(u,s.lastIndex)))}else{var y=p(e.substring(u,s.lastIndex-1));o.push(y.left),o.push(Q(y.middle)),o.push(y.right+";")}u=s.lastIndex}var x=p(e.substring(u));return o.push(x.left),""!==x.middle&&(o.push(Q(x.middle)),o.push(";"+x.right)),o},ew.prototype.toString=function(){var e=eb(this.statements),n=E;!function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}(e)&&(E=function(r){return e.hasOwnProperty(r.name)?r.name:n(r)});var r="{\n"+this.statements.join("")+"\n}";return E=n,r},h=function(e){return new ew(u(p(e.substring(1,e.length-1)).middle))},eE.prototype.toString=function(){for(var e,n=[],r=[],i=0,a=this.statements.length;i<a;++i)(e=this.statements[i])instanceof em||e instanceof ep?n.push(e):r.push(e);en(n);var l=eb(this.statements);E=function(e){var n=e.name;return l.hasOwnProperty(n)?n:f.hasOwnProperty(n)||o.hasOwnProperty(n)||s.hasOwnProperty(n)?"$p."+n:n};var h="// this code was autogenerated from PJS\n(function($p) {\n"+n.join("")+"\n"+r.join("")+"\n})";return E=null,h};var eS=new eE(u(k(P[0]).replace(/\bimport\s+[^;]+;/g,""),function(e){var n=I.exec(e);return I.lastIndex=0,new eg(n[3],V(P[d(n[4])]),h(P[d(n[6])]))},function(e){var n,i=L.exec(e);L.lastIndex=0;var s=P[d(i[6])],o=S,a=_();return S=a,R(n="interface"===i[2]?new ep(i[3],l(s,i[3],i[4])):new em(i[3],r(s,i[3],i[4],i[5])),a,o),S=o,n}));!function(e){var n={};for(u in C)if(C.hasOwnProperty(u)){var r=(c=C[u]).scopeId,s=c.name;if(r){var o=C[r];c.scope=o,o.inScope===i&&(o.inScope={}),o.inScope[s]=c}else n[s]=c}function a(e,r){for(var s,o=r.split("."),a=e.scope;a;){if(a.hasOwnProperty(o[0])){s=a[o[0]];break}a=a.scope}s===i&&(s=n[o[0]]);for(var l=1,h=o.length;l<h&&s;++l)s=s.inScope[o[l]];return s}for(u in C)if(C.hasOwnProperty(u)){var l=(c=C[u]).body.baseClassName;if(l){var h=a(c,l);h&&(c.base=h,h.derived||(h.derived=[]),h.derived.push(c))}var u,c,f,p,m=c.body.interfacesNames,g=[];if(m&&m.length>0){for(f=0,p=m.length;f<p;++f){var d=a(c,m[f]);g.push(d),d&&(d.derived||(d.derived=[]),d.derived.push(c))}g.length>0&&(c.interfaces=g)}}}(0),function(e){var n,r,i,s,o,a=[],l={};for(n in C)if(C.hasOwnProperty(n)){if((i=C[n]).inScope||i.derived){var h=[];if(i.inScope)for(r in i.inScope)i.inScope.hasOwnProperty(r)&&h.push(i.inScope[r]);i.derived&&(h=h.concat(i.derived)),l[n]=h}else a.push(n),i.weight=0}function u(e,n){var r=l[e];if(!r)return!1;var i=r.indexOf(n);return!(i<0)&&(r.splice(i,1),!(r.length>0)&&(delete l[e],!0))}for(;a.length>0;)if((i=C[n=a.shift()]).scopeId&&u(i.scopeId,i)&&(a.push(i.scopeId),C[i.scopeId].weight=i.weight+1),i.base&&u(i.base.classId,i)&&(a.push(i.base.classId),i.base.weight=i.weight+1),i.interfaces)for(s=0,o=i.interfaces.length;s<o;++s)i.interfaces[s]&&u(i.interfaces[s].classId,i)&&(a.push(i.interfaces[s].classId),i.interfaces[s].weight=i.weight+1)}(0);var eP=eS.toString();return(eP=(eP=eP.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n")).replace(/__x([0-9A-F]{4})/g,function(e,n){return String.fromCharCode(parseInt(n,16))})).replace(/'(\d+)'/g,function(e,n){var r=y[n];return"/"===r.charAt(0)?r:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(r)?"(new $p.Character("+r+"))":r})}(function(e,n){var r=new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(e);if(r&&2===r.length)for(var i=[],s=r.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(e,n){return i.push(n),"{"+(i.length-1)+"}"}).replace("\n","").replace("\r","").split(";"),o=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},a=0,l=s.length;a<l;a++){var h=s[a].split("=");if(h&&2===h.length){var u=o(h[0]),c=o(h[1]),f=[];if("preload"===u){f=c.split(",");for(var p=0,m=f.length;p<m;p++){var g=o(f[p]);n.imageCache.add(g)}}else if("font"===u){f=c.split(",");for(var d=0,v=f.length;d<v;d++){var y=o(f[d]),x=/^\{(\d*?)\}$/.exec(y);PFont.preloading.add(x?JSON.parse("{"+i[x[1]]+"}"):y)}}else"pauseOnBlur"===u?n.options.pauseOnBlur="true"===c:"globalKeyEvents"===u?n.options.globalKeyEvents="true"===c:"param-"===u.substring(0,6)?n.params[u.substring(6)]=c:n.options[u]=c}}return e}(e,r));return r.sourceCode=l,r};var h=e("../Helpers/PjsConsole");return n.logger=new h(l),n}},{"../Helpers/PjsConsole":5}],27:[function(e,n,r){n.exports=function(e,n){var r,i=e.defaultScope,s=e.extend,o=e.Browser,a=o.ajax,l=o.navigator,h=o.window,u=(h.XMLHttpRequest,o.document),c=e.noop,f=i.PConstants;PFont=i.PFont,PShapeSVG=i.PShapeSVG,PVector=i.PVector,Char=Character=i.Char,ObjectIterator=i.ObjectIterator,XMLElement=i.XMLElement,XML=i.XML;var p=h.HTMLCanvasElement,m=h.HTMLImageElement;try{r=h.localStorage}catch(e){r={}}"document"in this&&this.document,u.head||(u.head=u.getElementsByTagName("head")[0]);var g=x("Float32Array","WebGLFloatArray"),d=x("Int32Array","WebGLIntArray"),v=x("Uint16Array","WebGLUnsignedShortArray"),y=x("Uint8Array","WebGLUnsignedByteArray");function x(e,n){return e in h?h[e]:"function"==typeof h[n]?h[n]:function(e){if(e instanceof Array)return e;if("number"==typeof e){var n=[];return n.length=e,n}}}if(u.documentMode>=9&&!u.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var A=[],b={},w=function(e){e.externals.canvas.id!==n&&e.externals.canvas.id.length||(e.externals.canvas.id="__processing"+A.length),b[e.externals.canvas.id]=A.length,A.push(e)},E=function(e){A.splice(b[e],1),delete b[e]},S=this.Processing=function(e,o,x){if(!(this instanceof S))throw"called Processing constructor as if it were a function: missing 'new'.";var A,b={},P=e===n&&o===n;if(!("getContext"in(b=P?u.createElement("canvas"):"string"==typeof e?u.getElementById(e):e)))throw"called Processing constructor without passing canvas element reference or id.";var C=[];function M(e,n,r){e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent("on"+n,r),C.push({elem:e,type:n,fn:r})}function T(e){var n=e.elem,r=e.type,i=e.fn;n.removeEventListener?n.removeEventListener(r,i,!1):n.detachEvent&&n.detachEvent("on"+r,i)}var _=this;_.Char=_.Character=Char,C=[],s.withCommonFunctions(_),s.withMath(_),s.withProxyFunctions(_,function(e){return Array.prototype.slice.call(e,1)}),s.withTouch(_,b,M,function(e,n){Object.keys(C).forEach(function(r){n.indexOf(r.type)>-1&&r.elem==e&&T(r.type)})},u,f),x&&Object.keys(x).forEach(function(e){_[e]=x[e]}),_.externals={canvas:b,context:n,sketch:n,window:h},_.name="Processing.js Instance",_.use3DContext=!1,_.focused=!1,_.breakShape=!1,_.glyphTable={},_.pmouseX=0,_.pmouseY=0,_.mouseX=0,_.mouseY=0,_.mouseButton=0,_.mouseScroll=0,_.mouseClicked=n,_.mouseDragged=n,_.mouseMoved=n,_.mousePressed=n,_.mouseReleased=n,_.mouseScrolled=n,_.mouseOver=n,_.mouseOut=n,_.touchStart=n,_.touchEnd=n,_.touchMove=n,_.touchCancel=n,_.key=n,_.keyCode=n,_.keyPressed=c,_.keyReleased=c,_.keyTyped=c,_.draw=n,_.setup=n,_.__mousePressed=!1,_.__keyPressed=!1,_.__frameRate=60,_.frameCount=0,_.width=100,_.height=100;var R,L,I,D,O,N,F,k,B,$,G,V,z,U,H,X,Y,K,j,W,Z,q,Q,J,ee,et,en,er,ei,es,eo,ea,el,eh,eu,ec,ef,ep,em,eg,ed,ev=!0,ey=[1,1,1,1],ex=4294967295,eA=!0,eb=!0,ew=[0,0,0,1],eE=4278190080,eS=!0,eP=1,eC=!1,eM=!1,eT=!0,e_=0,eR=f.CORNER,eL=f.CENTER,eI=0,eD=0,eO=0,eN=f.NORMAL_MODE_AUTO,eF=16.666666666666668,ek=(f.ARROW,b.style.cursor),eB=f.POLYGON,e$=0,eG=20,eV=!1,ez=-3355444,eU=20,eH=255,eX=255,eY=255,eK=255,ej=0,eW=0,eZ=f.RGB,eq=null,eQ=null,eJ=Date.now(),e0=eJ,e1=0,e2={attributes:{},locations:{}},e5={width:0,height:0},e3=f.IMAGE,e4=!1,e6=f.LEFT,e8=f.BASELINE,e7=f.MODEL,e9="Arial",te=12,tt=9,tn=2,tr=14,ti=PFont.get(e9,te),ts=null,to=!1,ta=1e3,tl=[],th=null,tu=[f.SHIFT,f.CONTROL,f.ALT,f.CAPSLK,f.PGUP,f.PGDN,f.END,f.HOME,f.LEFT,f.UP,f.RIGHT,f.DOWN,f.NUMLK,f.INSERT,f.F1,f.F2,f.F3,f.F4,f.F5,f.F6,f.F7,f.F8,f.F9,f.F10,f.F11,f.F12,f.META],tc=0,tf=0,tp=0,tm=[],tg=[],td=[],tv=new g(f.SINCOS_LENGTH),ty=new g(f.SINCOS_LENGTH),tx=!1,tA=Math.PI/180*60,tb=_.width/2,tw=_.height/2,tE=tw/Math.tan(tA/2),tS=tE/10,tP=10*tE,tC=_.width/_.height,tM=[],tT=[],t_=0,tR=!1,tL=!1,tI=!0,tD=f.CORNER,tO=[],tN=new g([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),tF=new g([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),tk=new g([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),tB=new g([0,0,0,0,1,0,1,1,0,1,0,0]),t$=new g([0,0,1,0,0,1,0,0,1,0,0,1]),tG="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(/Windows/.test(l.userAgent)?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}";function tV(e,r,i,s){var o=e2.locations[e];o===n&&(o=R.getUniformLocation(r,i),e2.locations[e]=o),null!==o&&(4===s.length?R.uniform4fv(o,s):3===s.length?R.uniform3fv(o,s):2===s.length?R.uniform2fv(o,s):R.uniform1f(o,s))}function tz(e,r,i,s){var o=e2.locations[e];o===n&&(o=R.getUniformLocation(r,i),e2.locations[e]=o),null!==o&&(4===s.length?R.uniform4iv(o,s):3===s.length?R.uniform3iv(o,s):2===s.length?R.uniform2iv(o,s):R.uniform1i(o,s))}function tU(e,r,i,s,o){var a=e2.locations[e];a===n&&(a=R.getUniformLocation(r,i),e2.locations[e]=a),-1!==a&&(16===o.length?R.uniformMatrix4fv(a,s,o):9===o.length?R.uniformMatrix3fv(a,s,o):R.uniformMatrix2fv(a,s,o))}function tH(e,r,i,s,o){var a=e2.attributes[e];a===n&&(a=R.getAttribLocation(r,i),e2.attributes[e]=a),-1!==a&&(R.bindBuffer(R.ARRAY_BUFFER,o),R.vertexAttribPointer(a,s,R.FLOAT,!1,0,0),R.enableVertexAttribArray(a))}function tX(e,r,i){var s=e2.attributes[e];s===n&&(s=R.getAttribLocation(r,i),e2.attributes[e]=s),-1!==s&&R.disableVertexAttribArray(s)}var tY=function(e,n,r){var i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw e.getShaderInfoLog(i);var s=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(s,r),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw e.getShaderInfoLog(s);var o=e.createProgram();if(e.attachShader(o,i),e.attachShader(o,s),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw"Error linking shaders.";return o},tK=function(e,n,r,i,s){return{x:e,y:n,w:r,h:i}},tj=tK,tW=function(e,n,r,i,s){return{x:e,y:n,w:s?r:r-e,h:s?i:i-n}},tZ=function(e,n,r,i,s){return{x:e-r/2,y:n-i/2,w:r,h:i}},tq=function(){},tQ=function(){},tJ=function(){},t0=function(){};tQ.prototype=new tq,tQ.prototype.constructor=tQ,tJ.prototype=new tq,tJ.prototype.constructor=tJ,t0.prototype=new tq,t0.prototype.constructor=t0,tq.prototype.a3DOnlyFunction=c,_.shape=function(e,n,r,i,s){arguments.length>=1&&null!==arguments[0]&&e.isVisible()&&(_.pushMatrix(),tD===f.CENTER?5==arguments.length?(_.translate(n-i/2,r-s/2),_.scale(i/e.getWidth(),s/e.getHeight())):3==arguments.length?_.translate(n-e.getWidth()/2,-e.getHeight()/2):_.translate(-e.getWidth()/2,-e.getHeight()/2):tD===f.CORNER?5==arguments.length?(_.translate(n,r),_.scale(i/e.getWidth(),s/e.getHeight())):3==arguments.length&&_.translate(n,r):tD===f.CORNERS&&(5==arguments.length?(i-=n,s-=r,_.translate(n,r),_.scale(i/e.getWidth(),s/e.getHeight())):3==arguments.length&&_.translate(n,r)),e.draw(_),(1==arguments.length&&tD===f.CENTER||arguments.length>1)&&_.popMatrix())},_.shapeMode=function(e){tD=e},_.loadShape=function(e){return 1==arguments.length&&e.indexOf(".svg")>-1?new PShapeSVG(null,e):null},_.loadXML=function(e){return new XML(_,e)},_.parseXML=function(e){var n=new XML;return n.parse(e),n};var t1=function(e){for(var n=0,r=0;r<e.length;r++)n=0!==r?Math.max(n,Math.abs(e[r])):Math.abs(e[r]);var i=(n+"").indexOf(".");return 0===i?i=1:-1===i&&(i=(n+"").length),i},t2=_.PMatrix2D=function(){0==arguments.length?this.reset():1==arguments.length&&arguments[0]instanceof t2?this.set(arguments[0].array()):6==arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};t2.prototype={set:function(){if(6==arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1==arguments.length&&arguments[0]instanceof t2?this.elements=arguments[0].array():1==arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new t2;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,n){this.elements[2]=e*this.elements[0]+n*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+n*this.elements[4]+this.elements[5]},invTranslate:function(e,n){this.translate(-e,-n)},transpose:function(){},mult:function(e,n){var r,i;return e instanceof PVector?(r=e.x,i=e.y,n||(n=new PVector)):e instanceof Array&&(r=e[0],i=e[1],n||(n=[])),n instanceof Array?(n[0]=this.elements[0]*r+this.elements[1]*i+this.elements[2],n[1]=this.elements[3]*r+this.elements[4]*i+this.elements[5]):n instanceof PVector&&(n.x=this.elements[0]*r+this.elements[1]*i+this.elements[2],n.y=this.elements[3]*r+this.elements[4]*i+this.elements[5],n.z=0),n},multX:function(e,n){return e*this.elements[0]+n*this.elements[1]+this.elements[2]},multY:function(e,n){return e*this.elements[3]+n*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>f.MIN_INT){var n=this.elements[0],r=this.elements[1],i=this.elements[2],s=this.elements[3],o=this.elements[4],a=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-s/e,this.elements[1]=-r/e,this.elements[4]=n/e,this.elements[2]=(r*a-o*i)/e,this.elements[5]=(s*i-n*a)/e,!0}return!1},scale:function(e,n){e&&!n&&(n=e),e&&n&&(this.elements[0]*=e,this.elements[1]*=n,this.elements[3]*=e,this.elements[4]*=n)},invScale:function(e,n){e&&!n&&(n=e),this.scale(1/e,1/n)},apply:function(){1==arguments.length&&arguments[0]instanceof t2?e=arguments[0].array():6==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var e,n=[0,0,this.elements[2],0,0,this.elements[5]],r=0,i=0;i<2;i++)for(var s=0;s<3;s++,r++)n[r]+=this.elements[3*i+0]*e[s+0]+this.elements[3*i+1]*e[s+3];this.elements=n.slice()},preApply:function(){1==arguments.length&&arguments[0]instanceof t2?e=arguments[0].array():6==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var e,n=[0,0,e[2],0,0,e[5]];n[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],n[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],n[0]=this.elements[0]*e[0]+this.elements[3]*e[1],n[3]=this.elements[0]*e[3]+this.elements[3]*e[4],n[1]=this.elements[1]*e[0]+this.elements[4]*e[1],n[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=n.slice()},rotate:function(e){var n=Math.cos(e),r=Math.sin(e),i=this.elements[0],s=this.elements[1];this.elements[0]=n*i+r*s,this.elements[1]=-r*i+n*s,i=this.elements[3],s=this.elements[4],this.elements[3]=n*i+r*s,this.elements[4]=-r*i+n*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=t1(this.elements),n=""+_.nfs(this.elements[0],e,4)+" "+_.nfs(this.elements[1],e,4)+" "+_.nfs(this.elements[2],e,4)+"\n"+_.nfs(this.elements[3],e,4)+" "+_.nfs(this.elements[4],e,4)+" "+_.nfs(this.elements[5],e,4)+"\n\n";_.println(n)}};var t5=_.PMatrix3D=function(){this.reset()};t5.prototype={set:function(){16==arguments.length?this.elements=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof t5?this.elements=arguments[0].array():1==arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new t5;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,r,i){i===n&&(i=0),this.elements[3]+=e*this.elements[0]+r*this.elements[1]+i*this.elements[2],this.elements[7]+=e*this.elements[4]+r*this.elements[5]+i*this.elements[6],this.elements[11]+=e*this.elements[8]+r*this.elements[9]+i*this.elements[10],this.elements[15]+=e*this.elements[12]+r*this.elements[13]+i*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,n){var r,i,s,o;return e instanceof PVector?(r=e.x,i=e.y,s=e.z,o=1,n||(n=new PVector)):e instanceof Array&&(r=e[0],i=e[1],s=e[2],o=e[3]||1,n&&(3===n.length||4===n.length)||(n=[0,0,0])),n instanceof Array&&(3===n.length?(n[0]=this.elements[0]*r+this.elements[1]*i+this.elements[2]*s+this.elements[3],n[1]=this.elements[4]*r+this.elements[5]*i+this.elements[6]*s+this.elements[7],n[2]=this.elements[8]*r+this.elements[9]*i+this.elements[10]*s+this.elements[11]):4===n.length&&(n[0]=this.elements[0]*r+this.elements[1]*i+this.elements[2]*s+this.elements[3]*o,n[1]=this.elements[4]*r+this.elements[5]*i+this.elements[6]*s+this.elements[7]*o,n[2]=this.elements[8]*r+this.elements[9]*i+this.elements[10]*s+this.elements[11]*o,n[3]=this.elements[12]*r+this.elements[13]*i+this.elements[14]*s+this.elements[15]*o)),n instanceof PVector&&(n.x=this.elements[0]*r+this.elements[1]*i+this.elements[2]*s+this.elements[3],n.y=this.elements[4]*r+this.elements[5]*i+this.elements[6]*s+this.elements[7],n.z=this.elements[8]*r+this.elements[9]*i+this.elements[10]*s+this.elements[11]),n},preApply:function(){1==arguments.length&&arguments[0]instanceof t5?e=arguments[0].array():16==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var e,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,i=0;i<4;i++)for(var s=0;s<4;s++,r++)n[r]+=this.elements[s+0]*e[4*i+0]+this.elements[s+4]*e[4*i+1]+this.elements[s+8]*e[4*i+2]+this.elements[s+12]*e[4*i+3];this.elements=n.slice()},apply:function(){1==arguments.length&&arguments[0]instanceof t5?e=arguments[0].array():16==arguments.length?e=Array.prototype.slice.call(arguments):1==arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var e,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,i=0;i<4;i++)for(var s=0;s<4;s++,r++)n[r]+=this.elements[4*i+0]*e[s+0]+this.elements[4*i+1]*e[s+4]+this.elements[4*i+2]*e[s+8]+this.elements[4*i+3]*e[s+12];this.elements=n.slice()},rotate:function(e,n,r,i){if(arguments.length<4)this.rotateZ(e);else{var s=new PVector(n,r,i),o=s.mag();if(0===o)return;1!=o&&(s.normalize(),n=s.x,r=s.y,i=s.z);var a=_.cos(e),l=_.sin(e),h=1-a;this.apply(h*n*n+a,h*n*r-l*i,h*n*i+l*r,0,h*n*r+l*i,h*r*r+a,h*r*i-l*n,0,h*n*i-l*r,h*r*i+l*n,h*i*i+a,0,0,0,0,1)}},invApply:function(){eg===n&&(eg=new t5);var e=arguments;return eg.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),!!eg.invert()&&(this.preApply(eg),!0)},rotateX:function(e){var n=_.cos(e),r=_.sin(e);this.apply([1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1])},rotateY:function(e){var n=_.cos(e),r=_.sin(e);this.apply([n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1])},rotateZ:function(e){var n=Math.cos(e),r=Math.sin(e);this.apply([n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1])},scale:function(e,n,r){!e||n||r?e&&n&&!r&&(r=1):n=r=e,e&&n&&r&&(this.elements[0]*=e,this.elements[1]*=n,this.elements[2]*=r,this.elements[4]*=e,this.elements[5]*=n,this.elements[6]*=r,this.elements[8]*=e,this.elements[9]*=n,this.elements[10]*=r,this.elements[12]*=e,this.elements[13]*=n,this.elements[14]*=r)},skewX:function(e){this.apply(1,Math.tan(e),0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){this.apply(1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){this.apply(1,Math.tan(e),0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){this.apply(1,0,0,0,Math.tan(e),1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,n,r,i){return r?i?this.elements[0]*e+this.elements[1]*n+this.elements[2]*r+this.elements[3]*i:this.elements[0]*e+this.elements[1]*n+this.elements[2]*r+this.elements[3]:this.elements[0]*e+this.elements[1]*n+this.elements[3]},multY:function(e,n,r,i){return r?i?this.elements[4]*e+this.elements[5]*n+this.elements[6]*r+this.elements[7]*i:this.elements[4]*e+this.elements[5]*n+this.elements[6]*r+this.elements[7]:this.elements[4]*e+this.elements[5]*n+this.elements[7]},multZ:function(e,n,r,i){return i?this.elements[8]*e+this.elements[9]*n+this.elements[10]*r+this.elements[11]*i:this.elements[8]*e+this.elements[9]*n+this.elements[10]*r+this.elements[11]},multW:function(e,n,r,i){return i?this.elements[12]*e+this.elements[13]*n+this.elements[14]*r+this.elements[15]*i:this.elements[12]*e+this.elements[13]*n+this.elements[14]*r+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],n=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],r=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],s=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],a=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],l=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],h=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],f=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],p=e*f-n*c+r*u+i*h-s*l+o*a;if(1e-9>=Math.abs(p))return!1;var m=[];m[0]=+this.elements[5]*f-this.elements[6]*c+this.elements[7]*u,m[4]=-this.elements[4]*f+this.elements[6]*h-this.elements[7]*l,m[8]=+this.elements[4]*c-this.elements[5]*h+this.elements[7]*a,m[12]=-this.elements[4]*u+this.elements[5]*l-this.elements[6]*a,m[1]=-this.elements[1]*f+this.elements[2]*c-this.elements[3]*u,m[5]=+this.elements[0]*f-this.elements[2]*h+this.elements[3]*l,m[9]=-this.elements[0]*c+this.elements[1]*h-this.elements[3]*a,m[13]=+this.elements[0]*u-this.elements[1]*l+this.elements[2]*a,m[2]=+this.elements[13]*o-this.elements[14]*s+this.elements[15]*i,m[6]=-this.elements[12]*o+this.elements[14]*r-this.elements[15]*n,m[10]=+this.elements[12]*s-this.elements[13]*r+this.elements[15]*e,m[14]=-this.elements[12]*i+this.elements[13]*n-this.elements[14]*e,m[3]=-this.elements[9]*o+this.elements[10]*s-this.elements[11]*i,m[7]=+this.elements[8]*o-this.elements[10]*r+this.elements[11]*n,m[11]=-this.elements[8]*s+this.elements[9]*r-this.elements[11]*e,m[15]=+this.elements[8]*i-this.elements[9]*n+this.elements[10]*e;var g=1/p;return m[0]*=g,m[1]*=g,m[2]*=g,m[3]*=g,m[4]*=g,m[5]*=g,m[6]*=g,m[7]*=g,m[8]*=g,m[9]*=g,m[10]*=g,m[11]*=g,m[12]*=g,m[13]*=g,m[14]*=g,m[15]*=g,this.elements=m.slice(),!0},toString:function(){for(var e="",n=0;n<15;n++)e+=this.elements[n]+", ";return e+this.elements[15]},print:function(){var e=t1(this.elements),n=""+_.nfs(this.elements[0],e,4)+" "+_.nfs(this.elements[1],e,4)+" "+_.nfs(this.elements[2],e,4)+" "+_.nfs(this.elements[3],e,4)+"\n"+_.nfs(this.elements[4],e,4)+" "+_.nfs(this.elements[5],e,4)+" "+_.nfs(this.elements[6],e,4)+" "+_.nfs(this.elements[7],e,4)+"\n"+_.nfs(this.elements[8],e,4)+" "+_.nfs(this.elements[9],e,4)+" "+_.nfs(this.elements[10],e,4)+" "+_.nfs(this.elements[11],e,4)+"\n"+_.nfs(this.elements[12],e,4)+" "+_.nfs(this.elements[13],e,4)+" "+_.nfs(this.elements[14],e,4)+" "+_.nfs(this.elements[15],e,4)+"\n\n";_.println(n)},invTranslate:function(e,n,r){this.preApply(1,0,0,-e,0,1,0,-n,0,0,1,-r,0,0,0,1)},invRotateX:function(e){var n=Math.cos(-e),r=Math.sin(-e);this.preApply([1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1])},invRotateY:function(e){var n=Math.cos(-e),r=Math.sin(-e);this.preApply([n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1])},invRotateZ:function(e){var n=Math.cos(-e),r=Math.sin(-e);this.preApply([n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,n,r){this.preApply([1/e,0,0,0,0,1/n,0,0,0,0,1/r,0,0,0,0,1])}};var t3=_.PMatrixStack=function(){this.matrixStack=[]};function t4(e,n,r,i){var s,o,a,l;if(eZ===f.HSB){var h=_.color.toRGB(e,n,r);s=h[0],o=h[1],a=h[2]}else s=Math.round(e/eX*255),o=Math.round(n/eY*255),a=Math.round(r/eK*255);return s=s<0?0:s,o=o<0?0:o,a=a<0?0:a,l=(l=Math.round(i/eH*255))<0?0:l,s=s>255?255:s,o=o>255?255:o,a=a>255?255:a,(l=l>255?255:l)<<24&f.ALPHA_MASK|s<<16&f.RED_MASK|o<<8&f.GREEN_MASK|a&f.BLUE_MASK}function t6(e){n=((e&f.RED_MASK)>>>16)/255,r=((e&f.GREEN_MASK)>>>8)/255,i=(e&f.BLUE_MASK)/255;var n,r,i,s,o=_.max(_.max(n,r),i),a=_.min(_.min(n,r),i);return a===o?[0,0,o*eK]:((s=(n===o?(r-i)/(o-a):r===o?2+(i-n)/(o-a):4+(n-r)/(o-a))/6)<0?s+=1:s>1&&(s-=1),[s*eX,(o-a)/o*eY,o*eK])}function t8(){R.save()}function t7(){R.restore(),eS=!0,eA=!0}function t9(){var e=(Date.now()-e0)/1e3,n=++e1/e;e>.5&&(e0=Date.now(),e1=0,_.__frameRate=n),_.frameCount++}t3.prototype.load=function(){var e=I.$newPMatrix();1==arguments.length?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},tQ.prototype.$newPMatrix=function(){return new t2},tJ.prototype.$newPMatrix=function(){return new t5},t3.prototype.push=function(){this.matrixStack.push(this.peek())},t3.prototype.pop=function(){return this.matrixStack.pop()},t3.prototype.peek=function(){var e=I.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},t3.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},_.split=function(e,n){return e.split(n)},_.splitTokens=function(e,r){if(r===n)return e.split(/\s+/g);var i,s,o=r.split(/()/g),a="",l=e.length,h=[];for(i=0;i<l;i++)s=e[i],o.indexOf(s)>-1?(""!==a&&h.push(a),a=""):a+=s;return""!==a&&h.push(a),h},_.append=function(e,n){return e[e.length]=n,e},_.concat=function(e,n){return e.concat(n)},_.sort=function(e,n){var r=[];if(e.length>0){for(var i=n>0?n:e.length,s=0;s<i;s++)r.push(e[s]);if("string"==typeof e[0]?r.sort():r.sort(function(e,n){return e-n}),n>0)for(var o=r.length;o<e.length;o++)r.push(e[o])}return r},_.splice=function(e,n,r){if(0===n.length)return e;if(n instanceof Array)for(var i=0,s=r;i<n.length;s++,i++)e.splice(s,0,n[i]);else e.splice(r,0,n);return e},_.subset=function(e,r,i){var s=i!==n?r+i:e.length;return e.slice(r,s)},_.join=function(e,n){return e.join(n)},_.shorten=function(e){for(var n=[],r=e.length,i=0;i<r;i++)n[i]=e[i];return n.pop(),n},_.expand=function(e,n){var r=e.slice(0),i=n||2*e.length;return r.length=i,r},_.arrayCopy=function(){var e,r,i,s=0,o=0;2==arguments.length?(e=arguments[0],r=arguments[1],i=e.length):3==arguments.length?(e=arguments[0],r=arguments[1],i=arguments[2]):5==arguments.length&&(e=arguments[0],s=arguments[1],r=arguments[2],o=arguments[3],i=arguments[4]);for(var a=s,l=o;a<i+s;a++,l++)if(r[l]!==n)r[l]=e[a];else throw"array index out of bounds exception"},_.reverse=function(e){return e.reverse()},_.mix=function(e,n,r){return e+((n-e)*r>>8)},_.peg=function(e){return e<0?0:e>255?255:e},_.modes=function(){var e=f.ALPHA_MASK,n=f.RED_MASK,r=f.GREEN_MASK,i=f.BLUE_MASK,s=Math.min,o=Math.max;function a(e,n,r,i,o,a,l,h,u,c,f){var p=s(((4278190080&e)>>>24)+n,255)<<24,m=r+((u-r)*n>>8),g=i+((c-i)*n>>8),d=o+((f-o)*n>>8);return p|(m=(m<0?0:m>255?255:m)<<16)|(g=(g<0?0:g>255?255:g)<<8)|(d=d<0?0:d>255?255:d)}return{replace:function(e,n){return n},blend:function(o,a){var l=(a&e)>>>24,h=o&n,u=o&r,c=o&i,f=a&n,p=a&r,m=a&i;return s(((o&e)>>>24)+l,255)<<24|h+((f-h)*l>>8)&n|u+((p-u)*l>>8)&r|c+((m-c)*l>>8)&i},add:function(o,a){var l=(a&e)>>>24;return s(((o&e)>>>24)+l,255)<<24|s((o&n)+((a&n)>>8)*l,n)&n|s((o&r)+((a&r)>>8)*l,r)&r|s((o&i)+((a&i)*l>>8),i)},subtract:function(a,l){var h=(l&e)>>>24;return s(((a&e)>>>24)+h,255)<<24|o((a&n)-((l&n)>>8)*h,r)&n|o((a&r)-((l&r)>>8)*h,i)&r|o((a&i)-((l&i)*h>>8),0)},lightest:function(a,l){var h=(l&e)>>>24;return s(((a&e)>>>24)+h,255)<<24|o(a&n,((l&n)>>8)*h)&n|o(a&r,((l&r)>>8)*h)&r|o(a&i,(l&i)*h>>8)},darkest:function(o,a){var l=(a&e)>>>24,h=o&n,u=o&r,c=o&i,f=s(o&n,((a&n)>>8)*l),p=s(o&r,((a&r)>>8)*l),m=s(o&i,(a&i)*l>>8);return s(((o&e)>>>24)+l,255)<<24|h+((f-h)*l>>8)&n|u+((p-u)*l>>8)&r|c+((m-c)*l>>8)&i},difference:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i;return a(s,(o&e)>>>24,l,h,u,c,f,p,l>c?l-c:c-l,h>f?h-f:f-h,u>p?u-p:p-u)},exclusion:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i;return a(s,(o&e)>>>24,l,h,u,c,f,p,l+c-(l*c>>7),h+f-(h*f>>7),u+p-(u*p>>7))},multiply:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i;return a(s,(o&e)>>>24,l,h,u,c,f,p,l*c>>8,h*f>>8,u*p>>8)},screen:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i;return a(s,(o&e)>>>24,l,h,u,c,f,p,255-((255-l)*(255-c)>>8),255-((255-h)*(255-f)>>8),255-((255-u)*(255-p)>>8))},hard_light:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i;return a(s,(o&e)>>>24,l,h,u,c,f,p,c<128?l*c>>7:255-((255-l)*(255-c)>>7),f<128?h*f>>7:255-((255-h)*(255-f)>>7),p<128?u*p>>7:255-((255-u)*(255-p)>>7))},soft_light:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i;return a(s,(o&e)>>>24,l,h,u,c,f,p,(l*c>>7)+(l*l>>8)-(l*l*c>>15),(h*f>>7)+(h*h>>8)-(h*h*f>>15),(u*p>>7)+(u*u>>8)-(u*u*p>>15))},overlay:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i;return a(s,(o&e)>>>24,l,h,u,c,f,p,l<128?l*c>>7:255-((255-l)*(255-c)>>7),h<128?h*f>>7:255-((255-h)*(255-f)>>7),u<128?u*p>>7:255-((255-u)*(255-p)>>7))},dodge:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i,m=255;255!==c&&(m=(m=(l<<8)/(255-c))<0?0:m>255?255:m);var g=255;255!==f&&(g=(g=(h<<8)/(255-f))<0?0:g>255?255:g);var d=255;return 255!==p&&(d=(d=(u<<8)/(255-p))<0?0:d>255?255:d),a(s,(o&e)>>>24,l,h,u,c,f,p,m,g,d)},burn:function(s,o){var l=(s&n)>>16,h=(s&r)>>8,u=s&i,c=(o&n)>>16,f=(o&r)>>8,p=o&i,m=0;0!==c&&(m=255-((m=(255-l<<8)/c)<0?0:m>255?255:m));var g=0;0!==f&&(g=255-((g=(255-h<<8)/f)<0?0:g>255?255:g));var d=0;return 0!==p&&(d=255-((d=(255-u<<8)/p)<0?0:d>255?255:d)),a(s,(o&e)>>>24,l,h,u,c,f,p,m,g,d)}}}(),_.color=function(e,r,i,s){if(e!==n&&r!==n&&i!==n&&s!==n)return t4(e,r,i,s);if(e!==n&&r!==n&&i!==n)return t4(e,r,i,eH);if(e!==n&&r!==n){var o;return e&f.ALPHA_MASK?(o=(o=(o=Math.round(r/eH*255))>255?255:o)<0?0:o,e-(e&f.ALPHA_MASK)+(o<<24&f.ALPHA_MASK)):eZ===f.RGB?t4(e,e,e,r):eZ===f.HSB?t4(0,0,e/eX*eK,r):void 0}return"number"==typeof e?function(e){if(e<=eX&&e>=0){if(eZ===f.RGB)return t4(e,e,e,eH);if(eZ===f.HSB)return t4(0,0,e/eX*eK,eH)}if(e)return e>2147483647&&(e-=4294967296),e}(e):t4(eX,eY,eK,eH)},_.color.toString=function(e){return"rgba("+((e&f.RED_MASK)>>>16)+","+((e&f.GREEN_MASK)>>>8)+","+(e&f.BLUE_MASK)+","+((e&f.ALPHA_MASK)>>>24)/255+")"},_.color.toInt=function(e,n,r,i){return i<<24&f.ALPHA_MASK|e<<16&f.RED_MASK|n<<8&f.GREEN_MASK|r&f.BLUE_MASK},_.color.toArray=function(e){return[(e&f.RED_MASK)>>>16,(e&f.GREEN_MASK)>>>8,e&f.BLUE_MASK,(e&f.ALPHA_MASK)>>>24]},_.color.toGLArray=function(e){return[((e&f.RED_MASK)>>>16)/255,((e&f.GREEN_MASK)>>>8)/255,(e&f.BLUE_MASK)/255,((e&f.ALPHA_MASK)>>>24)/255]},_.color.toRGB=function(e,n,r){e=e>eX?eX:e,n=n>eY?eY:n,r=r>eK?eK:r,e=(e=e<0?0:e)/eX*360,n=n/eY*100;var i=Math.round((r=r/eK*100)/100*255);if(0===n)return[i,i,i];var s=e%360,o=s%60,a=Math.round(r*(100-n)/1e4*255),l=Math.round(r*(6e3-n*o)/6e5*255),h=Math.round(r*(6e3-n*(60-o))/6e5*255);switch(Math.floor(s/60)){case 0:return[i,h,a];case 1:return[l,i,a];case 2:return[a,i,h];case 3:return[a,l,i];case 4:return[h,a,i];case 5:return[i,a,l];default:S.debug("Unexpectedly hit default case in toRGB function.")}},_.brightness=function(e){return t6(e)[2]},_.saturation=function(e){return t6(e)[1]},_.hue=function(e){return t6(e)[0]},_.red=function(e){return((e&f.RED_MASK)>>>16)/255*eX},_.green=function(e){return((e&f.GREEN_MASK)>>>8)/255*eY},_.blue=function(e){return(e&f.BLUE_MASK)/255*eK},_.alpha=function(e){return((e&f.ALPHA_MASK)>>>24)/255*eH},_.lerpColor=function(e,n,r){var i,s,o,a,l,h,u,c,p,m,g,d,v,y,x,A,b=_.color(e),w=_.color(n);return eZ===f.HSB?(d=t6(b),u=((b&f.ALPHA_MASK)>>>24)/eH,v=t6(w),g=((w&f.ALPHA_MASK)>>>24)/eH,x=_.lerp(d[0],v[0],r),A=_.lerp(d[1],v[1],r),o=_.lerp(d[2],v[2],r),y=_.color.toRGB(x,A,o),(_.lerp(u,g,r)*eH+.5|0)<<24&f.ALPHA_MASK|y[0]<<16&f.RED_MASK|y[1]<<8&f.GREEN_MASK|y[2]&f.BLUE_MASK):(a=(b&f.RED_MASK)>>>16,l=(b&f.GREEN_MASK)>>>8,h=b&f.BLUE_MASK,u=((b&f.ALPHA_MASK)>>>24)/eH,c=(w&f.RED_MASK)>>>16,p=(w&f.GREEN_MASK)>>>8,m=w&f.BLUE_MASK,g=((w&f.ALPHA_MASK)>>>24)/eH,i=_.lerp(a,c,r)+.5|0,s=_.lerp(l,p,r)+.5|0,o=_.lerp(h,m,r)+.5|0,(_.lerp(u,g,r)*eH+.5|0)<<24&f.ALPHA_MASK|i<<16&f.RED_MASK|s<<8&f.GREEN_MASK|o&f.BLUE_MASK)},_.colorMode=function(){eZ=arguments[0],arguments.length>1&&(eX=arguments[1],eY=arguments[2]||arguments[1],eK=arguments[3]||arguments[1],eH=arguments[4]||arguments[1])},_.blendColor=function(e,n,r){if(r===f.REPLACE)return _.modes.replace(e,n);if(r===f.BLEND)return _.modes.blend(e,n);if(r===f.ADD)return _.modes.add(e,n);if(r===f.SUBTRACT)return _.modes.subtract(e,n);if(r===f.LIGHTEST)return _.modes.lightest(e,n);if(r===f.DARKEST)return _.modes.darkest(e,n);if(r===f.DIFFERENCE)return _.modes.difference(e,n);else if(r===f.EXCLUSION)return _.modes.exclusion(e,n);else if(r===f.MULTIPLY)return _.modes.multiply(e,n);else if(r===f.SCREEN)return _.modes.screen(e,n);else if(r===f.HARD_LIGHT)return _.modes.hard_light(e,n);else if(r===f.SOFT_LIGHT)return _.modes.soft_light(e,n);else if(r===f.OVERLAY)return _.modes.overlay(e,n);else if(r===f.DODGE)return _.modes.dodge(e,n);else if(r===f.BURN)return _.modes.burn(e,n)},_.printMatrix=function(){ec.print()},tQ.prototype.translate=function(e,n){ec.translate(e,n),ef.invTranslate(e,n),R.translate(e,n)},tJ.prototype.translate=function(e,n,r){ec.translate(e,n,r),ef.invTranslate(e,n,r)},tQ.prototype.scale=function(e,n){ec.scale(e,n),ef.invScale(e,n),R.scale(e,n||e)},tJ.prototype.scale=function(e,n,r){ec.scale(e,n,r),ef.invScale(e,n,r)},tQ.prototype.transform=function(e){var n=e.array();R.transform(n[0],n[3],n[1],n[4],n[2],n[5])},tJ.prototype.transformm=function(e){throw"p.transform is currently not supported in 3D mode"},tQ.prototype.pushMatrix=function(){ep.load(ec),em.load(ef),t8()},tJ.prototype.pushMatrix=function(){ep.load(ec),em.load(ef)},tQ.prototype.popMatrix=function(){ec.set(ep.pop()),ef.set(em.pop()),t7()},tJ.prototype.popMatrix=function(){ec.set(ep.pop()),ef.set(em.pop())},tQ.prototype.resetMatrix=function(){ec.reset(),ef.reset(),R.setTransform(1,0,0,1,0,0)},tJ.prototype.resetMatrix=function(){ec.reset(),ef.reset()},tq.prototype.applyMatrix=function(){var e=arguments;ec.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),ef.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},tQ.prototype.applyMatrix=function(){for(var e=arguments,n=e.length;n<16;n++)e[n]=0;e[10]=e[15]=1,tq.prototype.applyMatrix.apply(this,e)},_.rotateX=function(e){ec.rotateX(e),ef.invRotateX(e)},tQ.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},tJ.prototype.rotateZ=function(e){ec.rotateZ(e),ef.invRotateZ(e)},_.rotateY=function(e){ec.rotateY(e),ef.invRotateY(e)},tQ.prototype.rotate=function(e){ec.rotateZ(e),ef.invRotateZ(e),R.rotate(e)},tJ.prototype.rotate=function(e){arguments.length<4?_.rotateZ(e):(ec.rotate(e,arguments[1],arguments[2],arguments[3]),ef.rotate(-e,arguments[1],arguments[2],arguments[3]))},tQ.prototype.shearX=function(e){ec.shearX(e),R.transform(1,0,e,1,0,0)},tJ.prototype.shearX=function(e){ec.shearX(e)},tQ.prototype.shearY=function(e){ec.shearY(e),R.transform(1,e,0,1,0,0)},tJ.prototype.shearY=function(e){ec.shearY(e)},_.pushStyle=function(){t8(),_.pushMatrix();var e={doFill:ev,currentFillColor:ex,doStroke:eb,currentStrokeColor:eE,curTint:eq,curRectMode:eR,curColorMode:eZ,colorModeX:eX,colorModeZ:eK,colorModeY:eY,colorModeA:eH,curTextFont:ti,horizontalTextAlignment:e6,verticalTextAlignment:e8,textMode:e7,curFontName:e9,curTextSize:te,curTextAscent:tt,curTextDescent:tn,curTextLeading:tr};tO.push(e)},_.popStyle=function(){var e=tO.pop();if(e)t7(),_.popMatrix(),ev=e.doFill,ex=e.currentFillColor,eb=e.doStroke,eE=e.currentStrokeColor,eq=e.curTint,eR=e.curRectMode,eZ=e.curColorMode,eX=e.colorModeX,eK=e.colorModeZ,eY=e.colorModeY,eH=e.colorModeA,ti=e.curTextFont,e9=e.curFontName,te=e.curTextSize,e6=e.horizontalTextAlignment,e8=e.verticalTextAlignment,e7=e.textMode,tt=e.curTextAscent,tn=e.curTextDescent,tr=e.curTextLeading;else throw"Too many popStyle() without enough pushStyle()"},_.year=function(){return new Date().getFullYear()},_.month=function(){return new Date().getMonth()+1},_.day=function(){return new Date().getDate()},_.hour=function(){return new Date().getHours()},_.minute=function(){return new Date().getMinutes()},_.second=function(){return new Date().getSeconds()},_.millis=function(){return Date.now()-eJ},tQ.prototype.redraw=function(){t9(),R.lineWidth=eP;var e=_.pmouseX,n=_.pmouseY;_.pmouseX=ej,_.pmouseY=eW,t8(),_.draw(),t7(),ej=_.mouseX,eW=_.mouseY,_.pmouseX=e,_.pmouseY=n},tJ.prototype.redraw=function(){t9();var e=_.pmouseX,n=_.pmouseY;_.pmouseX=ej,_.pmouseY=eW,R.clear(R.DEPTH_BUFFER_BIT),e2={attributes:{},locations:{}},_.noLights(),_.lightFalloff(1,0,0),_.shininess(1),_.ambient(255,255,255),_.specular(0,0,0),_.emissive(0,0,0),_.camera(),_.draw(),ej=_.mouseX,eW=_.mouseY,_.pmouseX=e,_.pmouseY=n},_.noLoop=function(){eT=!1,eC=!1,clearInterval(e_),L.onPause()},_.loop=function(){eC||(e0=Date.now(),e1=0,e_=h.setInterval(function(){try{L.onFrameStart(),_.redraw(),L.onFrameEnd()}catch(e){throw h.clearInterval(e_),e}},eF),eT=!0,eC=!0,L.onLoop())},_.frameRate=function(e){eF=1e3/e,eT&&(_.noLoop(),_.loop())},_.exit=function(){for(var e in h.clearInterval(e_),E(_.externals.canvas.id),delete b.onmousedown,S.lib)S.lib.hasOwnProperty(e)&&S.lib[e].hasOwnProperty("detach")&&S.lib[e].detach(_);for(var n=C.length;n--;)T(C[n]);L.onExit()},_.cursor=function(){if(arguments.length>1||1==arguments.length&&arguments[0]instanceof _.PImage){var e,n,r=arguments[0];if(arguments.length>=3){if(e=arguments[1],n=arguments[2],e<0||n<0||n>=r.height||e>=r.width)throw"x and y must be non-negative and less than the dimensions of the image"}else e=r.width>>>1,n=r.height>>>1;var i='url("'+r.toDataURL()+'") '+e+" "+n+", default";b.style.cursor=i}else if(1==arguments.length){var s=arguments[0];b.style.cursor=s}else b.style.cursor=ek},_.noCursor=function(){b.style.cursor=f.NOCURSOR},_.link=function(e,r){r!==n?h.open(e,r):h.location=e},_.beginDraw=c,_.endDraw=c,tQ.prototype.toImageData=function(e,r,i,s){return e=e!==n?e:0,r=r!==n?r:0,i=i!==n?i:_.width,s=s!==n?s:_.height,R.getImageData(e,r,i,s)},tJ.prototype.toImageData=function(e,r,i,s){e=e!==n?e:0,r=r!==n?r:0,i=i!==n?i:_.width,s=s!==n?s:_.height;var o=u.createElement("canvas").getContext("2d").createImageData(i,s),a=new y(i*s*4);R.readPixels(e,r,i,s,R.RGBA,R.UNSIGNED_BYTE,a);for(var l=0,h=a.length,c=o.data;l<h;l++)c[l]=a[(s-1-Math.floor(l/4/i))*i*4+l%(4*i)];return o},_.status=function(e){h.status=e},_.binary=function(e,n){if(n>0)r=n;else if(e instanceof Char)r=16,e|=0;else for(r=32;r>1&&!(e>>>r-1&1);)r--;for(var r,i="";r>0;)i+=e>>>--r&1?"1":"0";return i},_.unbinary=function(e){for(var n=e.length-1,r=1,i=0;n>=0;){var s=e[n--];if("0"!==s&&"1"!==s)throw"the value passed into unbinary was not an 8 bit binary number";"1"===s&&(i+=r),r<<=1}return i};var ne=function(e,r){r=r===n||null===r?r=8:r,e<0&&(e=4294967295+e+1);for(var i=Number(e).toString(16).toUpperCase();i.length<r;)i="0"+i;return i.length>=r&&(i=i.substring(i.length-r,i.length)),i};function nt(e){var n=parseInt("0x"+e,16);return n>2147483647&&(n-=4294967296),n}function nn(e){return"number"==typeof e?0!==e:"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase():e instanceof Char?49===e.code||84===e.code||116===e.code:void 0}function nr(e){return"number"==typeof e?e:"boolean"==typeof e?e?1:0:"string"==typeof e?parseFloat(e):e instanceof Char?e.code:void 0}function ni(e,n){return"number"==typeof e?4294967295&e:"boolean"==typeof e?e?1:0:"string"==typeof e?4294967295&parseInt(e,n||10):e instanceof Char?e.code:void 0}_.hex=function(e,n){return 1==arguments.length&&(n=e instanceof Char?4:8),ne(e,n)},_.unhex=function(e){if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(nt(e[r]));return n}return nt(e)},_.loadStrings=function(e){if(r[e])return r[e].split("\n");var n=a(e);return"string"!=typeof n||""===n?[]:(n=n.replace(/(\r\n?)/g,"\n").replace(/\n$/,"")).split("\n")},_.saveStrings=function(e,n){r[e]=n.join("\n")},_.loadBytes=function(e){for(var n=a(e),r=[],i=0;i<n.length;i++)r.push(n.charCodeAt(i));return r},_.matchAll=function(e,n){for(var r,i=[],s=RegExp(n,"g");null!==(r=s.exec(e));)i.push(r),0===r[0].length&&++s.lastIndex;return i.length>0?i:null},_.match=function(e,n){return e.match(n)},_.println=function(){S.logger.println.apply(S.logger,arguments)},_.print=function(){S.logger.print.apply(S.logger,arguments)},_.str=function(e){if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(e[r].toString()+"");return n}return e.toString()+""},_.parseBoolean=function(e){if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(nn(e[r]));return n}return nn(e)},_.parseByte=function(e){if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(0-(128&e[r])|127&e[r]);return n}return 0-(128&e)|127&e},_.parseChar=function(e){if("number"==typeof e)return new Char(String.fromCharCode(65535&e));if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(new Char(String.fromCharCode(65535&e[r])));return n}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},_.parseFloat=function(e){if(e instanceof Array){for(var n=[],r=0;r<e.length;r++)n.push(nr(e[r]));return n}return nr(e)},_.parseInt=function(e,n){if(e instanceof Array){for(var r=[],i=0;i<e.length;i++)"string"!=typeof e[i]||/^\s*[+\-]?\d+\s*$/.test(e[i])?r.push(ni(e[i],n)):r.push(0);return r}return ni(e,n)},_.__int_cast=function(e){return 0|e},_.__instanceof=function(e,n){if("function"!=typeof n)throw"Function is expected as type argument for instanceof operator";if("string"==typeof e)return n===Object||n===String;if(e instanceof n)return!0;if("object"!=typeof e||null===e)return!1;var r=e.constructor;if(n.$isInterface){for(var i=[];r;)r.$interfaces&&(i=i.concat(r.$interfaces)),r=r.$base;for(;i.length>0;){var s=i.shift();if(s===n)return!0;s.$interfaces&&(i=i.concat(s.$interfaces))}return!1}for(;r.hasOwnProperty("$base");)if((r=r.$base)===n)return!0;return!1},tq.prototype.size=function(e,n,r){eb&&_.stroke(0),ev&&_.fill(255);var i={fillStyle:R.fillStyle,strokeStyle:R.strokeStyle,lineCap:R.lineCap,lineJoin:R.lineJoin};for(var s in b.style.length>0&&(b.style.removeProperty("width"),b.style.removeProperty("height")),b.width=_.width=e||100,b.height=_.height=n||100,i)i.hasOwnProperty(s)&&(R[s]=i[s]);_.textFont(ti),_.background(),ta=Math.max(1e3,e*n*.05),_.externals.context=R;for(var o=0;o<f.SINCOS_LENGTH;o++)tv[o]=_.sin(f.PI/180*o*.5),ty[o]=_.cos(f.PI/180*o*.5)},tQ.prototype.size=function(e,r,i){R===n&&(R=b.getContext("2d"),ep=new t3,em=new t3,ec=new t2,ef=new t2),tq.prototype.size.apply(this,arguments)},tJ.prototype.size=(A=!1,function(e,n,r){if(A)throw"Multiple calls to size() for 3D renders are not allowed.";A=!0;try{b.width=_.width=e||100,b.height=_.height=n||100,et=(R=function(e){for(var n,r=["experimental-webgl","webgl","webkit-3d"],i=0,s=r.length;i<s&&!(n=e.getContext(r[i],{antialias:!1,preserveDrawingBuffer:!0}));i++);return n}(b)).createTexture(),en=R.createTexture()}catch(e){S.debug(e)}if(!R)throw"WebGL context is not supported on this browser.";R.viewport(0,0,b.width,b.height),R.enable(R.DEPTH_TEST),R.enable(R.BLEND),R.blendFunc(R.SRC_ALPHA,R.ONE_MINUS_SRC_ALPHA),V=tY(R,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}"),z=tY(R,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}"),_.strokeWeight(1),G=tY(R,tG,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}"),R.useProgram(G),tz("usingTexture3d",G,"usingTexture",e4),_.lightFalloff(1,0,0),_.shininess(1),_.ambient(255,255,255),_.specular(0,0,0),_.emissive(0,0,0),U=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,U),R.bufferData(R.ARRAY_BUFFER,tN,R.STATIC_DRAW),H=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,H),R.bufferData(R.ARRAY_BUFFER,tk,R.STATIC_DRAW),X=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,X),R.bufferData(R.ARRAY_BUFFER,tF,R.STATIC_DRAW),Y=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,Y),R.bufferData(R.ARRAY_BUFFER,tB,R.STATIC_DRAW),K=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,K),R.bufferData(R.ARRAY_BUFFER,t$,R.STATIC_DRAW),j=R.createBuffer(),W=R.createBuffer(),Z=R.createBuffer(),q=R.createBuffer(),Q=R.createBuffer(),ee=R.createBuffer(),J=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,J),R.bufferData(R.ARRAY_BUFFER,new g([0,0,0]),R.STATIC_DRAW),er=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,er),R.bufferData(R.ARRAY_BUFFER,new g([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),R.STATIC_DRAW),ei=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,ei),R.bufferData(R.ARRAY_BUFFER,new g([0,0,1,0,1,1,0,1]),R.STATIC_DRAW),es=R.createBuffer(),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,es),R.bufferData(R.ELEMENT_ARRAY_BUFFER,new v([0,1,2,2,3,0]),R.STATIC_DRAW),eh=new t5,eu=new t5,ec=new t5,ef=new t5,ed=new t5,_.camera(),_.perspective(),ep=new t3,em=new t3,O=new t5,N=new t5,F=new t5,k=new t5,B=new t5,($=new t5).set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),tq.prototype.size.apply(this,arguments)}),tQ.prototype.ambientLight=tq.prototype.a3DOnlyFunction,tJ.prototype.ambientLight=function(e,n,r,i,s,o){if(tc===f.MAX_LIGHTS)throw"can only create "+f.MAX_LIGHTS+" lights";var a=new PVector(i,s,o),l=new t5;l.scale(1,-1,1),l.apply(ec.array()),l.mult(a,a);var h=t4(e,n,r,0),u=[((h&f.RED_MASK)>>>16)/255,((h&f.GREEN_MASK)>>>8)/255,(h&f.BLUE_MASK)/255];R.useProgram(G),tV("uLights.color.3d."+tc,G,"uLights"+tc+".color",u),tV("uLights.position.3d."+tc,G,"uLights"+tc+".position",a.array()),tz("uLights.type.3d."+tc,G,"uLights"+tc+".type",0),tz("uLightCount3d",G,"uLightCount",++tc)},tQ.prototype.directionalLight=tq.prototype.a3DOnlyFunction,tJ.prototype.directionalLight=function(e,n,r,i,s,o){if(tc===f.MAX_LIGHTS)throw"can only create "+f.MAX_LIGHTS+" lights";R.useProgram(G);var a=new t5;a.scale(1,-1,1),a.apply(ec.array());var l=[(a=a.array())[0]*i+a[4]*s+a[8]*o,a[1]*i+a[5]*s+a[9]*o,a[2]*i+a[6]*s+a[10]*o],h=t4(e,n,r,0),u=[((h&f.RED_MASK)>>>16)/255,((h&f.GREEN_MASK)>>>8)/255,(h&f.BLUE_MASK)/255];tV("uLights.color.3d."+tc,G,"uLights"+tc+".color",u),tV("uLights.position.3d."+tc,G,"uLights"+tc+".position",l),tz("uLights.type.3d."+tc,G,"uLights"+tc+".type",1),tz("uLightCount3d",G,"uLightCount",++tc)},tQ.prototype.lightFalloff=tq.prototype.a3DOnlyFunction,tJ.prototype.lightFalloff=function(e,n,r){R.useProgram(G),tV("uFalloff3d",G,"uFalloff",[e,n,r])},tQ.prototype.lightSpecular=tq.prototype.a3DOnlyFunction,tJ.prototype.lightSpecular=function(e,n,r){var i=t4(e,n,r,0),s=[((i&f.RED_MASK)>>>16)/255,((i&f.GREEN_MASK)>>>8)/255,(i&f.BLUE_MASK)/255];R.useProgram(G),tV("uSpecular3d",G,"uSpecular",s)},_.lights=function(){_.ambientLight(128,128,128),_.directionalLight(128,128,128,0,0,-1),_.lightFalloff(1,0,0),_.lightSpecular(0,0,0)},tQ.prototype.pointLight=tq.prototype.a3DOnlyFunction,tJ.prototype.pointLight=function(e,n,r,i,s,o){if(tc===f.MAX_LIGHTS)throw"can only create "+f.MAX_LIGHTS+" lights";var a=new PVector(i,s,o),l=new t5;l.scale(1,-1,1),l.apply(ec.array()),l.mult(a,a);var h=t4(e,n,r,0),u=[((h&f.RED_MASK)>>>16)/255,((h&f.GREEN_MASK)>>>8)/255,(h&f.BLUE_MASK)/255];R.useProgram(G),tV("uLights.color.3d."+tc,G,"uLights"+tc+".color",u),tV("uLights.position.3d."+tc,G,"uLights"+tc+".position",a.array()),tz("uLights.type.3d."+tc,G,"uLights"+tc+".type",2),tz("uLightCount3d",G,"uLightCount",++tc)},tQ.prototype.noLights=tq.prototype.a3DOnlyFunction,tJ.prototype.noLights=function(){tc=0,R.useProgram(G),tz("uLightCount3d",G,"uLightCount",tc)},tQ.prototype.spotLight=tq.prototype.a3DOnlyFunction,tJ.prototype.spotLight=function(e,n,r,i,s,o,a,l,h,u,c){if(tc===f.MAX_LIGHTS)throw"can only create "+f.MAX_LIGHTS+" lights";R.useProgram(G);var p=new PVector(i,s,o),m=new t5;m.scale(1,-1,1),m.apply(ec.array()),m.mult(p,p);var g=[(m=m.array())[0]*a+m[4]*l+m[8]*h,m[1]*a+m[5]*l+m[9]*h,m[2]*a+m[6]*l+m[10]*h],d=t4(e,n,r,0),v=[((d&f.RED_MASK)>>>16)/255,((d&f.GREEN_MASK)>>>8)/255,(d&f.BLUE_MASK)/255];tV("uLights.color.3d."+tc,G,"uLights"+tc+".color",v),tV("uLights.position.3d."+tc,G,"uLights"+tc+".position",p.array()),tV("uLights.direction.3d."+tc,G,"uLights"+tc+".direction",g),tV("uLights.concentration.3d."+tc,G,"uLights"+tc+".concentration",c),tV("uLights.angle.3d."+tc,G,"uLights"+tc+".angle",u),tz("uLights.type.3d."+tc,G,"uLights"+tc+".type",3),tz("uLightCount3d",G,"uLightCount",++tc)},tQ.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},tJ.prototype.beginCamera=function(){if(tx)throw"You cannot call beginCamera() again before calling endCamera()";tx=!0,ec=eu,ef=eh},tQ.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},tJ.prototype.endCamera=function(){if(!tx)throw"You cannot call endCamera() before calling beginCamera()";ec.set(eh),ef.set(eu),tx=!1},_.camera=function(e,r,i,s,o,a,l,h,u){e===n&&(tb=_.width/2,tE=(tw=_.height/2)/Math.tan(tA/2),e=tb,r=tw,i=tE,s=tb,o=tw,a=0,l=0,h=1,u=0);var c=new PVector(e-s,r-o,i-a),f=new PVector(l,h,u);c.normalize();var p=PVector.cross(f,c);f=PVector.cross(c,p),p.normalize(),f.normalize();var m=p.x,g=p.y,d=p.z,v=f.x,y=f.y,x=f.z,A=c.x,b=c.y,w=c.z;eh.set(m,g,d,0,v,y,x,0,A,b,w,0,0,0,0,1),eh.translate(-e,-r,-i),eu.reset(),eu.invApply(m,g,d,0,v,y,x,0,A,b,w,0,0,0,0,1),eu.translate(e,r,i),ec.set(eh),ef.set(eu)},_.perspective=function(e,n,r,i){var s,o,a,l;0==arguments.length&&(tS=(tE=(tw=b.height/2)/Math.tan(tA/2))/10,tP=10*tE,tC=_.width/_.height,e=tA,n=tC,r=tS,i=tP),o=-(s=r*Math.tan(e/2)),a=s*n,l=o*n,_.frustum(l,a,o,s,r,i)},tQ.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},tJ.prototype.frustum=function(e,n,r,i,s,o){(ed=new t5).set(2*s/(n-e),0,(n+e)/(n-e),0,0,2*s/(i-r),(i+r)/(i-r),0,0,0,-(o+s)/(o-s),-(2*o*s)/(o-s),0,0,-1,0);var a=new t5;a.set(ed),a.transpose(),R.useProgram(V),tU("projection2d",V,"uProjection",!1,a.array()),R.useProgram(G),tU("projection3d",G,"uProjection",!1,a.array()),R.useProgram(z),tU("uProjectionUS",z,"uProjection",!1,a.array())},_.ortho=function(e,n,r,i,s,o){0==arguments.length&&(e=0,n=_.width,r=0,i=_.height,s=-10,o=10);var a=2/(n-e),l=2/(i-r),h=-2/(o-s),u=-(n+e)/(n-e),c=-(i+r)/(i-r),f=-(o+s)/(o-s);(ed=new t5).set(a,0,0,u,0,l,0,c,0,0,h,f,0,0,0,1);var p=new t5;p.set(ed),p.transpose(),R.useProgram(V),tU("projection2d",V,"uProjection",!1,p.array()),R.useProgram(G),tU("projection3d",G,"uProjection",!1,p.array()),R.useProgram(z),tU("uProjectionUS",z,"uProjection",!1,p.array())},_.printProjection=function(){ed.print()},_.printCamera=function(){eh.print()},tQ.prototype.box=tq.prototype.a3DOnlyFunction,tJ.prototype.box=function(e,n,r){n&&r||(n=r=e);var i=new t5;i.scale(e,n,r);var s=new t5;if(s.scale(1,-1,1),s.apply(ec.array()),s.transpose(),ev){if(R.useProgram(G),tU("model3d",G,"uModel",!1,i.array()),tU("view3d",G,"uView",!1,s.array()),R.enable(R.POLYGON_OFFSET_FILL),R.polygonOffset(1,1),tV("color3d",G,"uColor",ey),tc>0){var o=new t5;o.set(s);var a=new t5;a.set(i),o.mult(a);var l=new t5;l.set(o),l.invert(),l.transpose(),tU("uNormalTransform3d",G,"uNormalTransform",!1,l.array()),tH("aNormal3d",G,"aNormal",3,H)}else tX("aNormal3d",G,"aNormal");tH("aVertex3d",G,"aVertex",3,U),tX("aColor3d",G,"aColor"),tX("aTexture3d",G,"aTexture"),R.drawArrays(R.TRIANGLES,0,tN.length/3),R.disable(R.POLYGON_OFFSET_FILL)}eP>0&&eb&&(R.useProgram(V),tU("uModel2d",V,"uModel",!1,i.array()),tU("uView2d",V,"uView",!1,s.array()),tV("uColor2d",V,"uColor",ew),tz("uIsDrawingText2d",V,"uIsDrawingText",!1),tH("vertex2d",V,"aVertex",3,X),tX("aTextureCoord2d",V,"aTextureCoord"),R.drawArrays(R.LINES,0,tF.length/3))};var ns=function(){for(e=0,el=[];e<tp;e++)el.push(0),el.push(-1),el.push(0),el.push(tm[e]),el.push(tg[e]),el.push(td[e]);el.push(0),el.push(-1),el.push(0),el.push(tm[0]),el.push(tg[0]),el.push(td[0]);var e,n,r,i,s=0;for(e=2;e<tf;e++){n=r=s,s+=tp,i=s;for(var o=0;o<tp;o++)el.push(tm[n]),el.push(tg[n]),el.push(td[n++]),el.push(tm[i]),el.push(tg[i]),el.push(td[i++]);n=r,i=s,el.push(tm[n]),el.push(tg[n]),el.push(td[n]),el.push(tm[i]),el.push(tg[i]),el.push(td[i])}for(e=0;e<tp;e++)i=s+e,el.push(tm[i]),el.push(tg[i]),el.push(td[i]),el.push(0),el.push(1),el.push(0);el.push(tm[s]),el.push(tg[s]),el.push(td[s]),el.push(0),el.push(1),el.push(0),R.bindBuffer(R.ARRAY_BUFFER,j),R.bufferData(R.ARRAY_BUFFER,new g(el),R.STATIC_DRAW)};function no(){ev&&(eA&&(R.fillStyle=_.color.toString(ex),eA=!1),R.fill())}function na(){eb&&(eS&&(R.strokeStyle=_.color.toString(eE),eS=!1),R.stroke())}_.sphereDetail=function(e,n){if(1==arguments.length&&(e=n=arguments[0]),e<3&&(e=3),n<2&&(n=2),e!==tp||n!==tf){var r,i=f.SINCOS_LENGTH/e,s=new g(e),o=new g(e);for(r=0;r<e;r++)s[r]=ty[r*i%f.SINCOS_LENGTH|0],o[r]=tv[r*i%f.SINCOS_LENGTH|0];var a=e*(n-1)+2,l=0;tm=new g(a),tg=new g(a),td=new g(a);var h=.5*f.SINCOS_LENGTH/n,u=h;for(r=1;r<n;r++){for(var c=tv[u%f.SINCOS_LENGTH|0],p=-ty[u%f.SINCOS_LENGTH|0],m=0;m<e;m++)tm[l]=s[m]*c,tg[l]=p,td[l++]=o[m]*c;u+=h}tp=e,tf=n,ns()}},tQ.prototype.sphere=tq.prototype.a3DOnlyFunction,tJ.prototype.sphere=function(){var e=arguments[0];(tp<3||tf<2)&&_.sphereDetail(30);var n=new t5;n.scale(e,e,e);var r=new t5;if(r.scale(1,-1,1),r.apply(ec.array()),r.transpose(),ev){if(tc>0){var i=new t5;i.set(r);var s=new t5;s.set(n),i.mult(s);var o=new t5;o.set(i),o.invert(),o.transpose(),tU("uNormalTransform3d",G,"uNormalTransform",!1,o.array()),tH("aNormal3d",G,"aNormal",3,j)}else tX("aNormal3d",G,"aNormal");R.useProgram(G),tX("aTexture3d",G,"aTexture"),tU("uModel3d",G,"uModel",!1,n.array()),tU("uView3d",G,"uView",!1,r.array()),tH("aVertex3d",G,"aVertex",3,j),tX("aColor3d",G,"aColor"),R.enable(R.POLYGON_OFFSET_FILL),R.polygonOffset(1,1),tV("uColor3d",G,"uColor",ey),R.drawArrays(R.TRIANGLE_STRIP,0,el.length/3),R.disable(R.POLYGON_OFFSET_FILL)}eP>0&&eb&&(R.useProgram(V),tU("uModel2d",V,"uModel",!1,n.array()),tU("uView2d",V,"uView",!1,r.array()),tH("aVertex2d",V,"aVertex",3,j),tX("aTextureCoord2d",V,"aTextureCoord"),tV("uColor2d",V,"uColor",ew),tz("uIsDrawingText",V,"uIsDrawingText",!1),R.drawArrays(R.LINE_STRIP,0,el.length/3))},_.modelX=function(e,n,r){var i=ec.array(),s=eu.array(),o=i[0]*e+i[1]*n+i[2]*r+i[3],a=i[4]*e+i[5]*n+i[6]*r+i[7],l=i[8]*e+i[9]*n+i[10]*r+i[11],h=i[12]*e+i[13]*n+i[14]*r+i[15],u=s[0]*o+s[1]*a+s[2]*l+s[3]*h,c=s[12]*o+s[13]*a+s[14]*l+s[15]*h;return 0!==c?u/c:u},_.modelY=function(e,n,r){var i=ec.array(),s=eu.array(),o=i[0]*e+i[1]*n+i[2]*r+i[3],a=i[4]*e+i[5]*n+i[6]*r+i[7],l=i[8]*e+i[9]*n+i[10]*r+i[11],h=i[12]*e+i[13]*n+i[14]*r+i[15],u=s[4]*o+s[5]*a+s[6]*l+s[7]*h,c=s[12]*o+s[13]*a+s[14]*l+s[15]*h;return 0!==c?u/c:u},_.modelZ=function(e,n,r){var i=ec.array(),s=eu.array(),o=i[0]*e+i[1]*n+i[2]*r+i[3],a=i[4]*e+i[5]*n+i[6]*r+i[7],l=i[8]*e+i[9]*n+i[10]*r+i[11],h=i[12]*e+i[13]*n+i[14]*r+i[15],u=s[8]*o+s[9]*a+s[10]*l+s[11]*h,c=s[12]*o+s[13]*a+s[14]*l+s[15]*h;return 0!==c?u/c:u},tQ.prototype.ambient=tq.prototype.a3DOnlyFunction,tJ.prototype.ambient=function(e,n,r){R.useProgram(G),tz("uUsingMat3d",G,"uUsingMat",!0);var i=_.color(e,n,r);tV("uMaterialAmbient3d",G,"uMaterialAmbient",_.color.toGLArray(i).slice(0,3))},tQ.prototype.emissive=tq.prototype.a3DOnlyFunction,tJ.prototype.emissive=function(e,n,r){R.useProgram(G),tz("uUsingMat3d",G,"uUsingMat",!0);var i=_.color(e,n,r);tV("uMaterialEmissive3d",G,"uMaterialEmissive",_.color.toGLArray(i).slice(0,3))},tQ.prototype.shininess=tq.prototype.a3DOnlyFunction,tJ.prototype.shininess=function(e){R.useProgram(G),tz("uUsingMat3d",G,"uUsingMat",!0),tV("uShininess3d",G,"uShininess",e)},tQ.prototype.specular=tq.prototype.a3DOnlyFunction,tJ.prototype.specular=function(e,n,r){R.useProgram(G),tz("uUsingMat3d",G,"uUsingMat",!0);var i=_.color(e,n,r);tV("uMaterialSpecular3d",G,"uMaterialSpecular",_.color.toGLArray(i).slice(0,3))},_.screenX=function(e,n,r){var i=ec.array();if(16===i.length){var s=i[0]*e+i[1]*n+i[2]*r+i[3],o=i[4]*e+i[5]*n+i[6]*r+i[7],a=i[8]*e+i[9]*n+i[10]*r+i[11],l=i[12]*e+i[13]*n+i[14]*r+i[15],h=ed.array(),u=h[0]*s+h[1]*o+h[2]*a+h[3]*l,c=h[12]*s+h[13]*o+h[14]*a+h[15]*l;return 0!==c&&(u/=c),_.width*(1+u)/2}return ec.multX(e,n)},_.screenY=function(e,n,r){var i=ec.array();if(16===i.length){var s=i[0]*e+i[1]*n+i[2]*r+i[3],o=i[4]*e+i[5]*n+i[6]*r+i[7],a=i[8]*e+i[9]*n+i[10]*r+i[11],l=i[12]*e+i[13]*n+i[14]*r+i[15],h=ed.array(),u=h[4]*s+h[5]*o+h[6]*a+h[7]*l,c=h[12]*s+h[13]*o+h[14]*a+h[15]*l;return 0!==c&&(u/=c),_.height*(1+u)/2}return ec.multY(e,n)},_.screenZ=function(e,n,r){var i=ec.array();if(16!==i.length)return 0;var s=ed.array(),o=i[0]*e+i[1]*n+i[2]*r+i[3],a=i[4]*e+i[5]*n+i[6]*r+i[7],l=i[8]*e+i[9]*n+i[10]*r+i[11],h=i[12]*e+i[13]*n+i[14]*r+i[15],u=s[8]*o+s[9]*a+s[10]*l+s[11]*h,c=s[12]*o+s[13]*a+s[14]*l+s[15]*h;return 0!==c&&(u/=c),(u+1)/2},tq.prototype.fill=function(){var e=_.color.apply(this,arguments);e===ex&&ev||(ev=!0,ex=e)},tQ.prototype.fill=function(){tq.prototype.fill.apply(this,arguments),eA=!0},tJ.prototype.fill=function(){tq.prototype.fill.apply(this,arguments),ey=_.color.toGLArray(ex)},_.noFill=function(){ev=!1},tq.prototype.stroke=function(){var e=_.color.apply(this,arguments);e===eE&&eb||(eb=!0,eE=e)},tQ.prototype.stroke=function(){tq.prototype.stroke.apply(this,arguments),eS=!0},tJ.prototype.stroke=function(){tq.prototype.stroke.apply(this,arguments),ew=_.color.toGLArray(eE)},_.noStroke=function(){eb=!1},tq.prototype.strokeWeight=function(e){eP=e},tQ.prototype.strokeWeight=function(e){tq.prototype.strokeWeight.apply(this,arguments),R.lineWidth=e},tJ.prototype.strokeWeight=function(e){tq.prototype.strokeWeight.apply(this,arguments),R.useProgram(V),tV("pointSize2d",V,"uPointSize",e),R.useProgram(z),tV("pointSizeUnlitShape",z,"uPointSize",e),R.lineWidth(e)},_.strokeCap=function(e){I.$ensureContext().lineCap=e},_.strokeJoin=function(e){I.$ensureContext().lineJoin=e},tQ.prototype.smooth=function(){eM=!0;var e=b.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),R.hasOwnProperty("mozImageSmoothingEnabled")&&(R.mozImageSmoothingEnabled=!0)},tJ.prototype.smooth=function(){eM=!0},tQ.prototype.noSmooth=function(){eM=!1;var e=b.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),R.hasOwnProperty("mozImageSmoothingEnabled")&&(R.mozImageSmoothingEnabled=!1)},tJ.prototype.noSmooth=function(){eM=!1},tQ.prototype.point=function(e,n){eb&&(eM||(e=Math.round(e),n=Math.round(n)),R.fillStyle=_.color.toString(eE),eA=!0,eP>1?(R.beginPath(),R.arc(e,n,eP/2,0,f.TWO_PI,!1),R.fill()):R.fillRect(e,n,1,1))},tJ.prototype.point=function(e,n,r){var i=new t5;i.translate(e,n,r||0),i.transpose();var s=new t5;s.scale(1,-1,1),s.apply(ec.array()),s.transpose(),R.useProgram(V),tU("uModel2d",V,"uModel",!1,i.array()),tU("uView2d",V,"uView",!1,s.array()),eP>0&&eb&&(tV("uColor2d",V,"uColor",ew),tz("uIsDrawingText2d",V,"uIsDrawingText",!1),tz("uSmooth2d",V,"uSmooth",eM),tH("aVertex2d",V,"aVertex",3,J),tX("aTextureCoord2d",V,"aTextureCoord"),R.drawArrays(R.POINTS,0,1))},_.beginShape=function(e){eB=e,tM=[]},tQ.prototype.vertex=function(e,n,r){var i=[];tI&&(tI=!1),i.isVert=!0,i[0]=e,i[1]=n,i[2]=0,i[3]=0,i[4]=0,i[5]=ex,i[6]=eE,tM.push(i),r&&(tM[tM.length-1].moveTo=r)},tJ.prototype.vertex=function(e,r,i,s,o){var a=[];tI&&(tI=!1),a.isVert=!0,o===n&&e4&&(o=s,s=i,i=0),s!==n&&o!==n&&(e3===f.IMAGE&&(s/=e5.width,o/=e5.height),s=(s=s>1?1:s)<0?0:s,o=(o=o>1?1:o)<0?0:o),a[0]=e,a[1]=r,a[2]=i||0,a[3]=s||0,a[4]=o||0,a[5]=ey[0],a[6]=ey[1],a[7]=ey[2],a[8]=ey[3],a[9]=ew[0],a[10]=ew[1],a[11]=ew[2],a[12]=ew[3],a[13]=eI,a[14]=eD,a[15]=eO,tM.push(a)};var nl=function(e,n){var r=new t5;r.scale(1,-1,1),r.apply(ec.array()),r.transpose(),R.useProgram(z),tU("uViewUS",z,"uView",!1,r.array()),tz("uSmoothUS",z,"uSmooth",eM),tH("aVertexUS",z,"aVertex",3,J),R.bufferData(R.ARRAY_BUFFER,new g(e),R.STREAM_DRAW),tH("aColorUS",z,"aColor",4,q),R.bufferData(R.ARRAY_BUFFER,new g(n),R.STREAM_DRAW),R.drawArrays(R.POINTS,0,e.length/3)},nh=function(e,n,r){i="LINES"===n?R.LINES:"LINE_LOOP"===n?R.LINE_LOOP:R.LINE_STRIP;var i,s=new t5;s.scale(1,-1,1),s.apply(ec.array()),s.transpose(),R.useProgram(z),tU("uViewUS",z,"uView",!1,s.array()),tH("aVertexUS",z,"aVertex",3,W),R.bufferData(R.ARRAY_BUFFER,new g(e),R.STREAM_DRAW),tH("aColorUS",z,"aColor",4,Q),R.bufferData(R.ARRAY_BUFFER,new g(r),R.STREAM_DRAW),R.drawArrays(i,0,e.length/3)},nu=function(e,n,r,i){s="TRIANGLES"===n?R.TRIANGLES:"TRIANGLE_FAN"===n?R.TRIANGLE_FAN:R.TRIANGLE_STRIP;var s,o=new t5;o.scale(1,-1,1),o.apply(ec.array()),o.transpose(),R.useProgram(G),tU("model3d",G,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),tU("view3d",G,"uView",!1,o.array()),R.enable(R.POLYGON_OFFSET_FILL),R.polygonOffset(1,1),tV("color3d",G,"uColor",[-1,0,0,0]),tH("vertex3d",G,"aVertex",3,Z),R.bufferData(R.ARRAY_BUFFER,new g(e),R.STREAM_DRAW),e4&&null!==eq&&eQ(r),tH("aColor3d",G,"aColor",4,q),R.bufferData(R.ARRAY_BUFFER,new g(r),R.STREAM_DRAW),tX("aNormal3d",G,"aNormal"),e4&&(tz("uUsingTexture3d",G,"uUsingTexture",e4),tH("aTexture3d",G,"aTexture",2,ee),R.bufferData(R.ARRAY_BUFFER,new g(i),R.STREAM_DRAW)),R.drawArrays(s,0,e.length/3),R.disable(R.POLYGON_OFFSET_FILL)};function nc(){no(),na(),R.closePath()}tQ.prototype.endShape=function(e){if(0!==tM.length){var r,i,s,o=e===f.CLOSE;o&&tM.push(tM[0]);var a=[],l=[],h=[],u=[];tI=!0;var c=tM.length;for(i=0;i<c;i++)for(s=0,r=tM[i];s<3;s++)a.push(r[s]);for(i=0;i<c;i++)for(s=5,r=tM[i];s<9;s++)l.push(r[s]);for(i=0;i<c;i++)for(s=9,r=tM[i];s<13;s++)h.push(r[s]);for(i=0;i<c;i++)u.push((r=tM[i])[3]),u.push(r[4]);if(tR&&(eB===f.POLYGON||eB===n)){if(c>3){var p=[],m=1-e$;for(R.beginPath(),R.moveTo(tM[1][0],tM[1][1]),i=1;i+2<c;i++)r=tM[i],p[0]=[r[0],r[1]],p[1]=[r[0]+(m*tM[i+1][0]-m*tM[i-1][0])/6,r[1]+(m*tM[i+1][1]-m*tM[i-1][1])/6],p[2]=[tM[i+1][0]+(m*tM[i][0]-m*tM[i+2][0])/6,tM[i+1][1]+(m*tM[i][1]-m*tM[i+2][1])/6],p[3]=[tM[i+1][0],tM[i+1][1]],R.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]);nc()}}else if(tL&&(eB===f.POLYGON||eB===n)){for(R.beginPath(),i=0;i<c;i++)r=tM[i],tM[i].isVert?tM[i].moveTo?R.moveTo(r[0],r[1]):R.lineTo(r[0],r[1]):R.bezierCurveTo(tM[i][0],tM[i][1],tM[i][2],tM[i][3],tM[i][4],tM[i][5]);nc()}else if(eB===f.POINTS)for(i=0;i<c;i++)r=tM[i],eb&&_.stroke(r[6]),_.point(r[0],r[1]);else if(eB===f.LINES)for(i=0;i+1<c;i+=2)r=tM[i],eb&&_.stroke(tM[i+1][6]),_.line(r[0],r[1],tM[i+1][0],tM[i+1][1]);else if(eB===f.TRIANGLES)for(i=0;i+2<c;i+=3)r=tM[i],R.beginPath(),R.moveTo(r[0],r[1]),R.lineTo(tM[i+1][0],tM[i+1][1]),R.lineTo(tM[i+2][0],tM[i+2][1]),R.lineTo(r[0],r[1]),ev&&(_.fill(tM[i+2][5]),no()),eb&&(_.stroke(tM[i+2][6]),na()),R.closePath();else if(eB===f.TRIANGLE_STRIP)for(i=0;i+1<c;i++)r=tM[i],R.beginPath(),R.moveTo(tM[i+1][0],tM[i+1][1]),R.lineTo(r[0],r[1]),eb&&_.stroke(tM[i+1][6]),ev&&_.fill(tM[i+1][5]),i+2<c&&(R.lineTo(tM[i+2][0],tM[i+2][1]),eb&&_.stroke(tM[i+2][6]),ev&&_.fill(tM[i+2][5])),nc();else if(eB===f.TRIANGLE_FAN){if(c>2)for(R.beginPath(),R.moveTo(tM[0][0],tM[0][1]),R.lineTo(tM[1][0],tM[1][1]),R.lineTo(tM[2][0],tM[2][1]),ev&&(_.fill(tM[2][5]),no()),eb&&(_.stroke(tM[2][6]),na()),R.closePath(),i=3;i<c;i++)r=tM[i],R.beginPath(),R.moveTo(tM[0][0],tM[0][1]),R.lineTo(tM[i-1][0],tM[i-1][1]),R.lineTo(r[0],r[1]),ev&&(_.fill(r[5]),no()),eb&&(_.stroke(r[6]),na()),R.closePath()}else if(eB===f.QUADS)for(i=0;i+3<c;i+=4){for(r=tM[i],R.beginPath(),R.moveTo(r[0],r[1]),s=1;s<4;s++)R.lineTo(tM[i+s][0],tM[i+s][1]);R.lineTo(r[0],r[1]),ev&&(_.fill(tM[i+3][5]),no()),eb&&(_.stroke(tM[i+3][6]),na()),R.closePath()}else if(eB===f.QUAD_STRIP){if(c>3)for(i=0;i+1<c;i+=2)r=tM[i],R.beginPath(),i+3<c?(R.moveTo(tM[i+2][0],tM[i+2][1]),R.lineTo(r[0],r[1]),R.lineTo(tM[i+1][0],tM[i+1][1]),R.lineTo(tM[i+3][0],tM[i+3][1]),ev&&_.fill(tM[i+3][5]),eb&&_.stroke(tM[i+3][6])):(R.moveTo(r[0],r[1]),R.lineTo(tM[i+1][0],tM[i+1][1])),nc()}else{for(R.beginPath(),R.moveTo(tM[0][0],tM[0][1]),i=1;i<c;i++)(r=tM[i]).isVert&&(r.moveTo?R.moveTo(r[0],r[1]):R.lineTo(r[0],r[1]));nc()}tR=!1,tL=!1,tT=[],t_=0,o&&tM.pop()}},tJ.prototype.endShape=function(e){if(0!==tM.length){var r,i,s,o,a=e===f.CLOSE,l=[],h=[],u=[],c=[],p=[];tI=!0;var m=tM.length;for(i=0;i<m;i++)for(s=0,r=tM[i];s<3;s++)h.push(r[s]);for(i=0;i<m;i++)for(s=5,r=tM[i];s<9;s++)u.push(r[s]);for(i=0;i<m;i++)for(s=9,r=tM[i];s<13;s++)c.push(r[s]);for(i=0;i<m;i++)r=tM[i],p.push(r[3]),p.push(r[4]);if(a){for(h.push(tM[0][0]),h.push(tM[0][1]),h.push(tM[0][2]),i=5;i<9;i++)u.push(tM[0][i]);for(i=9;i<13;i++)c.push(tM[0][i]);p.push(tM[0][3]),p.push(tM[0][4])}if(tR&&(eB===f.POLYGON||eB===n))l=h,eb&&nh(l,null,c),ev&&nu(h,null,u);else if(tL&&(eB===f.POLYGON||eB===n))(l=h).splice(l.length-3),c.splice(c.length-4),eb&&nh(l,null,c),ev&&nu(h,"TRIANGLES",u);else{if(eB===f.POINTS){for(i=0;i<m;i++)for(s=0,r=tM[i];s<3;s++)l.push(r[s]);nl(l,c)}else if(eB===f.LINES){for(i=0;i<m;i++)for(s=0,r=tM[i];s<3;s++)l.push(r[s]);for(i=0;i<m;i++)for(s=5,r=tM[i];s<9;s++)u.push(r[s]);nh(l,"LINES",c)}else if(eB===f.TRIANGLES){if(m>2)for(i=0;i+2<m;i+=3){for(s=0,h=[],p=[],l=[],u=[],c=[];s<3;s++)for(o=0;o<3;o++)l.push(tM[i+s][o]),h.push(tM[i+s][o]);for(s=0;s<3;s++)for(o=3;o<5;o++)p.push(tM[i+s][o]);for(s=0;s<3;s++)for(o=5;o<9;o++)u.push(tM[i+s][o]),c.push(tM[i+s][o+4]);eb&&nh(l,"LINE_LOOP",c),(ev||e4)&&nu(h,"TRIANGLES",u,p)}}else if(eB===f.TRIANGLE_STRIP){if(m>2)for(i=0;i+2<m;i++){for(s=0,l=[],h=[],c=[],u=[],p=[];s<3;s++)for(o=0;o<3;o++)l.push(tM[i+s][o]),h.push(tM[i+s][o]);for(s=0;s<3;s++)for(o=3;o<5;o++)p.push(tM[i+s][o]);for(s=0;s<3;s++)for(o=5;o<9;o++)c.push(tM[i+s][o+4]),u.push(tM[i+s][o]);(ev||e4)&&nu(h,"TRIANGLE_STRIP",u,p),eb&&nh(l,"LINE_LOOP",c)}}else if(eB===f.TRIANGLE_FAN){if(m>2){for(i=0;i<3;i++)for(s=0,r=tM[i];s<3;s++)l.push(r[s]);for(i=0;i<3;i++)for(s=9,r=tM[i];s<13;s++)c.push(r[s]);for(eb&&nh(l,"LINE_LOOP",c),i=2;i+1<m;i++){for(c=[],(l=[]).push(tM[0][0]),l.push(tM[0][1]),l.push(tM[0][2]),c.push(tM[0][9]),c.push(tM[0][10]),c.push(tM[0][11]),c.push(tM[0][12]),s=0;s<2;s++)for(o=0;o<3;o++)l.push(tM[i+s][o]);for(s=0;s<2;s++)for(o=9;o<13;o++)c.push(tM[i+s][o]);eb&&nh(l,"LINE_STRIP",c)}(ev||e4)&&nu(h,"TRIANGLE_FAN",u,p)}}else if(eB===f.QUADS)for(i=0;i+3<m;i+=4){for(s=0,l=[];s<4;s++)for(o=0,r=tM[i+s];o<3;o++)l.push(r[o]);if(eb&&nh(l,"LINE_LOOP",c),ev){for(s=0,h=[],u=[],p=[];s<3;s++)h.push(tM[i][s]);for(s=5;s<9;s++)u.push(tM[i][s]);for(s=0;s<3;s++)h.push(tM[i+1][s]);for(s=5;s<9;s++)u.push(tM[i+1][s]);for(s=0;s<3;s++)h.push(tM[i+3][s]);for(s=5;s<9;s++)u.push(tM[i+3][s]);for(s=0;s<3;s++)h.push(tM[i+2][s]);for(s=5;s<9;s++)u.push(tM[i+2][s]);e4&&(p.push(tM[i+0][3]),p.push(tM[i+0][4]),p.push(tM[i+1][3]),p.push(tM[i+1][4]),p.push(tM[i+3][3]),p.push(tM[i+3][4]),p.push(tM[i+2][3]),p.push(tM[i+2][4])),nu(h,"TRIANGLE_STRIP",u,p)}}else if(eB===f.QUAD_STRIP){if(m>3){for(i=0;i<2;i++)for(s=0,r=tM[i];s<3;s++)l.push(r[s]);for(i=0;i<2;i++)for(s=9,r=tM[i];s<13;s++)c.push(r[s]);for(nh(l,"LINE_STRIP",c),m>4&&m%2>0&&(h.splice(h.length-3),tM.pop()),i=0;i+3<m;i+=2){for(s=0,l=[],c=[];s<3;s++)l.push(tM[i+1][s]);for(s=0;s<3;s++)l.push(tM[i+3][s]);for(s=0;s<3;s++)l.push(tM[i+2][s]);for(s=0;s<3;s++)l.push(tM[i+0][s]);for(s=9;s<13;s++)c.push(tM[i+1][s]);for(s=9;s<13;s++)c.push(tM[i+3][s]);for(s=9;s<13;s++)c.push(tM[i+2][s]);for(s=9;s<13;s++)c.push(tM[i+0][s]);eb&&nh(l,"LINE_STRIP",c)}(ev||e4)&&nu(h,"TRIANGLE_LIST",u,p)}}else if(1===m){for(s=0;s<3;s++)l.push(tM[0][s]);for(s=9;s<13;s++)c.push(tM[0][s]);nl(l,c)}else{for(i=0;i<m;i++){for(s=0,r=tM[i];s<3;s++)l.push(r[s]);for(s=5;s<9;s++)c.push(r[s])}eb&&a?nh(l,"LINE_LOOP",c):eb&&!a&&nh(l,"LINE_STRIP",c),(ev||e4)&&nu(h,"TRIANGLE_FAN",u,p)}e4=!1,R.useProgram(G),tz("usingTexture3d",G,"uUsingTexture",e4)}tR=!1,tL=!1,tT=[],t_=0}};var nf=function(e,n){var r=1/e,i=r*r,s=i*r;n.set(0,0,0,1,s,i,r,0,6*s,2*i,0,0,6*s,0,0,0)},np=function(){F||(O=new t5,F=new t5,eV=!0);var e=e$;O.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),nf(eG,F),B||(N=new t5),N.set(O),N.preApply(B),F.apply(O)};tQ.prototype.bezierVertex=function(){tL=!0;var e=[];if(tI)throw"vertex() must be used at least once before calling bezierVertex()";for(var n=0;n<arguments.length;n++)e[n]=arguments[n];tM.push(e),tM[tM.length-1].isVert=!1},tJ.prototype.bezierVertex=function(){if(tL=!0,tI)throw"vertex() must be used at least once before calling bezierVertex()";if(9==arguments.length){k===n&&(k=new t5);var e=tM.length-1;nf(eU,k),k.apply($);for(var r=k.array(),i=tM[e][0],s=tM[e][1],o=tM[e][2],a=r[4]*i+r[5]*arguments[0]+r[6]*arguments[3]+r[7]*arguments[6],l=r[8]*i+r[9]*arguments[0]+r[10]*arguments[3]+r[11]*arguments[6],h=r[12]*i+r[13]*arguments[0]+r[14]*arguments[3]+r[15]*arguments[6],u=r[4]*s+r[5]*arguments[1]+r[6]*arguments[4]+r[7]*arguments[7],c=r[8]*s+r[9]*arguments[1]+r[10]*arguments[4]+r[11]*arguments[7],f=r[12]*s+r[13]*arguments[1]+r[14]*arguments[4]+r[15]*arguments[7],p=r[4]*o+r[5]*arguments[2]+r[6]*arguments[5]+r[7]*arguments[8],m=r[8]*o+r[9]*arguments[2]+r[10]*arguments[5]+r[11]*arguments[8],g=r[12]*o+r[13]*arguments[2]+r[14]*arguments[5]+r[15]*arguments[8],d=0;d<eU;d++)i+=a,a+=l,l+=h,s+=u,u+=c,c+=f,o+=p,p+=m,m+=g,_.vertex(i,s,o);_.vertex(arguments[6],arguments[7],arguments[8])}},_.texture=function(e){var n=I.$ensureContext();if(e.__texture)n.bindTexture(n.TEXTURE_2D,e.__texture);else if("canvas"===e.localName)n.bindTexture(n.TEXTURE_2D,et),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D),e5.width=e.width,e5.height=e.height;else{var r,i=n.createTexture(),s=u.createElement("canvas"),o=s.getContext("2d");if(e.width&e.width-1==0)s.width=e.width;else{for(r=1;r<e.width;)r*=2;s.width=r}if(e.height&e.height-1==0)s.height=e.height;else{for(r=1;r<e.height;)r*=2;s.height=r}o.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,s.width,s.height),n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),n.generateMipmap(n.TEXTURE_2D),e.__texture=i,e5.width=e.width,e5.height=e.height}e4=!0,n.useProgram(G),tz("usingTexture3d",G,"uUsingTexture",e4)},_.textureMode=function(e){e3=e};var nm=function(e,n,r,i,s,o,a,l,h,u,c,f){var p=i,m=s,g=o,d=F.array(),v=d[4]*e+d[5]*i+d[6]*a+d[7]*u,y=d[8]*e+d[9]*i+d[10]*a+d[11]*u,x=d[12]*e+d[13]*i+d[14]*a+d[15]*u,A=d[4]*n+d[5]*s+d[6]*l+d[7]*c,b=d[8]*n+d[9]*s+d[10]*l+d[11]*c,w=d[12]*n+d[13]*s+d[14]*l+d[15]*c,E=d[4]*r+d[5]*o+d[6]*h+d[7]*f,S=d[8]*r+d[9]*o+d[10]*h+d[11]*f,P=d[12]*r+d[13]*o+d[14]*h+d[15]*f;_.vertex(p,m,g);for(var C=0;C<eG;C++)p+=v,v+=y,y+=x,m+=A,A+=b,b+=w,g+=E,E+=S,S+=P,_.vertex(p,m,g)};tQ.prototype.curveVertex=function(e,n){tR=!0,_.vertex(e,n)},tJ.prototype.curveVertex=function(e,n,r){tR=!0,eV||np();var i=[];i[0]=e,i[1]=n,i[2]=r,tT.push(i),++t_>3&&nm(tT[t_-4][0],tT[t_-4][1],tT[t_-4][2],tT[t_-3][0],tT[t_-3][1],tT[t_-3][2],tT[t_-2][0],tT[t_-2][1],tT[t_-2][2],tT[t_-1][0],tT[t_-1][1],tT[t_-1][2])},tQ.prototype.curve=function(e,n,r,i,s,o,a,l){_.beginShape(),_.curveVertex(e,n),_.curveVertex(r,i),_.curveVertex(s,o),_.curveVertex(a,l),_.endShape()},tJ.prototype.curve=function(e,r,i,s,o,a,l,h,u,c,f,p){if(p!==n){_.beginShape(),_.curveVertex(e,r,i),_.curveVertex(s,o,a),_.curveVertex(l,h,u),_.curveVertex(c,f,p),_.endShape();return}_.beginShape(),_.curveVertex(e,r),_.curveVertex(i,s),_.curveVertex(o,a),_.curveVertex(l,h),_.endShape()},_.curveTightness=function(e){e$=e},_.curveDetail=function(e){eG=e,np()},_.rectMode=function(e){eR=e},_.imageMode=function(e){switch(e){case f.CORNER:tj=tK;break;case f.CORNERS:tj=tW;break;case f.CENTER:tj=tZ;break;default:throw"Invalid imageMode"}},_.ellipseMode=function(e){eL=e},_.arc=function(e,n,r,i,s,o,a){if(!(r<=0)&&!(o<s)){for(eL===f.CORNERS?(r-=e,i-=n):eL===f.RADIUS?(e-=r,n-=i,r*=2,i*=2):eL===f.CENTER&&(e-=r/2,n-=i/2);s<0;)s+=f.TWO_PI,o+=f.TWO_PI;o-s>f.TWO_PI&&(o=s+f.TWO_PI);var l,h,u,c,p,m=r/2,g=i/2,d=e+m,v=n+g,y=(l=d+.5,h=v+.5,u=s,c=1/(m+g),p=o,function(e,n,r,i,s){for(r=0,i=u,s=p+c,e.beginShape(),n&&e.vertex(l-.5,h-.5);i<s;i=++r*c+u)e.vertex(l+Math.cos(i)*m|0,h+Math.sin(i)*g|0);a===f.OPEN&&ev?e.vertex(d+Math.cos(u)*m,v+Math.sin(u)*g):a===f.CHORD?e.vertex(d+Math.cos(u)*m,v+Math.sin(u)*g):a===f.PIE&&(e.line(d+Math.cos(u)*m,v+Math.sin(u)*g,d,v),e.line(d,v,d+Math.cos(p)*m,v+Math.sin(p)*g)),e.endShape(n?f.CLOSE:void 0)});if(ev){var x=eb;eb=!1,y(_,!0),eb=x}if(eb){var A=ev;ev=!1,y(_),ev=A}}},tQ.prototype.line=function(e,r,i,s){if(eb){if(eM||(e=Math.round(e),i=Math.round(i),r=Math.round(r),s=Math.round(s)),e===i&&r===s){_.point(e,r);return}for(var o=n,a=n,l=!0,h=ec.array(),u=[1,0,0,0,1,0],c=0;c<6&&l;c++)l=h[c]===u[c];l&&(e===i?(r>s&&(o=r,r=s,s=o),s++,eP%2==1&&R.translate(.5,0)):r===s&&(e>i&&(o=e,e=i,i=o),i++,eP%2==1&&R.translate(0,.5)),1===eP&&(a=R.lineCap,R.lineCap="butt")),R.beginPath(),R.moveTo(e||0,r||0),R.lineTo(i||0,s||0),na(),l&&(e===i&&eP%2==1?R.translate(-.5,0):r===s&&eP%2==1&&R.translate(0,-.5),1===eP&&(R.lineCap=a))}},tJ.prototype.line=function(e,r,i,s,o,a){if((o===n||a===n)&&(a=0,o=s,s=i,i=0),e===s&&r===o&&i===a){_.point(e,r,i);return}var l=[e,r,i,s,o,a],h=new t5;h.scale(1,-1,1),h.apply(ec.array()),h.transpose(),eP>0&&eb&&(R.useProgram(V),tU("uModel2d",V,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),tU("uView2d",V,"uView",!1,h.array()),tV("uColor2d",V,"uColor",ew),tz("uIsDrawingText",V,"uIsDrawingText",!1),tH("aVertex2d",V,"aVertex",3,W),tX("aTextureCoord2d",V,"aTextureCoord"),R.bufferData(R.ARRAY_BUFFER,new g(l),R.STREAM_DRAW),R.drawArrays(R.LINES,0,2))},tQ.prototype.bezier=function(){if(8!=arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";_.beginShape(),_.vertex(arguments[0],arguments[1]),_.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),_.endShape()},tJ.prototype.bezier=function(){if(12!=arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";_.beginShape(),_.vertex(arguments[0],arguments[1],arguments[2]),_.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),_.endShape()},_.bezierDetail=function(e){eU=e},_.bezierPoint=function(e,n,r,i,s){return(1-s)*(1-s)*(1-s)*e+3*(1-s)*(1-s)*s*n+3*(1-s)*s*s*r+s*s*s*i},_.bezierTangent=function(e,n,r,i,s){return 3*s*s*(-e+3*n-3*r+i)+6*s*(e-2*n+r)+3*(-e+n)},_.curvePoint=function(e,n,r,i,s){return .5*(2*n+(-e+r)*s+(2*e-5*n+4*r-i)*s*s+(-e+3*n-3*r+i)*s*s*s)},_.curveTangent=function(e,n,r,i,s){return .5*(-e+r+2*(2*e-5*n+4*r-i)*s+3*(-e+3*n-3*r+i)*s*s)},_.triangle=function(e,n,r,i,s,o){_.beginShape(f.TRIANGLES),_.vertex(e,n,0),_.vertex(r,i,0),_.vertex(s,o,0),_.endShape()},_.quad=function(e,n,r,i,s,o,a,l){_.beginShape(f.QUADS),_.vertex(e,n,0),_.vertex(r,i,0),_.vertex(s,o,0),_.vertex(a,l,0),_.endShape()};var ng=function(e,r,i,s,o,a,l,h){h===n&&(a=o,l=o,h=o);var u=i/2,c=s/2;(o>u||o>c)&&(o=Math.min(u,c)),(a>u||a>c)&&(a=Math.min(u,c)),(l>u||l>c)&&(l=Math.min(u,c)),(h>u||h>c)&&(h=Math.min(u,c)),(!ev||eb)&&R.translate(.5,.5),R.beginPath(),R.moveTo(e+o,r),R.lineTo(e+i-a,r),R.quadraticCurveTo(e+i,r,e+i,r+a),R.lineTo(e+i,r+s-l),R.quadraticCurveTo(e+i,r+s,e+i-l,r+s),R.lineTo(e+h,r+s),R.quadraticCurveTo(e,r+s,e,r+s-h),R.lineTo(e,r+o),R.quadraticCurveTo(e,r,e+o,r),(!ev||eb)&&R.translate(-.5,-.5),no(),na()};tQ.prototype.rect=function(e,r,i,s,o,a,l,h){if(i==""+i||s==""+s){if(eR===f.CORNERS?(i-=e,s-=r):eR===f.RADIUS?(i*=2,s*=2,e-=i/2,r-=s/2):eR===f.CENTER&&(e-=i/2,r-=s/2),eM||(e=Math.round(e),r=Math.round(r),i=Math.round(i),s=Math.round(s)),o!==n){ng(e,r,i,s,o,a,l,h);return}eb&&eP%2==1&&R.translate(.5,.5),R.beginPath(),R.rect(e,r,i,s),no(),na(),eb&&eP%2==1&&R.translate(-.5,-.5)}},tJ.prototype.rect=function(e,r,i,s,o,a,l,h){if(o!==n)throw"rect() with rounded corners is not supported in 3D mode";eR===f.CORNERS?(i-=e,s-=r):eR===f.RADIUS?(i*=2,s*=2,e-=i/2,r-=s/2):eR===f.CENTER&&(e-=i/2,r-=s/2);var u=new t5;u.translate(e,r,0),u.scale(i,s,1),u.transpose();var c=new t5;if(c.scale(1,-1,1),c.apply(ec.array()),c.transpose(),eP>0&&eb&&(R.useProgram(V),tU("uModel2d",V,"uModel",!1,u.array()),tU("uView2d",V,"uView",!1,c.array()),tV("uColor2d",V,"uColor",ew),tz("uIsDrawingText2d",V,"uIsDrawingText",!1),tH("aVertex2d",V,"aVertex",3,Y),tX("aTextureCoord2d",V,"aTextureCoord"),R.drawArrays(R.LINE_LOOP,0,tB.length/3)),ev){if(R.useProgram(G),tU("uModel3d",G,"uModel",!1,u.array()),tU("uView3d",G,"uView",!1,c.array()),R.enable(R.POLYGON_OFFSET_FILL),R.polygonOffset(1,1),tV("color3d",G,"uColor",ey),tc>0){var p=new t5;p.set(c);var m=new t5;m.set(u),p.mult(m);var g=new t5;g.set(p),g.invert(),g.transpose(),tU("uNormalTransform3d",G,"uNormalTransform",!1,g.array()),tH("aNormal3d",G,"aNormal",3,K)}else tX("normal3d",G,"aNormal");tH("vertex3d",G,"aVertex",3,Y),R.drawArrays(R.TRIANGLE_FAN,0,tB.length/3),R.disable(R.POLYGON_OFFSET_FILL)}},tQ.prototype.ellipse=function(e,n,r,i){if(e=e||0,n=n||0,!(r<=0)||!(i<=0)){if(eL===f.RADIUS?(r*=2,i*=2):eL===f.CORNERS?(r-=e,i-=n,e+=r/2,n+=i/2):eL===f.CORNER&&(e+=r/2,n+=i/2),r===i)R.beginPath(),R.arc(e,n,r/2,0,f.TWO_PI,!1),no(),na();else{var s=r/2,o=i/2,a=.5522847498307933*s,l=.5522847498307933*o;_.beginShape(),_.vertex(e+s,n),_.bezierVertex(e+s,n-l,e+a,n-o,e,n-o),_.bezierVertex(e-a,n-o,e-s,n-l,e-s,n),_.bezierVertex(e-s,n+l,e-a,n+o,e,n+o),_.bezierVertex(e+a,n+o,e+s,n+l,e+s,n),_.endShape()}}},tJ.prototype.ellipse=function(e,n,r,i){if(e=e||0,n=n||0,!(r<=0)||!(i<=0)){eL===f.RADIUS?(r*=2,i*=2):eL===f.CORNERS?(r-=e,i-=n,e+=r/2,n+=i/2):eL===f.CORNER&&(e+=r/2,n+=i/2);var s=r/2,o=i/2,a=.5522847498307933*s,l=.5522847498307933*o;if(_.beginShape(),_.vertex(e+s,n),_.bezierVertex(e+s,n-l,0,e+a,n-o,0,e,n-o,0),_.bezierVertex(e-a,n-o,0,e-s,n-l,0,e-s,n,0),_.bezierVertex(e-s,n+l,0,e-a,n+o,0,e,n+o,0),_.bezierVertex(e+a,n+o,0,e+s,n+l,0,e+s,n,0),_.endShape(),ev){var h,u,c=0,p=0;for(h=0;h<tM.length;h++)c+=tM[h][0],p+=tM[h][1];c/=tM.length,p/=tM.length;var m=[],g=[],d=[];for(m[0]=c,m[1]=p,m[2]=0,m[3]=0,m[4]=0,m[5]=ey[0],m[6]=ey[1],m[7]=ey[2],m[8]=ey[3],m[9]=ew[0],m[10]=ew[1],m[11]=ew[2],m[12]=ew[3],m[13]=eI,m[14]=eD,m[15]=eO,tM.unshift(m),h=0;h<tM.length;h++){for(u=0;u<3;u++)g.push(tM[h][u]);for(u=5;u<9;u++)d.push(tM[h][u])}nu(g,"TRIANGLE_FAN",d)}}},_.normal=function(e,n,r){if(3!=arguments.length||!("number"==typeof e&&"number"==typeof n&&"number"==typeof r))throw"normal() requires three numeric arguments.";eI=e,eD=n,eO=r,0!==eB&&(eN===f.NORMAL_MODE_AUTO?eN=f.NORMAL_MODE_SHAPE:eN===f.NORMAL_MODE_SHAPE&&(eN=f.NORMAL_MODE_VERTEX))},_.save=function(e,r){return r!==n?h.open(r.toDataURL(),"_blank"):h.open(_.externals.canvas.toDataURL(),"_blank")};var nd=0;_.saveFrame=function(e){e===n&&(e="screen-####.png");var r=e.replace(/#+/,function(e){for(var n=""+nd++;n.length<e.length;)n="0"+n;return n});_.save(r)};var nv=u.createElement("canvas").getContext("2d"),ny=[n,n,n];function nx(e,r,i){var s=ny.shift();s===n&&((s={}).canvas=u.createElement("canvas"),s.context=s.canvas.getContext("2d")),ny.push(s);var o=s.canvas,a=s.context,l=r||e.width,h=i||e.height;return o.width=l,o.height=h,e?"data"in e?a.putImageData(e,0,0):(a.clearRect(0,0,l,h),a.drawImage(e,0,0,l,h)):a.clearRect(0,0,l,h),s}var nA=function(e,n,r){if(this.__isDirty=!1,e instanceof m)this.fromHTMLImageData(e);else if(n||r){this.width=e||1,this.height=n||1;var i,s,o,a,l,h=this.sourceImg=u.createElement("canvas");if(h.width=this.width,h.height=this.height,this.imageData=h.getContext("2d").createImageData(this.width,this.height),this.format=r===f.ARGB||r===f.ALPHA?r:f.RGB,this.format===f.RGB)for(var c=3,p=this.imageData.data,g=p.length;c<g;c+=4)p[c]=255;this.__isDirty=!0,this.updatePixels()}else this.width=0,this.height=0,this.imageData=nv.createImageData(1,1),this.format=f.ARGB;this.pixels={getLength:(i=this,function(){if(!i.isRemote)return i.imageData.data.length?i.imageData.data.length/4:0;throw"Image is loaded remotely. Cannot get length."}),getPixel:(s=this,function(e){var n=4*e,r=s.imageData.data;if(s.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return r[n+3]<<24&f.ALPHA_MASK|r[n]<<16&f.RED_MASK|r[n+1]<<8&f.GREEN_MASK|r[n+2]&f.BLUE_MASK}),setPixel:(o=this,function(e,n){var r=4*e,i=o.imageData.data;if(o.isRemote)throw"Image is loaded remotely. Cannot set pixel.";i[r+0]=(n&f.RED_MASK)>>>16,i[r+1]=(n&f.GREEN_MASK)>>>8,i[r+2]=n&f.BLUE_MASK,i[r+3]=(n&f.ALPHA_MASK)>>>24,o.__isDirty=!0}),toArray:(a=this,function(){var e=[],n=a.imageData.data,r=a.width*a.height;if(a.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var i=0,s=0;i<r;i++,s+=4)e.push(n[s+3]<<24&f.ALPHA_MASK|n[s]<<16&f.RED_MASK|n[s+1]<<8&f.GREEN_MASK|n[s+2]&f.BLUE_MASK);return e}),set:(l=this,function(e){var n,r,i;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";r=l.imageData.data;for(var s=0,o=e.length;s<o;s++)i=e[s],r[(n=4*s)+0]=(i&f.RED_MASK)>>>16,r[n+1]=(i&f.GREEN_MASK)>>>8,r[n+2]=i&f.BLUE_MASK,r[n+3]=(i&f.ALPHA_MASK)>>>24;l.__isDirty=!0})}};function nb(e,n,r,i){var s=new nA(r,i,f.ARGB);return s.fromImageData(_.toImageData(e,n,r,i)),s}function nw(e,n,r,i,s){if(s.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";for(var o=new nA(r,i,f.ARGB),a=o.imageData.data,l=s.width,h=s.height,u=s.imageData.data,c=Math.max(0,-n),p=Math.max(0,-e),m=Math.min(i,h-n),g=Math.min(r,l-e),d=c;d<m;++d)for(var v=((n+d)*l+(e+p))*4,y=(d*r+p)*4,x=p;x<g;++x)a[y++]=u[v++],a[y++]=u[v++],a[y++]=u[v++],a[y++]=u[v++];return o.__isDirty=!0,o}function nE(){to&&(R=eo,to=!1,_.updatePixels())}function nS(){for(var e in R)"function"==typeof R[e]?function(e,n){e[n]=function(){nE(),R[n].apply(R,arguments)}}(this,e):function(e,n){_.defineProperty(e,n,{get:function(){return nE(),R[n]},set:function(e){nE(),R[n]=e}})}(this,e)}nA.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof p&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var n=nx(e);try{var r=n.context.getImageData(0,0,e.width,e.height);this.fromImageData(r)}catch(n){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,n,r,i){return arguments.length?2==arguments.length?_.get(e,n,this):4==arguments.length?_.get(e,n,r,i,this):void 0:_.get(this)},set:function(e,n,r){_.set(e,n,r,this),this.__isDirty=!0},blend:function(e,n,r,i,s,o,a,l,h,u){9==arguments.length?_.blend(this,e,n,r,i,s,o,a,l,h,this):10==arguments.length&&_.blend(e,n,r,i,s,o,a,l,h,u,this),delete this.sourceImg},copy:function(e,n,r,i,s,o,a,l,h){8==arguments.length?_.blend(this,e,n,r,i,s,o,a,l,f.REPLACE,this):9==arguments.length&&_.blend(e,n,r,i,s,o,a,l,h,f.REPLACE,this),delete this.sourceImg},filter:function(e,n){2==arguments.length?_.filter(e,n,this):1==arguments.length&&_.filter(e,null,this),delete this.sourceImg},save:function(e){_.save(e,this)},resize:function(e,n){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===e&&0!==n?e=Math.floor(this.width/this.height*n):0===n&&0!==e&&(n=Math.floor(this.height/this.width*e));var r=nx(this.imageData).canvas,i=nx(r,e,n).context.getImageData(0,0,e,n);this.fromImageData(i)}},mask:function(e){var n,r,i=this.toImageData();if(e instanceof nA||e.__isPImage){if(e.width===this.width&&e.height===this.height)for(n=2,e=e.toImageData(),r=this.width*this.height*4;n<r;n+=4)i.data[n+1]=e.data[n];else throw"mask must have the same dimensions as PImage."}else if(e instanceof Array){if(this.width*this.height===e.length)for(n=0,r=e.length;n<r;++n)i.data[4*n+3]=e[n];else throw"mask array must be the same length as PImage pixels array."}this.fromImageData(i)},loadPixels:c,toImageData:function(){return this.isRemote?this.sourceImg:this.__isDirty?nx(this.sourceImg).context.getImageData(0,0,this.width,this.height):this.imageData},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";return nx(this.imageData).canvas.toDataURL()},fromImageData:function(e){var n=e.width,r=e.height,i=u.createElement("canvas"),s=i.getContext("2d");this.width=i.width=n,this.height=i.height=r,s.putImageData(e,0,0),this.format=f.ARGB,this.imageData=e,this.sourceImg=i}},_.PImage=nA,_.createImage=function(e,n,r){return new nA(e,n,r)},_.loadImage=function(e,n,r){if(L.imageCache.images[e])return(s=new nA(L.imageCache.images[e])).loaded=!0,s;s=new nA;var i,s,o=u.createElement("img");return s.sourceImg=o,o.onload=(i=s,function(){i.fromHTMLImageData(o),i.loaded=!0,r&&r()}),o.src=e,s},_.requestImage=_.loadImage,_.get=function(e,n,r,i,s){return void 0!==s?nw(e,n,r,i,s):void 0!==i?nb(e,n,r,i):void 0!==r?function(e,n,r){if(r.isRemote)throw"Image is loaded remotely. Cannot get x,y.";var i=n*r.width*4+4*e,s=r.imageData.data;return s[i+3]<<24&f.ALPHA_MASK|s[i]<<16&f.RED_MASK|s[i+1]<<8&f.GREEN_MASK|s[i+2]&f.BLUE_MASK}(e,n,r):void 0!==n?function(e,n){var r;if(e>=_.width||e<0||n<0||n>=_.height)return 0;if(to){var i=((0|e)+_.width*(0|n))*4;return(r=_.imageData.data)[i+3]<<24&f.ALPHA_MASK|r[i]<<16&f.RED_MASK|r[i+1]<<8&f.GREEN_MASK|r[i+2]&f.BLUE_MASK}return(r=_.toImageData(0|e,0|n,1,1).data)[3]<<24&f.ALPHA_MASK|r[0]<<16&f.RED_MASK|r[1]<<8&f.GREEN_MASK|r[2]&f.BLUE_MASK}(e,n):void 0!==e?nw(0,0,e.width,e.height,e):nb(0,0,_.width,_.height)},_.createGraphics=function(e,n,r){var i=new S;return i.size(e,n,r),i.background(0,0),i},_.set=function(e,n,r,i){3==arguments.length?"number"==typeof r?e<_.width&&e>=0&&n>=0&&n<_.height&&(to||(_.loadPixels(),null===ts&&(eo=R,ts=new nS),to=!0,R=ts,ea=0),_.pixels.setPixel((0|e)+_.width*(0|n),r),++ea>ta&&nE()):(r instanceof nA||r.__isPImage)&&_.image(r,e,n):4==arguments.length&&function(e,n,r,i){if(i.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var s=_.color.toArray(r),o=n*i.width*4+4*e,a=i.imageData.data;a[o]=s[0],a[o+1]=s[1],a[o+2]=s[2],a[o+3]=s[3]}(e,n,r,i)},_.imageData={},_.pixels={getLength:function(){return _.imageData.data.length?_.imageData.data.length/4:0},getPixel:function(e){var n=4*e,r=_.imageData.data;return r[n+3]<<24&4278190080|r[n+0]<<16&16711680|r[n+1]<<8&65280|255&r[n+2]},setPixel:function(e,n){var r=4*e,i=_.imageData.data;i[r+0]=(16711680&n)>>>16,i[r+1]=(65280&n)>>>8,i[r+2]=255&n,i[r+3]=(4278190080&n)>>>24},toArray:function(){for(var e=[],n=_.imageData.width*_.imageData.height,r=_.imageData.data,i=0,s=0;i<n;i++,s+=4)e.push(r[s+3]<<24&4278190080|r[s+0]<<16&16711680|r[s+1]<<8&65280|255&r[s+2]);return e},set:function(e){for(var n=0,r=e.length;n<r;n++)this.setPixel(n,e[n])}},_.loadPixels=function(){_.imageData=I.$ensureContext().getImageData(0,0,_.width,_.height)},_.updatePixels=function(){_.imageData&&I.$ensureContext().putImageData(_.imageData,0,0)},_.hint=function(e){var n=I.$ensureContext();e===f.DISABLE_DEPTH_TEST?(n.disable(n.DEPTH_TEST),n.depthMask(!1),n.clear(n.DEPTH_BUFFER_BIT)):e===f.ENABLE_DEPTH_TEST?(n.enable(n.DEPTH_TEST),n.depthMask(!0)):e===f.ENABLE_OPENGL_2X_SMOOTH||e===f.ENABLE_OPENGL_4X_SMOOTH?eM=!0:e===f.DISABLE_OPENGL_2X_SMOOTH&&(eM=!1)};var nP=function(e,n,r,i){var s;if(e instanceof nA||e.__isPImage){if(!(s=e).loaded)throw"Error using image in background(): PImage not loaded.";if(s.width!==_.width||s.height!==_.height)throw"Background image must be the same dimensions as the canvas."}else s=_.color(e,n,r,i);ez=s};tQ.prototype.background=function(e,r,i,s){e!==n&&nP(e,r,i,s),ez instanceof nA||ez.__isPImage?(t8(),R.setTransform(1,0,0,1,0,0),_.image(ez,0,0)):(t8(),R.setTransform(1,0,0,1,0,0),_.alpha(ez)!==eH&&R.clearRect(0,0,_.width,_.height),R.fillStyle=_.color.toString(ez),R.fillRect(0,0,_.width,_.height),eA=!0),t7()},tJ.prototype.background=function(e,n,r,i){arguments.length>0&&nP(e,n,r,i);var s=_.color.toGLArray(ez);R.clearColor(s[0],s[1],s[2],s[3]),R.clear(R.COLOR_BUFFER_BIT|R.DEPTH_BUFFER_BIT)},tQ.prototype.image=function(e,n,r,i,s){if(n=Math.round(n),r=Math.round(r),e.width>0){i||e.width,s||e.height;var o=tj(n||0,r||0,i||e.width,s||e.height,arguments.length<4);if(e.sourceImg&&null===eq){var a=e.sourceImg;e.__isDirty&&e.updatePixels(),R.drawImage(a,0,0,a.width,a.height,o.x,o.y,o.w,o.h)}else{var l=e.toImageData();null!==eq&&(eq(l),e.__isDirty=!0),R.drawImage(nx(l).canvas,0,0,e.width,e.height,o.x,o.y,o.w,o.h)}}},tJ.prototype.image=function(e,n,r,i,s){e.width>0&&(n=Math.round(n),r=Math.round(r),i=i||e.width,s=s||e.height,_.beginShape(_.QUADS),_.texture(e),_.vertex(n,r,0,0,0),_.vertex(n,r+s,0,0,s),_.vertex(n+i,r+s,0,i,s),_.vertex(n+i,r,0,i,0),_.endShape())},_.tint=function(e,n,r,i){var s=_.color(e,n,r,i),o=_.red(s)/eX,a=_.green(s)/eY,l=_.blue(s)/eK,h=_.alpha(s)/eH;eq=function(e){for(var n=e.data,r=4*e.width*e.height,i=0;i<r;)n[i++]*=o,n[i++]*=a,n[i++]*=l,n[i++]*=h},eQ=function(e){for(var n=0;n<e.length;)e[n++]=o,e[n++]=a,e[n++]=l,e[n++]=h}},_.noTint=function(){eq=null,eQ=null},_.copy=function(e,r,i,s,o,a,l,h,u){u===n&&(u=h,h=l,l=a,a=o,o=s,s=i,i=r,r=e,e=_),_.blend(e,r,i,s,o,a,l,h,u,f.REPLACE)},_.blend=function(e,r,i,s,o,a,l,h,u,c,f){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";c===n&&(c=u,u=h,h=l,l=a,a=o,o=s,s=i,i=r,r=e,e=_);var p=r+s,m=i+o,g=a+h,d=l+u,v=f||_;(f===n||c===n)&&_.loadPixels(),e.loadPixels(),e===_&&_.intersect(r,i,p,m,a,l,g,d)?_.blit_resize(_.get(r,i,p-r,m-i),0,0,p-r-1,m-i-1,v.imageData.data,v.width,v.height,a,l,g,d,c):_.blit_resize(e,r,i,p,m,v.imageData.data,v.width,v.height,a,l,g,d,c),f===n&&_.updatePixels()};var nC=function(e){var n,r=_.floor(3.5*e);if(r=r<1?1:r<248?r:248,_.shared.blurRadius!==r){_.shared.blurRadius=r,_.shared.blurKernelSize=1+(_.shared.blurRadius<<1),_.shared.blurKernel=new g(_.shared.blurKernelSize);var i=_.shared.blurKernel,s=_.shared.blurKernelSize;for(_.shared.blurRadius,n=0;n<s;n++)i[n]=0;var o=(r-1)*(r-1);for(n=1;n<r;n++)i[r+n]=i[r-n]=o;i[r]=r*r}},nM=function(e,n){var r,i,s,o,a,l,h,u,c,f,p,m,d,v,y,x=n.pixels.getLength(),A=new g(x),b=new g(x),w=new g(x),E=new g(x),S=0;nC(e);var P=n.height,C=n.width,M=_.shared.blurKernelSize,T=_.shared.blurRadius,R=_.shared.blurKernel,L=n.imageData.data;for(d=0;d<P;d++){for(m=0;m<C;m++){if(o=s=i=a=r=0,(h=m-T)<0)p=-h,h=0;else{if(h>=C)break;p=0}for(v=p;v<M&&!(h>=C);v++)y=(h+S)*4,a+=(l=R[v])*L[y+3],i+=l*L[y],s+=l*L[y+1],o+=l*L[y+2],r+=l,h++;E[u=S+m]=a/r,A[u]=i/r,b[u]=s/r,w[u]=o/r}S+=C}for(d=0,S=0,f=(c=-T)*C;d<P;d++){for(m=0;m<C;m++){if(o=s=i=a=r=0,c<0)p=u=-c,h=m;else{if(c>=P)break;p=0,u=c,h=m+f}for(v=p;v<M&&!(u>=P);v++)a+=(l=R[v])*E[h],i+=l*A[h],s+=l*b[h],o+=l*w[h],r+=l,u++,h+=C;L[y=(m+S)*4]=i/r,L[y+1]=s/r,L[y+2]=o/r,L[y+3]=a/r}S+=C,f+=C,c++}},nT=function(e,n){var r,i,s,o,a,l,h,u,c,f,p,m,g,v,y,x,A,b=0,w=n.pixels.getLength(),E=new d(w);if(e)for(;b<w;)for(r=b,i=b+n.width;b<i;)s=o=n.pixels.getPixel(b),h=b-1,l=b+1,u=b-n.width,c=b+n.width,h<r&&(h=b),l>=i&&(l=b),u<0&&(u=0),c>=w&&(c=b),m=n.pixels.getPixel(u),p=n.pixels.getPixel(h),g=n.pixels.getPixel(c),f=n.pixels.getPixel(l),a=77*(s>>16&255)+151*(s>>8&255)+28*(255&s),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),x=77*(m>>16&255)+151*(m>>8&255)+28*(255&m),A=77*(g>>16&255)+151*(g>>8&255)+28*(255&g),y<a&&(o=p,a=y),v<a&&(o=f,a=v),x<a&&(o=m,a=x),A<a&&(o=g,a=A),E[b++]=o;else for(;b<w;)for(r=b,i=b+n.width;b<i;)s=o=n.pixels.getPixel(b),h=b-1,l=b+1,u=b-n.width,c=b+n.width,h<r&&(h=b),l>=i&&(l=b),u<0&&(u=0),c>=w&&(c=b),m=n.pixels.getPixel(u),p=n.pixels.getPixel(h),g=n.pixels.getPixel(c),f=n.pixels.getPixel(l),a=77*(s>>16&255)+151*(s>>8&255)+28*(255&s),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),x=77*(m>>16&255)+151*(m>>8&255)+28*(255&m),A=77*(g>>16&255)+151*(g>>8&255)+28*(255&g),y>a&&(o=p,a=y),v>a&&(o=f,a=v),x>a&&(o=m,a=x),A>a&&(o=g,a=A),E[b++]=o;n.pixels.set(E)};_.filter=function(e,r,i){if(3==arguments.length?(i.loadPixels(),s=i):(_.loadPixels(),s=_),r===n&&(r=null),s.isRemote)throw"Image is loaded remotely. Cannot filter image.";var s,o,a,l,h=s.pixels.getLength();switch(e){case f.BLUR:nM(r||1,s);break;case f.GRAY:if(s.format===f.ALPHA){for(l=0;l<h;l++)o=255-s.pixels.getPixel(l),s.pixels.setPixel(l,4278190080|o<<16|o<<8|o);s.format=f.RGB}else for(l=0;l<h;l++)a=77*((o=s.pixels.getPixel(l))>>16&255)+151*(o>>8&255)+28*(255&o)>>8,s.pixels.setPixel(l,o&f.ALPHA_MASK|a<<16|a<<8|a);break;case f.INVERT:for(l=0;l<h;l++)s.pixels.setPixel(l,16777215^s.pixels.getPixel(l));break;case f.POSTERIZE:if(null===r)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";var u=_.floor(r);if(u<2||u>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";var c=u-1;for(l=0;l<h;l++){var p=s.pixels.getPixel(l)>>16&255,m=s.pixels.getPixel(l)>>8&255,g=255&s.pixels.getPixel(l);p=(p*u>>8)*255/c,m=(m*u>>8)*255/c,g=(g*u>>8)*255/c,s.pixels.setPixel(l,4278190080&s.pixels.getPixel(l)|p<<16|m<<8|g)}break;case f.OPAQUE:for(l=0;l<h;l++)s.pixels.setPixel(l,4278190080|s.pixels.getPixel(l));s.format=f.RGB;break;case f.THRESHOLD:if(null===r&&(r=.5),r<0||r>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";var d=_.floor(255*r);for(l=0;l<h;l++){var v=_.max((s.pixels.getPixel(l)&f.RED_MASK)>>16,_.max((s.pixels.getPixel(l)&f.GREEN_MASK)>>8,s.pixels.getPixel(l)&f.BLUE_MASK));s.pixels.setPixel(l,s.pixels.getPixel(l)&f.ALPHA_MASK|(v<d?0:16777215))}break;case f.ERODE:nT(!0,s);break;case f.DILATE:nT(!1,s)}s.updatePixels()},_.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},_.intersect=function(e,n,r,i,s,o,a,l){var h=r-e+1,u=i-n+1,c=a-s+1,f=l-o+1;if(s<e)(c+=s-e)>h&&(c=h);else{var p=h+e-s;c>p&&(c=p)}if(o<n)(f+=o-n)>u&&(f=u);else{var m=u+n-o;f>m&&(f=m)}return!(c<=0||f<=0)};var n_={};function nR(e){return e instanceof String?e:"number"==typeof e?e===(0|e)?e.toString():_.nf(e,0,3):null===e||e===n?"":e.toString()}function nL(e,n,r,i){0>e.indexOf("\n")?(s=[e],o=1):o=(s=e.split(/\r?\n/g)).length;var s,o,a=0;e8===f.TOP?a=tt+tn:e8===f.CENTER?a=tt/2-(o-1)*tr/2:e8===f.BOTTOM&&(a=-(tn+(o-1)*tr));for(var l=0;l<o;++l){var h=s[l];I.text$line(h,n,r+a,i,e6),a+=tr}}function nI(e,n,r,i,s,o){if(0!==e.length&&0!==i&&0!==s&&!(te>s)){for(var a,l,h,u=-1,c=0,p=0,m=[],g=0,d=e.length;g<d;g++){var v=e[g],y=" "===v,x=ti.measureTextWidth(v);if("\n"!==v&&p+x<=i)y&&(u=g),p+=x;else{if(u+1===c){if(!(g>0))return;u=g}"\n"===v?(m.push({text:e.substring(c,g),width:p}),c=g+1):(m.push({text:e.substring(c,u+1),width:p}),c=u+1),p=0,g=c-1}}c<d&&m.push({text:e.substring(c),width:p});var A=1,b=tt;e6===f.CENTER?A=i/2:e6===f.RIGHT&&(A=i);var w=m.length,E=Math.min(w,Math.floor(s/tr));for(e8===f.TOP?b=tt+tn:e8===f.CENTER?b=s/2-tr*(E/2-1):e8===f.BOTTOM&&(b=tn+tr),a=0;a<w&&!(b+(h=a*tr)>s-tn);a++)l=m[a],I.text$line(l.text,n+A,r+b+h,o,e6)}}function nD(e){for(var n in I="3D"===e?new tJ:"2D"===e?new tQ:new t0,t0.prototype)t0.prototype.hasOwnProperty(n)&&0>n.indexOf("$")&&(_[n]=I[n]);I.$init()}function nO(e){return function(){return nD("2D"),I[e].apply(this,arguments)}}function nN(e){var n=e.which||e.keyCode;switch(n){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return n}function nF(e){return"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof e.stopPropagation&&e.stopPropagation(),!1}function nk(){var e;for(e in tl)if(tl.hasOwnProperty(e)){_.__keyPressed=!0;return}_.__keyPressed=!1}function nB(){_.__keyPressed=!1,tl=[],th=null}function n$(e,n){tl[e]=n,th=null,_.key=n,_.keyCode=e,_.keyPressed(),_.keyCode=0,_.keyTyped(),nk()}if(n_[f.BLEND]=_.modes.blend,n_[f.ADD]=_.modes.add,n_[f.SUBTRACT]=_.modes.subtract,n_[f.LIGHTEST]=_.modes.lightest,n_[f.DARKEST]=_.modes.darkest,n_[f.REPLACE]=_.modes.replace,n_[f.DIFFERENCE]=_.modes.difference,n_[f.EXCLUSION]=_.modes.exclusion,n_[f.MULTIPLY]=_.modes.multiply,n_[f.SCREEN]=_.modes.screen,n_[f.OVERLAY]=_.modes.overlay,n_[f.HARD_LIGHT]=_.modes.hard_light,n_[f.SOFT_LIGHT]=_.modes.soft_light,n_[f.DODGE]=_.modes.dodge,n_[f.BURN]=_.modes.burn,_.blit_resize=function(e,n,r,i,s,o,a,l,h,u,c,p,m){n<0&&(n=0),r<0&&(r=0),i>=e.width&&(i=e.width-1),s>=e.height&&(s=e.height-1);var g=i-n,d=s-r,v=c-h,y=p-u;if(!(v<=0)&&!(y<=0)&&!(g<=0)&&!(d<=0)&&!(h>=a)&&!(u>=l)&&!(n>=e.width)&&!(r>=e.height)){var x=Math.floor(g/v*f.PRECISIONF),A=Math.floor(d/y*f.PRECISIONF),b=_.shared;b.srcXOffset=Math.floor(h<0?-h*x:n*f.PRECISIONF),b.srcYOffset=Math.floor(u<0?-u*A:r*f.PRECISIONF),h<0&&(v+=h,h=0),u<0&&(y+=u,u=0),v=Math.min(v,a-h),y=Math.min(y,l-u);var w=u*a+h;b.srcBuffer=e.imageData.data,b.iw=e.width,b.iw1=e.width-1,b.ih1=e.height-1,_.filter_bilinear,_.filter_new_scanline;var E,S,P,C,M,T,R,L,I,D=n_[m],O=f.ALPHA_MASK,N=f.RED_MASK,F=f.GREEN_MASK,k=f.BLUE_MASK,B=f.PREC_MAXVAL,$=f.PRECISIONB,G=f.PREC_RED_SHIFT,V=f.PREC_ALPHA_SHIFT,z=b.srcBuffer,U=Math.min;for(S=0;S<y;S++){for(E=0,b.sX=b.srcXOffset,b.fracV=b.srcYOffset&B,b.ifV=B-b.fracV,b.v1=(b.srcYOffset>>$)*b.iw,b.v2=U((b.srcYOffset>>$)+1,b.ih1)*b.iw;E<v;E++)P=o[(M=(w+E)*4)+3]<<24&O|o[M]<<16&N|o[M+1]<<8&F|o[M+2]&k,b.fracU=b.sX&B,b.ifU=B-b.fracU,b.ul=b.ifU*b.ifV>>$,b.ll=b.ifU*b.fracV>>$,b.ur=b.fracU*b.ifV>>$,b.lr=b.fracU*b.fracV>>$,b.u1=b.sX>>$,b.u2=U(b.u1+1,b.iw1),T=(b.v1+b.u1)*4,R=(b.v1+b.u2)*4,L=(b.v2+b.u1)*4,I=(b.v2+b.u2)*4,b.cUL=z[T+3]<<24&O|z[T]<<16&N|z[T+1]<<8&F|z[T+2]&k,b.cUR=z[R+3]<<24&O|z[R]<<16&N|z[R+1]<<8&F|z[R+2]&k,b.cLL=z[L+3]<<24&O|z[L]<<16&N|z[L+1]<<8&F|z[L+2]&k,b.cLR=z[I+3]<<24&O|z[I]<<16&N|z[I+1]<<8&F|z[I+2]&k,b.r=b.ul*((b.cUL&N)>>16)+b.ll*((b.cLL&N)>>16)+b.ur*((b.cUR&N)>>16)+b.lr*((b.cLR&N)>>16)<<G&N,b.g=b.ul*(b.cUL&F)+b.ll*(b.cLL&F)+b.ur*(b.cUR&F)+b.lr*(b.cLR&F)>>>$&F,b.b=b.ul*(b.cUL&k)+b.ll*(b.cLL&k)+b.ur*(b.cUR&k)+b.lr*(b.cLR&k)>>>$,b.a=b.ul*((b.cUL&O)>>>24)+b.ll*((b.cLL&O)>>>24)+b.ur*((b.cUR&O)>>>24)+b.lr*((b.cLR&O)>>>24)<<V&O,C=D(P,b.a|b.r|b.g|b.b),o[M]=(C&N)>>>16,o[M+1]=(C&F)>>>8,o[M+2]=C&k,o[M+3]=(C&O)>>>24,b.sX+=x;w+=a,b.srcYOffset+=A}}},_.loadFont=function(e,r){if(e===n)throw"font name required in loadFont.";if(-1===e.indexOf(".svg"))return r===n&&(r=ti.size),PFont.get(e,r);var i=_.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:i.units_per_em,horiz_adv_x:1/i.units_per_em*i.horiz_adv_x,ascent:i.ascent,descent:i.descent,width:function(n){for(var r=0,i=n.length,s=0;s<i;s++)try{r+=parseFloat(_.glyphLook(_.glyphTable[e],n[s]).horiz_adv_x)}catch(e){S.debug(e)}return r/_.glyphTable[e].units_per_em}}},_.createFont=function(e,n){return _.loadFont(e,n)},_.textFont=function(e,r){r!==n&&(e.glyph||(e=PFont.get(e.name,r)),te=r),e9=(ti=e).name,tt=ti.ascent,tn=ti.descent,tr=ti.leading,I.$ensureContext().font=ti.css},_.textSize=function(e){ti=PFont.get(e9,e),te=e,tt=ti.ascent,tn=ti.descent,tr=ti.leading,I.$ensureContext().font=ti.css},_.textAscent=function(){return tt},_.textDescent=function(){return tn},_.textLeading=function(e){tr=e},_.textAlign=function(e,n){e6=e,e8=n||f.BASELINE},tQ.prototype.textWidth=function(e){var n,r=nR(e).split(/\r?\n/g),i=0,s=r.length;for(n=0,R.font=ti.css;n<s;++n)i=Math.max(i,ti.measureTextWidth(r[n]));return 0|i},tJ.prototype.textWidth=function(e){var r,i=nR(e).split(/\r?\n/g),s=0,o=i.length;D===n&&(D=u.createElement("canvas"));var a=D.getContext("2d");for(r=0,a.font=ti.css;r<o;++r)s=Math.max(s,a.measureText(i[r]).width);return 0|s},_.glyphLook=function(e,n){try{switch(n){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[n]}}catch(e){S.debug(e)}},tQ.prototype.text$line=function(e,n,r,i,s){var o=0,a=0;if(ti.glyph){var l=_.glyphTable[e9];t8(),R.translate(n,r+te),(s===f.RIGHT||s===f.CENTER)&&(o=l.width(e),a=s===f.RIGHT?-o:-o/2);var h=1/l.units_per_em*te;R.scale(h,h);for(var u=0,c=e.length;u<c;u++)try{_.glyphLook(l,e[u]).draw()}catch(e){S.debug(e)}t7()}else e&&"fillText"in R&&(eA&&(R.fillStyle=_.color.toString(ex),eA=!1),(s===f.RIGHT||s===f.CENTER)&&(o=ti.measureTextWidth(e),a=s===f.RIGHT?-o:-o/2),R.fillText(e,n+a,r))},tJ.prototype.text$line=function(e,r,i,s,o){D===n&&(D=u.createElement("canvas"));var a=R;(R=D.getContext("2d")).font=ti.css;var l=ti.measureTextWidth(e);D.width=l,D.height=te,(R=D.getContext("2d")).font=ti.css,R.textBaseline="top",tQ.prototype.text$line(e,0,0,0,f.LEFT);var h=D.width/D.height;(R=a).bindTexture(R.TEXTURE_2D,en),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,D),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE);var c=0;o===f.RIGHT?c=-l:o===f.CENTER&&(c=-l/2);var p=new t5,m=.5*te;p.translate(r+c-m/2,i-m,s),p.scale(-h*m,-m,m),p.translate(-1,-1,-1),p.transpose();var g=new t5;g.scale(1,-1,1),g.apply(ec.array()),g.transpose(),R.useProgram(V),tH("aVertex2d",V,"aVertex",3,er),tH("aTextureCoord2d",V,"aTextureCoord",2,ei),tz("uSampler2d",V,"uSampler",[0]),tz("uIsDrawingText2d",V,"uIsDrawingText",!0),tU("uModel2d",V,"uModel",!1,p.array()),tU("uView2d",V,"uView",!1,g.array()),tV("uColor2d",V,"uColor",ey),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,es),R.drawElements(R.TRIANGLES,6,R.UNSIGNED_SHORT,0)},_.text=function(){e7!==f.SHAPE&&(3==arguments.length?nL(nR(arguments[0]),arguments[1],arguments[2],0):4==arguments.length?nL(nR(arguments[0]),arguments[1],arguments[2],arguments[3]):5==arguments.length?nI(nR(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6==arguments.length&&nI(nR(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},_.textMode=function(e){e7=e},_.loadGlyphs=function(e){var r,i,s,o,a,l,c,f,p,m,g,d,v=function(e,n){var r,i=0,s=[],o=RegExp(e,"g");for(r=s[i]=o.exec(n);r;)r=s[++i]=o.exec(n);return s},y=function(e){var n=v("[A-Za-z][0-9\\- ]+|Z",e);d="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",r=0,i=0,s=0,o=0,a=0,l=0,e=0,f=0,p="",m=n.length-1;for(var h=0;h<m;h++){var u=n[h][0],c=v("[0-9\\-]+",u);switch(u[0]){case"M":r=parseFloat(c[0][0]),i=parseFloat(c[1][0]),d+="curContext.moveTo("+r+","+-i+");";break;case"L":r=parseFloat(c[0][0]),i=parseFloat(c[1][0]),d+="curContext.lineTo("+r+","+-i+");";break;case"H":r=parseFloat(c[0][0]),d+="curContext.lineTo("+r+","+-i+");";break;case"V":i=parseFloat(c[0][0]),d+="curContext.lineTo("+r+","+-i+");";break;case"T":a=parseFloat(c[0][0]),l=parseFloat(c[1][0]),"Q"===p||"T"===p?(e=Math.sqrt(Math.pow(r-s,2)+Math.pow(o-i,2)),f=Math.PI+Math.atan2(s-r,o-i),s=r+Math.sin(f)*e,o=i+Math.cos(f)*e):(s=r,o=i),d+="curContext.quadraticCurveTo("+s+","+-o+","+a+","+-l+");",r=a,i=l;break;case"Q":s=parseFloat(c[0][0]),o=parseFloat(c[1][0]),a=parseFloat(c[2][0]),l=parseFloat(c[3][0]),d+="curContext.quadraticCurveTo("+s+","+-o+","+a+","+-l+");",r=a,i=l;break;case"Z":d+="curContext.closePath();"}p=u[0]}return Function("beforePathDraw","afterPathDraw",d+="afterPathDraw();curContext.translate("+g+",0);}}")(function(){return t8(),I.$ensureContext()},function(){no(),na(),t7()})},x=function(r){var i=r.getElementsByTagName("font");_.glyphTable[e].horiz_adv_x=i[0].getAttribute("horiz-adv-x");var s=r.getElementsByTagName("font-face")[0];_.glyphTable[e].units_per_em=parseFloat(s.getAttribute("units-per-em")),_.glyphTable[e].ascent=parseFloat(s.getAttribute("ascent")),_.glyphTable[e].descent=parseFloat(s.getAttribute("descent"));for(var o=r.getElementsByTagName("glyph"),a=o.length,l=0;l<a;l++){var h=o[l].getAttribute("unicode"),u=o[l].getAttribute("glyph-name");null===(g=o[l].getAttribute("horiz-adv-x"))&&(g=_.glyphTable[e].horiz_adv_x),(c=o[l].getAttribute("d"))!==n&&(d=y(c),_.glyphTable[e][u]={name:u,unicode:h,horiz_adv_x:g,draw:d.draw})}};return _.glyphTable[e]={},function(){var n;try{n=u.implementation.createDocument("","",null)}catch(e){S.debug(e.message);return}try{n.async=!1,n.load(e),x(n.getElementsByTagName("svg")[0])}catch(n){S.debug(n);try{var r=new h.XMLHttpRequest;r.open("GET",e,!1),r.send(null),x(r.responseXML.documentElement)}catch(e){S.debug(n)}}}(e),_.glyphTable[e]},_.param=function(e){var n="data-processing-"+e;if(b.hasAttribute(n))return b.getAttribute(n);for(var r=0,i=b.childNodes.length;r<i;++r){var s=b.childNodes.item(r);if(1===s.nodeType&&"param"===s.tagName.toLowerCase()&&s.getAttribute("name")===e)return s.getAttribute("value")}return L.params.hasOwnProperty(e)?L.params[e]:null},t0.prototype.translate=nO("translate"),t0.prototype.transform=nO("transform"),t0.prototype.scale=nO("scale"),t0.prototype.pushMatrix=nO("pushMatrix"),t0.prototype.popMatrix=nO("popMatrix"),t0.prototype.resetMatrix=nO("resetMatrix"),t0.prototype.applyMatrix=nO("applyMatrix"),t0.prototype.rotate=nO("rotate"),t0.prototype.rotateZ=nO("rotateZ"),t0.prototype.shearX=nO("shearX"),t0.prototype.shearY=nO("shearY"),t0.prototype.redraw=nO("redraw"),t0.prototype.toImageData=nO("toImageData"),t0.prototype.ambientLight=nO("ambientLight"),t0.prototype.directionalLight=nO("directionalLight"),t0.prototype.lightFalloff=nO("lightFalloff"),t0.prototype.lightSpecular=nO("lightSpecular"),t0.prototype.pointLight=nO("pointLight"),t0.prototype.noLights=nO("noLights"),t0.prototype.spotLight=nO("spotLight"),t0.prototype.beginCamera=nO("beginCamera"),t0.prototype.endCamera=nO("endCamera"),t0.prototype.frustum=nO("frustum"),t0.prototype.box=nO("box"),t0.prototype.sphere=nO("sphere"),t0.prototype.ambient=nO("ambient"),t0.prototype.emissive=nO("emissive"),t0.prototype.shininess=nO("shininess"),t0.prototype.specular=nO("specular"),t0.prototype.fill=nO("fill"),t0.prototype.stroke=nO("stroke"),t0.prototype.strokeWeight=nO("strokeWeight"),t0.prototype.smooth=nO("smooth"),t0.prototype.noSmooth=nO("noSmooth"),t0.prototype.point=nO("point"),t0.prototype.vertex=nO("vertex"),t0.prototype.endShape=nO("endShape"),t0.prototype.bezierVertex=nO("bezierVertex"),t0.prototype.curveVertex=nO("curveVertex"),t0.prototype.curve=nO("curve"),t0.prototype.line=nO("line"),t0.prototype.bezier=nO("bezier"),t0.prototype.rect=nO("rect"),t0.prototype.ellipse=nO("ellipse"),t0.prototype.background=nO("background"),t0.prototype.image=nO("image"),t0.prototype.textWidth=nO("textWidth"),t0.prototype.text$line=nO("text$line"),t0.prototype.$ensureContext=nO("$ensureContext"),t0.prototype.$newPMatrix=nO("$newPMatrix"),t0.prototype.size=function(e,n,r){nD(r===f.WEBGL?"3D":"2D"),_.size(e,n,r)},t0.prototype.$init=c,tQ.prototype.$init=function(){_.size(_.width,_.height),R.lineCap="round",_.noSmooth(),_.disableContextMenu()},tJ.prototype.$init=function(){_.use3DContext=!0,_.disableContextMenu()},tq.prototype.$ensureContext=function(){return R},b.getAttribute("tabindex")||b.setAttribute("tabindex",0),P)L=new S.Sketch,nD(),_.size=function(e,n,r){r&&r===f.WEBGL?nD("3D"):nD("2D"),_.size(e,n,r)};else{L=o instanceof S.Sketch?o:"function"==typeof o?new S.Sketch(o):o?S.compile(o):new S.Sketch(function(){}),_.externals.sketch=L,nD(),b.onfocus=function(){_.focused=!0},b.onblur=function(){_.focused=!1,L.options.globalKeyEvents||nB()},L.options.pauseOnBlur&&(M(h,"focus",function(){eT&&_.loop()}),M(h,"blur",function(){eT&&eC&&(_.noLoop(),eT=!0),nB()}));var nG=L.options.globalKeyEvents?h:b;for(var nV in M(nG,"keydown",function(e){var n=nN(e);if(n===f.DELETE){n$(n,new Char(127));return}if(0>tu.indexOf(n)){th=n;return}var r=new Char(f.CODED);return _.key=r,_.keyCode=n,tl[n]=r,_.keyPressed(),th=null,nk(),nF(e)}),M(nG,"keypress",function(e){if(null!==th)return n$(th,function(e){var n=e.which||e.keyCode,r=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(n){case 13:n=r?13:10;break;case 8:n=r?127:8}return new Char(n)}(e)),nF(e)}),M(nG,"keyup",function(e){var r=nN(e),i=tl[r];i!==n&&(_.key=i,_.keyCode=r,_.keyReleased(),delete tl[r],nk())}),S.lib)S.lib.hasOwnProperty(nV)&&(S.lib[nV].hasOwnProperty("attach")?S.lib[nV].attach(_):S.lib[nV]instanceof Function&&S.lib[nV].call(this));var nz=function(e){if(L.imageCache.pending||PFont.preloading.pending(100))h.setTimeout(function(){nz(e)},100);else{if(h.opera){var n,r,s=L.imageCache.operaCache;for(n in s)s.hasOwnProperty(n)&&(null!==(r=s[n])&&u.body.removeChild(r),delete s[n])}L.attach(e,i),L.onLoad(e),e.setup&&(e.setup(),e.resetMatrix(),L.onSetup()),nE(),e.draw&&(eT?e.loop():e.redraw())}};w(this),nz(_)}};return S.debug="console"in h?function(e){h.console.log("Processing.js: "+e)}:c,S.prototype=i,S.instances=A,S.getInstanceById=function(e){return A[b[e]]},!function(e){for(var n,r="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),i=r.length;i--;)e[(n=r[i]).replace("()","")]=function(e){return function(){throw"Processing.js does not support "+e+"."}}(n)}(i),S}},{}],28:[function(e,n,r){var i={virtEquals:e("./Helpers/virtEquals"),virtHashCode:e("./Helpers/virtHashCode"),ObjectIterator:e("./Helpers/ObjectIterator"),PConstants:e("./Helpers/PConstants"),ArrayList:e("./Objects/ArrayList"),HashMap:e("./Objects/HashMap"),PVector:e("./Objects/PVector"),PFont:e("./Objects/PFont"),Char:e("./Objects/Char"),XMLAttribute:e("./Objects/XMLAttribute"),XMLElement:e("./Objects/XMLElement"),PMatrix2D:e("./Objects/PMatrix2D"),PMatrix3D:e("./Objects/PMatrix3D"),PShape:e("./Objects/PShape"),colors:e("./Objects/webcolors"),PShapeSVG:e("./Objects/PShapeSVG"),CommonFunctions:e("./P5Functions/commonFunctions"),defaultScope:e("./Helpers/defaultScope"),Processing:e("./Processing"),setupParser:e("./Parser/Parser"),finalize:e("./Helpers/finalizeProcessing")};i.extend={withMath:e("./P5Functions/Math.js"),withProxyFunctions:e("./P5Functions/JavaProxyFunctions")(i.virtHashCode,i.virtEquals),withTouch:e("./P5Functions/touchmouse"),withCommonFunctions:i.CommonFunctions.withCommonFunctions},n.exports=function(n,r){var s=function(){},o=i.virtEquals,a=i.virtHashCode,l=i.PConstants,h=i.CommonFunctions,u=i.ObjectIterator,c=i.Char,f=i.XMLAttribute(),p=i.ArrayList({virtHashCode:a,virtEquals:o}),m=i.HashMap({virtHashCode:a,virtEquals:o}),g=i.PVector({PConstants:l}),d=i.PFont({Browser:n,noop:s}),v=i.XMLElement({Browser:n,XMLAttribute:f}),y=i.PMatrix2D({p:h}),x=i.PMatrix3D({p:h}),A=i.PShape({PConstants:l,PMatrix2D:y,PMatrix3D:x}),b=i.PShapeSVG({CommonFunctions:h,PConstants:l,PShape:A,XMLElement:v,colors:i.colors}),w=i.defaultScope({ArrayList:p,HashMap:m,PVector:g,PFont:d,PShapeSVG:b,ObjectIterator:u,PConstants:l,Char:c,XMLElement:v,XML:v}),E=i.Processing({defaultScope:w,Browser:n,extend:i.extend,noop:s});return E=i.setupParser(E,{Browser:n,aFunctions:r,defaultScope:w}),E=i.finalize(E,{version:e("../package.json").version,isDomPresent:n.isDomPresent,window:n.window,document:n.document,noop:s})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,"./Helpers/defaultScope":6,"./Helpers/finalizeProcessing":7,"./Helpers/virtEquals":8,"./Helpers/virtHashCode":9,"./Objects/ArrayList":10,"./Objects/Char":11,"./Objects/HashMap":12,"./Objects/PFont":13,"./Objects/PMatrix2D":14,"./Objects/PMatrix3D":15,"./Objects/PShape":16,"./Objects/PShapeSVG":17,"./Objects/PVector":18,"./Objects/XMLAttribute":19,"./Objects/XMLElement":20,"./Objects/webcolors":21,"./P5Functions/JavaProxyFunctions":22,"./P5Functions/Math.js":23,"./P5Functions/commonFunctions":24,"./P5Functions/touchmouse":25,"./Parser/Parser":26,"./Processing":27}]},{},[1]);
//# sourceMappingURL=index.d6a0f0ba.js.map
